!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){var n=r(1),i=r(16);window.Powerbi=n.PowerBi,window.powerbi=new n.PowerBi(i.hpmFactory,i.wpmpFactory,i.routerFactory)},function(e,t,r){var n=r(2),i=r(14),o=r(15),s=r(3),a=function(){function e(t,r,n,i){void 0===i&&(i={}),this.hpmFactory=t,this.wpmpFactory=r,this.routerFactory=n,this.embeds=[],window.addEventListener("message",this.onReceiveMessage.bind(this),!1),this.config=s.Utils.assign({},e.defaultConfig,i),this.config.autoEmbedOnContentLoaded&&this.enableAutoEmbed()}return e.prototype.init=function(e){var t=this;e=e&&e instanceof HTMLElement?e:document.body;var r=Array.prototype.slice.call(e.querySelectorAll("["+n.Embed.embedUrlAttribute+"]"));r.forEach(function(e){return t.embed(e)})},e.prototype.embed=function(e,t){void 0===t&&(t={});var r,n=e;return r=n.powerBiEmbed?this.embedExisting(n,t):this.embedNew(n,t)},e.prototype.embedNew=function(t,r){var o=this,a=r.type||t.getAttribute(n.Embed.typeAttribute);if(!a)throw new Error("Attempted to embed using config "+JSON.stringify(r)+" on element "+t.outerHTML+", but could not determine what type of component to embed. You must specify a type in the configuration or as an attribute such as '"+n.Embed.typeAttribute+'="'+i.Report.type.toLowerCase()+"\"'.");r.type=a;var c=s.Utils.find(function(e){return a===e.type.toLowerCase()},e.components);if(!c)throw new Error("Attempted to embed component of type: "+a+" but did not find any matching component.  Please verify the type you specified is intended.");var u=new c(this.hpmFactory,this.wpmpFactory,this.routerFactory,function(){return o.accessToken},t,r);return t.powerBiEmbed=u,this.embeds.push(u),u},e.prototype.embedExisting=function(e,t){var r=s.Utils.find(function(t){return t.element===e},this.embeds);if(!r)throw new Error("Attempted to embed using config "+JSON.stringify(t)+" on element "+e.outerHTML+" which already has embedded comopnent associated, but could not find the existing comopnent in the list of active components. This could indicate the embeds list is out of sync with the DOM, or the component is referencing the incorrect HTML element.");return r.load(t),r},e.prototype.enableAutoEmbed=function(){var e=this;window.addEventListener("DOMContentLoaded",function(t){return e.init(document.body)},!1)},e.prototype.get=function(e){var t=e;if(!t.powerBiEmbed)throw new Error("You attempted to get an instance of powerbi component associated with element: "+e.outerHTML+" but there was no associated instance.");return t.powerBiEmbed},e.prototype.reset=function(e){var t=e;if(t.powerBiEmbed){s.Utils.remove(function(e){return e===t.powerBiEmbed},this.embeds),delete t.powerBiEmbed;var r=e.querySelector("iframe");r&&r.remove()}},e.prototype.onReceiveMessage=function(t){if(t)try{var r=s.Utils.find(function(e){return t.source===e.iframe.contentWindow},this.embeds);if(r){var n="string"==typeof t.data?JSON.parse(t.data):t.data;s.Utils.raiseCustomEvent(r.element,e.eventMap[n.event],n)}}catch(i){if("function"!=typeof this.config.onError)throw i;this.config.onError.call(window,i)}},e.components=[o.Tile,i.Report],e.eventMap={tileClicked:"tile-click",tileLoaded:"tile-load",reportPageLoaded:"report-load"},e.defaultConfig={autoEmbedOnContentLoaded:!1,onError:function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return console.log(e[0],e.slice(1))}},e}();t.PowerBi=a},function(e,t,r){var n=r(3),i=r(4),o=function(){function e(t,r,i,o,s,a){var c=this;this.element=s,a.settings=n.Utils.assign({},e.defaultSettings,a.settings),this.config=n.Utils.assign({},e.defaultDebugOptions,a),this.config.accessToken=this.getAccessToken(o),this.config.embedUrl=this.getEmbedUrl();var u=e.findIdFromEmbedUrl(this.config.embedUrl);u&&(this.config.id=u);var d='<iframe style="width:100%;height:100%;" src="'+this.config.embedUrl+'" scrolling="no" allowfullscreen="true"></iframe>';this.element.innerHTML=d,this.iframe=this.element.childNodes[0],this.iframe.addEventListener("load",function(){return c.load(c.config)},!1),this.wpmp=r(this.iframe.contentWindow,this.config.wpmpName,this.config.logMessages),this.hpm=t(this.wpmp),this.router=i(this.wpmp)}return e.prototype.load=function(e){var t=i.validateLoad(e);if(t)throw t;return this.hpm.post("/report/load",e)["catch"](function(e){throw e.body})},e.prototype.getAccessToken=function(t){var r=this.config.accessToken||this.element.getAttribute(e.accessTokenAttribute)||t();if(!r)throw new Error("No access token was found for element. You must specify an access token directly on the element using attribute '"+e.accessTokenAttribute+"' or specify a global token at: powerbi.accessToken.");return r},e.prototype.getEmbedUrl=function(){var t=this.config.embedUrl||this.element.getAttribute(e.embedUrlAttribute);if("string"!=typeof t||0===t.length)throw new Error("Embed Url is required, but it was not found. You must provide an embed url either as part of embed configuration or as attribute '"+e.embedUrlAttribute+"'.");return t},e.prototype.fullscreen=function(){var e=this.iframe.requestFullscreen||this.iframe.msRequestFullscreen||this.iframe.mozRequestFullScreen||this.iframe.webkitRequestFullscreen;e.call(this.iframe)},e.prototype.exitFullscreen=function(){if(this.isFullscreen(this.iframe)){var e=document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen;e.call(document)}},e.findIdFromEmbedUrl=function(e){var t,r=/reportId="?([^&]+)"?/,n=e.match(r);return n&&(t=n[1]),t},e.prototype.isFullscreen=function(e){var t=["fullscreenElement","webkitFullscreenElement","mozFullscreenScreenElement","msFullscreenElement"];return t.some(function(t){return document[t]===e})},e.embedUrlAttribute="powerbi-embed-url",e.accessTokenAttribute="powerbi-access-token",e.typeAttribute="powerbi-type",e.defaultSettings={filterPaneEnabled:!0},e.defaultDebugOptions={logMessages:!1,wpmpName:"SdkReportWpmp"},e}();t.Embed=o},function(e,t){var r=function(){function e(){}return e.raiseCustomEvent=function(e,t,r){var n;if("function"==typeof CustomEvent?n=new CustomEvent(t,{detail:r,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!0,r)),e.dispatchEvent(n),!n.defaultPrevented&&n.returnValue){var i="on"+t.replace("-",""),o=e.getAttribute(i);o&&eval.call(e,o)}},e.findIndex=function(e,t){if(!Array.isArray(t))throw new Error("You attempted to call find with second parameter that was not an array. You passed: "+t);var r;return t.some(function(t,n){return e(t)?(r=n,!0):void 0}),r},e.find=function(t,r){var n=e.findIndex(t,r);return r[n]},e.remove=function(t,r){var n=e.findIndex(t,r);r.splice(n,1)},e.assign=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[0];if(void 0===r||null===r)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(r),i=1;i<arguments.length;i++){var o=arguments[i];if(void 0!==o&&null!==o)for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s])}return n},e}();t.Utils=r},function(e,t,r){function n(e){return e.message||(e.message=e.path+" is invalid. Not meeting "+e.keyword+" constraint"),delete e.path,delete e.keyword,e}function i(e,t){return function(r){var i=o(e,t),s=i(r);return s?void 0:i.errors.map(n)}}var o=r(5);t.validate=i,t.settingsSchema={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{filter:{type:"object"},filterPaneEnabled:{type:"boolean",messages:{type:"filterPaneEnabled must be a boolean"}},pageName:{type:"string",messages:{type:"pageName must be a string"}},pageNavigationEnabled:{type:"boolean",messages:{type:"pageNavigationEnabled must be a boolean"}}}},t.validateSettings=i(t.settingsSchema),t.loadSchema={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{accessToken:{type:"string",messages:{type:"accessToken must be a string",required:"accessToken is required"},invalidMessage:"accessToken property is invalid"},id:{type:"string",messages:{type:"id must be a string",required:"id is required"}},settings:{$ref:"#settings"}},required:["accessToken","id"]},t.validateLoad=i(t.loadSchema,{schemas:{settings:t.settingsSchema}}),t.pageTargetSchema={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{type:{type:"string","enum":["page"],messages:{type:"type must be a string","enum":"type must be 'page'",required:"type is required"}},name:{type:"string",messages:{type:"name must be a string",required:"name is required"}}},required:["type","name"]},t.validatePageTarget=i(t.pageTargetSchema),t.visualTargetSchema={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{type:{type:"string","enum":["visual"],messages:{type:"type must be a string","enum":"type must be 'visual'",required:"type is required"}},id:{type:"string",messages:{type:"id must be a string",required:"id is required"}}},required:["type","id"]},t.validateVisualTarget=i(t.visualTargetSchema),t.pageSchema={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{name:{type:"string",messages:{type:"name must be a string",required:"name is required"}},displayName:{type:"string",messages:{type:"displayName must be a string",required:"displayName is required"}}},required:["name","displayName"]},t.validatePage=i(t.pageSchema)},function(e,t,r){e.exports=r(6)},function(e,t,r){(function(t){"use strict";function n(e){var t=e instanceof RegExp?e.toString():new RegExp(e).toString();return w?(t=t.substr(1,t.length-2),t="/"+t.replace(g,"\\$&")+"/"):t}function i(e,t){return y.lastIndex=0,y.test(t)?e+"."+t:e+'["'+t+'"]'}function o(e){var t=Object.prototype.toString.call(e);return t.substr(8,t.length-9).toLowerCase()}function s(e){return(0|e)===e}function a(e){var t,r,n=Object.keys(e),i=[],o={};for(r=0;r<n.length;r++)t=k[n[r]],t&&(t.type?(o[t.type]||(o[t.type]=[]),o[t.type].push(t)):i.push(t));return i.concat(Object.keys(o).reduce(function(e,t){return e.concat(o[t])},[]))}function c(e){var t=e.replace(m,"$1");return isNaN(+t)?'"'===t[0]?'[\\"'+t.substr(1,t.length-2)+'\\"]':'." + '+t+' + "':"."+t}function u(e){return'"'+e.replace(l,c).substr(5)+'"'}function d(e){var t,r,n=e,i=o(e);if("object"===i){n={};for(t in e)n[t]=d(e[t])}else if("array"===i)for(n=[],r=0;r<e.length;r++)n[r]=d(e[r]);else{if("regexp"===i)return new RegExp(e);if("date"===i)return new Date(e.toJSON())}return n}function f(){this.objects=[],this.properties=[]}function p(e,t,r,n,i){var s,a,c,u,h;if("object"!==o(e))return t;if(e=n.resolve(e),void 0===t&&e.hasOwnProperty("default")&&(t=d(e["default"])),s=o(t),"object"===s&&"object"===o(e.properties)){for(c in e.properties)a=p(e.properties[c],t[c],r,n),void 0!==a&&(t[c]=a);for(c in t)c in e.properties||e.additionalProperties!==!1&&(r!==!1||e.additionalProperties)||(i?i.mark(t,c):delete t[c])}else if("array"===s&&e.items){if("array"===o(e.items))for(u=0;u<e.items.length;u++)a=p(e.items[u],t[u],r,n),(void 0!==a||u<t.length)&&(t[u]=a);else if(t.length)for(u=0;u<t.length;u++)t[u]=p(e.items,t[u],r,n)}else if("array"===o(e.allOf)&&e.allOf.length){for(h=new f,u=0;u<e.allOf.length;u++)t=p(e.allOf[u],t,r,n,h);h.deleteDuplicates(),h.dispose()}return t}function h(e,t){function r(e){var t,r=f.resolve(e),n=e.$ref,o=m[n];return o||(o=m[n]={key:l(),func:function(e){return t(e)}},t=i(r),Object.defineProperty(o.func,"errors",{get:function(){return t.errors}}),g[o.key]=o.func),"refs."+o.key}function i(e){function i(e){var t=l();return c.def(t,e),t}function o(e,s,d){function f(r,n){var i,o=e,a=n&&s.properties&&s.properties[n]&&s.properties[n].requiredMessage||s.invalidMessage;a||(a=n&&s.properties&&s.properties[n]&&s.properties[n].messages&&s.properties[n].messages[r]||s.messages&&s.messages[r]),e.indexOf("[")>-1?(o=u(e),n&&(o=o?o+' + ".'+n+'"':n),c("errors.push({")("path: "+o+", ")('keyword: "'+r+'"'+(a?",":"")),a&&c('message: "'+a+'"'),c("})")):(i=l(),o=o.substr(5),n&&(o=o?o+"."+n:n),g[i]={path:o,keyword:r},a&&(g[i].message=a),c("errors.push(refs."+i+")")),d||t.greedy||c("return (validate.errors = errors) && false")}var p,h,m,v,b,w,x,P,A;if(void 0!==s.$ref)return h=r(s),m=u(e),v=i(0),void c("if (!"+h+"("+e+")) {")("if ("+h+".errors) {")("errors.push.apply(errors, "+h+".errors)")("for ("+v+" = 0; "+v+" < "+h+".errors.length; "+v+"++) {")("if ("+h+".errors["+v+"].path) {")("errors[errors.length - "+h+".errors.length + "+v+"].path = "+m+' + "." + '+h+".errors["+v+"].path")("} else {")("errors[errors.length - "+h+".errors.length + "+v+"].path = "+m)("}")("}")("}")("}");for(p={path:e,schema:s,code:c,declare:i,validate:o,error:f,noFailFast:d},x=a(s),A=0;A<x.length;A++)P=x[A],P.type&&b!==P.type&&(b&&c("}"),b=P.type,c("if ("+O[P.type](e)+") {")),P(p);b&&c("}"),s.format&&t.formats&&(w=t.formats[s.format],w&&("string"==typeof w||w instanceof RegExp?(c("if (!("+n(w)+").test("+p.path+")) {"),f("format"),c("}")):"function"==typeof w&&((y.formats||(y.formats={}))[s.format]=w,(y.schemas||(y.schemas={}))[s.format]=s,c('if (!formats["'+s.format+'"]('+p.path+', schemas["'+s.format+'"])) {'),f("format"),c("}"))))}var c=x("validate","data")("var errors = []");return o("data",e),c("return (validate.errors = errors) && errors.length === 0"),s=c.compile(y),s.errors=[],s.build=function(t,r){return p(e,r&&r.copy===!1?t:d(t),r&&r.additionalProperties,f)},s}if("object"!==o(e))throw new Error(v);t=t||{};var s,c=t.missing$Ref||!1,f=new E(e,t.schemas,c),h=0,l=function(){return"i"+h++},m={},g={errors:[]},y={equal:P,unique:A,refs:g};return i(e)}var l=/\[.+?\]/g,m=/\[?(.*?)?\]/,g=/[\/]/g,y=/^[a-z_$][0-9a-z]*$/gi,v="jsen: invalid schema object",b="object"==typeof window&&!!window.navigator,w="object"==typeof t&&"v0"===t.version.split(".")[0],x=r(8),P=r(9),A=r(10),E=r(11),j=r(13),O={},k={};O["null"]=function(e){return e+" === null"},O["boolean"]=function(e){return"typeof "+e+' === "boolean"'},O.string=function(e){return"typeof "+e+' === "string"'},O.number=function(e){return"typeof "+e+' === "number"'},O.integer=function(e){return"typeof "+e+' === "number" && !('+e+" % 1)"},O.array=function(e){return e+" !== undefined && Array.isArray("+e+")"},O.object=function(e){return e+" !== undefined && typeof "+e+' === "object" && '+e+" !== null && !Array.isArray("+e+")"},O.date=function(e){return e+" !== undefined && "+e+" instanceof Date"},k.type=function(e){if(e.schema.type){var t=Array.isArray(e.schema.type)?e.schema.type:[e.schema.type],r=t.map(function(t){return O[t]?O[t](e.path)||"true":"true"}).join(" || ");r&&(e.code("if (!("+r+")) {"),e.error("type"),e.code("}"))}},k["enum"]=function(e){var t,r,n,i=e.schema["enum"],o=[];if(Array.isArray(i)){for(n=0;n<i.length;n++)t=i[n],r=typeof t,null===t||["boolean","number","string"].indexOf(r)>-1?"string"===r?o.push(e.path+' === "'+t+'"'):o.push(e.path+" === "+t):o.push("equal("+e.path+", "+JSON.stringify(t)+")");e.code("if (!("+o.join(" || ")+")) {"),e.error("enum"),e.code("}")}},k.minimum=function(e){"number"==typeof e.schema.minimum&&(e.code("if ("+e.path+" < "+e.schema.minimum+") {"),e.error("minimum"),e.code("}"))},k.exclusiveMinimum=function(e){e.schema.exclusiveMinimum===!0&&"number"==typeof e.schema.minimum&&(e.code("if ("+e.path+" === "+e.schema.minimum+") {"),e.error("exclusiveMinimum"),e.code("}"))},k.maximum=function(e){"number"==typeof e.schema.maximum&&(e.code("if ("+e.path+" > "+e.schema.maximum+") {"),e.error("maximum"),e.code("}"))},k.exclusiveMaximum=function(e){e.schema.exclusiveMaximum===!0&&"number"==typeof e.schema.maximum&&(e.code("if ("+e.path+" === "+e.schema.maximum+") {"),e.error("exclusiveMaximum"),e.code("}"))},k.multipleOf=function(e){if("number"==typeof e.schema.multipleOf){var t=e.schema.multipleOf,r=t.toString().length-t.toFixed(0).length-1,n=r>0?Math.pow(10,r):1,i=e.path;r>0?e.code("if (+(Math.round(("+i+" * "+n+') + "e+" + '+r+') + "e-" + '+r+") % "+t*n+" !== 0) {"):e.code("if ((("+i+" * "+n+") % "+t*n+") !== 0) {"),e.error("multipleOf"),e.code("}")}},k.minLength=function(e){s(e.schema.minLength)&&(e.code("if ("+e.path+".length < "+e.schema.minLength+") {"),e.error("minLength"),e.code("}"))},k.maxLength=function(e){s(e.schema.maxLength)&&(e.code("if ("+e.path+".length > "+e.schema.maxLength+") {"),e.error("maxLength"),e.code("}"))},k.pattern=function(e){var t="string"==typeof e.schema.pattern?new RegExp(e.schema.pattern):e.schema.pattern;"regexp"===o(t)&&(e.code("if (!("+n(t)+").test("+e.path+")) {"),e.error("pattern"),e.code("}"))},k.format=function(e){"string"==typeof e.schema.format&&j[e.schema.format]&&(e.code("if (!("+j[e.schema.format]+").test("+e.path+")) {"),e.error("format"),e.code("}"))},k.minItems=function(e){s(e.schema.minItems)&&(e.code("if ("+e.path+".length < "+e.schema.minItems+") {"),e.error("minItems"),e.code("}"))},k.maxItems=function(e){s(e.schema.maxItems)&&(e.code("if ("+e.path+".length > "+e.schema.maxItems+") {"),e.error("maxItems"),e.code("}"))},k.additionalItems=function(e){e.schema.additionalItems===!1&&Array.isArray(e.schema.items)&&(e.code("if ("+e.path+".length > "+e.schema.items.length+") {"),e.error("additionalItems"),e.code("}"))},k.uniqueItems=function(e){e.schema.uniqueItems&&(e.code("if (unique("+e.path+").length !== "+e.path+".length) {"),e.error("uniqueItems"),e.code("}"))},k.items=function(e){var t=e.declare(0),r=0;if("object"===o(e.schema.items))e.code("for ("+t+"; "+t+" < "+e.path+".length; "+t+"++) {"),e.validate(e.path+"["+t+"]",e.schema.items,e.noFailFast),e.code("}");else if(Array.isArray(e.schema.items)){for(;r<e.schema.items.length;r++)e.code("if ("+e.path+".length - 1 >= "+r+") {"),e.validate(e.path+"["+r+"]",e.schema.items[r],e.noFailFast),e.code("}");"object"===o(e.schema.additionalItems)&&(e.code("for ("+t+" = "+r+"; "+t+" < "+e.path+".length; "+t+"++) {"),e.validate(e.path+"["+t+"]",e.schema.additionalItems,e.noFailFast),e.code("}"))}},k.maxProperties=function(e){s(e.schema.maxProperties)&&(e.code("if (Object.keys("+e.path+").length > "+e.schema.maxProperties+") {"),e.error("maxProperties"),e.code("}"))},k.minProperties=function(e){s(e.schema.minProperties)&&(e.code("if (Object.keys("+e.path+").length < "+e.schema.minProperties+") {"),e.error("minProperties"),e.code("}"))},k.required=function(e){if(Array.isArray(e.schema.required))for(var t=0;t<e.schema.required.length;t++)e.code("if ("+i(e.path,e.schema.required[t])+" === undefined) {"),e.error("required",e.schema.required[t]),e.code("}")},k.properties=function(e){if(!e.validatedProperties){var t,r,n,s=e.schema.properties,a="object"===o(s)?Object.keys(s):[],c=e.schema.patternProperties,u="object"===o(c)?Object.keys(c):[],d=e.schema.additionalProperties,f=d===!1||"object"===o(d);if(a.length&&!u.length&&!f){for(r=0;r<a.length;r++)t=a[r],n=i(e.path,t),e.code("if ("+n+" !== undefined) {"),e.validate(n,s[t],e.noFailFast),e.code("}");e.validatedProperties=!0}}},k.patternProperties=k.additionalProperties=function(e){if(!e.validatedProperties){var t,r,s,a,c,u,d,f=e.schema.properties,p="object"===o(f)?Object.keys(f):[],h=e.schema.patternProperties,l="object"===o(h)?Object.keys(h):[],m=e.schema.additionalProperties,g=m===!1||"object"===o(m);if(p.length||l.length||g){for(t=e.declare("[]"),r=e.declare('""'),s=e.declare(0),g&&(a=e.declare(!1)),e.code(t+" = Object.keys("+e.path+")"),e.code("for ("+s+"; "+s+" < "+t+".length; "+s+"++) {")(r+" = "+t+"["+s+"]")("if ("+e.path+"["+r+"] === undefined) {")("continue")("}"),g&&e.code(a+" = false"),d=0;d<p.length;d++)c=p[d],e.code((d?"else ":"")+"if ("+r+' === "'+c+'") {'),g&&e.code(a+" = true"),e.validate(i(e.path,c),f[c],e.noFailFast),e.code("}");for(d=0;d<l.length;d++)u=l[d],e.code("if (("+n(u)+").test("+r+")) {"),g&&e.code(a+" = true"),e.validate(e.path+"["+r+"]",h[u],e.noFailFast),e.code("}");g&&(e.code("if (!"+a+") {"),m===!1?e.error("additionalProperties"):e.validate(e.path+"["+r+"]",m,e.noFailFast),e.code("}")),e.code("}"),e.validatedProperties=!0}}},k.dependencies=function(e){if("object"===o(e.schema.dependencies)){var t,r,n=0;for(t in e.schema.dependencies){if(r=e.schema.dependencies[t],e.code("if ("+i(e.path,t)+" !== undefined) {"),"object"===o(r))e.validate(e.path,r,e.noFailFast);else for(n;n<r.length;n++)e.code("if ("+i(e.path,r[n])+" === undefined) {"),e.error("dependencies",r[n]),e.code("}");e.code("}")}}},k.allOf=function(e){if(Array.isArray(e.schema.allOf))for(var t=0;t<e.schema.allOf.length;t++)e.validate(e.path,e.schema.allOf[t],e.noFailFast)},k.anyOf=function(e){if(Array.isArray(e.schema.anyOf)){var t=e.declare(0),r=e.declare(0),n=e.declare(!1),i=0;for(e.code(r+" = errors.length");i<e.schema.anyOf.length;i++)e.code("if (!"+n+") {"),e.code(t+" = errors.length"),e.validate(e.path,e.schema.anyOf[i],!0),e.code(n+" = errors.length === "+t)("}");e.code("if (!"+n+") {"),e.error("anyOf"),e.code("} else {")("errors.length = "+r)("}")}},k.oneOf=function(e){if(Array.isArray(e.schema.oneOf)){var t=e.declare(0),r=e.declare(0),n=e.declare(0),i=0;for(e.code(r+" = errors.length");i<e.schema.oneOf.length;i++)e.code(n+" = errors.length"),e.validate(e.path,e.schema.oneOf[i],!0),e.code("if (errors.length === "+n+") {")(t+"++")("}");e.code("if ("+t+" !== 1) {"),e.error("oneOf"),e.code("} else {")("errors.length = "+r)("}")}},k.not=function(e){if("object"===o(e.schema.not)){var t=e.declare(0);e.code(t+" = errors.length"),e.validate(e.path,e.schema.not,!0),e.code("if (errors.length === "+t+") {"),e.error("not"),e.code("} else {")("errors.length = "+t)("}")}},["minimum","exclusiveMinimum","maximum","exclusiveMaximum","multipleOf"].forEach(function(e){k[e].type="number"}),["minLength","maxLength","pattern","format"].forEach(function(e){k[e].type="string"}),["minItems","maxItems","additionalItems","uniqueItems","items"].forEach(function(e){k[e].type="array"}),["maxProperties","minProperties","required","properties","patternProperties","additionalProperties","dependencies"].forEach(function(e){k[e].type="object"}),f.prototype.mark=function(e,t){var r,n=this.objects.indexOf(e);return 0>n?(this.objects.push(e),r={},r[t]=1,void this.properties.push(r)):(r=this.properties[n],void(r[t]=r[t]?r[t]+1:1))},f.prototype.deleteDuplicates=function(){var e,t;for(t=0;t<this.properties.length;t++)for(e in this.properties[t])this.properties[t][e]>1&&delete this.objects[t][e]},f.prototype.dispose=function(){this.objects.length=0,this.properties.length=0},h.browser=b,h.clone=d,h.equal=P,h.unique=A,h.resolve=E.resolvePointer,e.exports=h}).call(t,r(7))},function(e,t){function r(){u=!1,s.length?c=s.concat(c):d=-1,c.length&&n()}function n(){if(!u){var e=setTimeout(r);u=!0;for(var t=c.length;t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,u=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function o(){}var s,a=e.exports={},c=[],u=!1,d=-1;a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new i(e,t)),1!==c.length||u||setTimeout(n,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=o,a.addListener=o,a.once=o,a.off=o,a.removeListener=o,a.removeAllListeners=o,a.emit=o,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t){"use strict";e.exports=function(){var e=arguments[0]||"",t=[].join.call([].slice.call(arguments,1),", "),r="",n="",i=1,o="  ",s="{[",a="}]",c=function(){return new Array(i+1).join(o)},u=function(e){r+=c()+e+"\n"},d=function(e){var t=e[0],r=e[e.length-1];return a.indexOf(t)>-1&&s.indexOf(r)>-1?(i--,u(e),i++):s.indexOf(r)>-1?(u(e),i++):a.indexOf(t)>-1?(i--,u(e)):u(e),d};return d.def=function(e,t){return n+=c()+"var "+e+(void 0!==t?" = "+t:"")+"\n",d},d.toSource=function(){return"function "+e+"("+t+") {\n"+n+"\n"+r+"\n}"},d.compile=function(e){var t="return ("+d.toSource()+")",r=e||{},n=Object.keys(r),i=n.map(function(e){return r[e]});return Function.apply(null,n.concat(t)).apply(null,i)},d}},function(e,t){"use strict";function r(e){var t=Object.prototype.toString.call(e);return t.substr(8,t.length-9).toLowerCase()}function n(e,t){var r,n,o=Object.keys(e).sort(),s=Object.keys(t).sort();if(!i(o,s))return!1;for(r=0;r<o.length;r++)if(n=o[r],!i(e[n],t[n]))return!1;return!0}function i(e,t){var o,s=typeof e,a=typeof t;if("object"===s&&(s=r(e)),"object"===a&&(a=r(t)),s!==a)return!1;if("object"===s)return n(e,t);if("regexp"===s)return e.toString()===t.toString();if("array"===s){if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(!i(e[o],t[o]))return!1;return!0}return e===t}e.exports=i},function(e,t,r){"use strict";function n(e,t,r){for(var n=0,i=e.length;i>n;n++)if(r(e[n],t))return n;return-1}var i=r(9);e.exports=function(e){return e.filter(function(e,t,r){return n(r,e,i)===t})},e.exports.findIndex=n},function(e,t,r){"use strict";function n(e,t){if(!t.length)return e;var r,i=t.shift();e&&"object"==typeof e&&e.hasOwnProperty(i)&&(r=e[i]);{if(!t.length)return r;if(r&&"object"==typeof r)return n(r,t)}}function i(e){var t,r=e.indexOf("#");return 0!==r?[e]:(e=e.substr(r+1))?(t=e.split("/").map(function(e){return decodeURIComponent(e).replace(/~1/g,"/").replace(/~0/g,"~")}),"/"===e[0]&&t.shift(),t):[]}function o(e,t){return e&&"object"==typeof e?e.id===t?e:Object.keys(e).reduce(function(r,n){return r||o(e[n],t)},void 0):void 0}function s(e){var t,r,n=Object.keys(e),i={};for(r=0;r<n.length;r++)t=n[r],i[t]=new a(e[t]);return i}function a(e,t,r){this.rootSchema=e,this.resolvedRootSchema=null,this.cache={},this.missing$Ref=r,this.resolvers=t&&"object"==typeof t?s(t):null}var c=r(12),u="jsen: invalid schema reference";a.prototype.resolveRef=function(e){var t,r,s,a=new Error(u+" "+e),d=this.rootSchema,f=this.resolvedRootSchema;if(!e||"string"!=typeof e)throw a;if(e===c.id&&(s=c),void 0===s&&f&&(s=o(f,e)),void 0===s&&(s=o(d,e)),void 0===s&&(r=i(e),f&&(s=n(f,r.slice(0))),void 0===s&&(s=n(d,r.slice(0)))),void 0===s&&r.length&&this.resolvers&&(t=n(this.resolvers,r),t&&(s=t.resolve(t.rootSchema))),void 0===s||"object"!=typeof s){if(!this.missing$Ref)throw a;s={}}return this.cache[e]===s?s:(this.cache[e]=s,void 0!==s.$ref&&(s=this.cache[e]=this.resolveRef(s.$ref)),s)},a.prototype.resolve=function(e){if(!e||"object"!=typeof e)return e;var t=e.$ref,r=this.cache[t];return void 0===t?e:void 0!==r?r:(r=this.resolveRef(t),e===this.rootSchema&&e!==r&&(this.resolvedRootSchema=r),r)},a.resolvePointer=function(e,t){return n(e,i(t))},e.exports=a},function(e,t){e.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{"default":0}]},simpleTypes:{anyOf:[{"enum":["array","boolean","integer","null","number","object","string","any"]},{type:"string"}]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},"default":{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean","default":!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean","default":!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],"default":{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean","default":!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},definitions:{type:"object",additionalProperties:{$ref:"#"},"default":{}},properties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},"enum":{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},"default":{}}},function(e,t){"use strict";var r={};r["date-time"]=/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)(:)?(\d\d)(\.\d+)?(Z|([+-])(\d\d)(:)?(\d\d))/,r.uri=/^([a-zA-Z][a-zA-Z0-9+-.]*:){0,1}\/\/[^\s]*$/,r.email=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,r.ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,r.ipv6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|[fF][eE]80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::([fF]{4}(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,r.hostname=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]))*$/,e.exports=r},function(e,t,r){var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(2),o=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.addFilter=function(e,t){var r=this.getTargetUrl(t);return this.hpm.post(r+"/filters",e)["catch"](function(e){throw e.body})},t.prototype.getFilters=function(e){var t=this.getTargetUrl(e);return this.hpm.get(t+"/filters").then(function(e){return e.body},function(e){throw e.body})},t.prototype.getPages=function(){return this.hpm.get("/report/pages").then(function(e){return e.body},function(e){throw e.body})},t.prototype.on=function(e,r){if(-1===t.allowedEvents.indexOf(e))throw new Error("eventName is must be one of "+t.allowedEvents+". You passed: "+e);this.router.post("/report/events/"+e,function(e,t){r(e.body)})},t.prototype.setPage=function(e){var t={name:e,displayName:null};return this.hpm.put("/report/pages/active",t)["catch"](function(e){throw e.body})},t.prototype.removeFilter=function(e,t){var r=this.getTargetUrl(t);return this.hpm["delete"](r+"/filters",e)["catch"](function(e){throw e.body})},t.prototype.removeAllFilters=function(){return this.hpm["delete"]("/report/allfilters",null)["catch"](function(e){throw e.body})},t.prototype.updateFilter=function(e,t){var r=this.getTargetUrl(t);return this.hpm.put(r+"/filters",e)["catch"](function(e){throw e.body})},t.prototype.updateSettings=function(e){return this.hpm.patch("/report/settings",e)["catch"](function(e){throw e.body})},t.prototype.getTargetUrl=function(e){var t;if(e)if("page"===e.type)t="/report/pages/"+e.name;else{if("visual"!==e.type)throw new Error("target.type must be either 'page' or 'visual'. You passed: "+e.type);t="/report/visuals/"+e.id}else t="/report";return t},t.allowedEvents=["dataSelected","filterAdded","filterUpdated","filterRemoved","pageChanged","error"],
t.type="Report",t}(i.Embed);t.Report=o},function(e,t,r){var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(2),o=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.type="Tile",t}(i.Embed);t.Tile=o},function(e,t,r){var n=r(17),i=r(21),o=r(25);t.hpmFactory=function(e,t,r,n){return void 0===t&&(t="2.0.0"),void 0===r&&(r="js"),void 0===n&&(n="sdk"),new i.HttpPostMessage(e,{origin:n,"x-sdk-type":r,"x-sdk-version":t})},t.wpmpFactory=function(e,t,r){return new n.WindowPostMessageProxy(e,{processTrackingProperties:{addTrackingProperties:i.HttpPostMessage.addTrackingProperties,getTrackingProperties:i.HttpPostMessage.getTrackingProperties},isErrorMessage:i.HttpPostMessage.isErrorMessage,name:t,logMessages:r})},t.routerFactory=function(e){return new o.Router(e)}},function(e,t,r){var n,i,o;!function(s){if("object"==typeof e&&"object"==typeof e.exports){var a=s(r(18),t);void 0!==a&&(e.exports=a)}else i=[r,t],n=s,o="function"==typeof n?n.apply(t,i):n,!(void 0!==o&&(e.exports=o))}(function(e,t){"use strict";var r=function(){function e(t,r){var n=this;void 0===r&&(r={processTrackingProperties:{addTrackingProperties:e.defaultAddTrackingProperties,getTrackingProperties:e.defaultGetTrackingProperties},isErrorMessage:e.defaultIsErrorMessage,receiveWindow:window,name:e.createRandomString()}),this.pendingRequestPromises={},this.contentWindow=t,this.addTrackingProperties=r.processTrackingProperties&&r.processTrackingProperties.addTrackingProperties||e.defaultAddTrackingProperties,this.getTrackingProperties=r.processTrackingProperties&&r.processTrackingProperties.getTrackingProperties||e.defaultGetTrackingProperties,this.isErrorMessage=r.isErrorMessage||e.defaultIsErrorMessage,this.receiveWindow=r.receiveWindow||window,this.name=r.name||e.createRandomString(),this.logMessages=r.logMessages||!1,this.handlers=[],this.windowMessageHandler=function(e){return n.onMessageReceived(e)},this.start()}return e.defaultAddTrackingProperties=function(t,r){return t[e.messagePropertyName]=r,t},e.defaultGetTrackingProperties=function(t){return t[e.messagePropertyName]},e.defaultIsErrorMessage=function(e){return!!e.error},e.prototype.addHandler=function(e){this.handlers.push(e)},e.prototype.removeHandler=function(e){var t=this.handlers.indexOf(e);if(-1==t)throw new Error("You attempted to remove a handler but no matching handler was found.");this.handlers.splice(t,1)},e.prototype.start=function(){this.receiveWindow.addEventListener("message",this.windowMessageHandler)},e.prototype.stop=function(){this.receiveWindow.removeEventListener("message",this.windowMessageHandler)},e.prototype.postMessage=function(t){var r={id:e.createRandomString()};this.addTrackingProperties(t,r),this.logMessages&&(console.log(this.name+" Posting message:"),console.log(JSON.stringify(t,null,"  "))),this.contentWindow.postMessage(t,"*");var n=e.createDeferred();return this.pendingRequestPromises[r.id]=n,n.promise},e.prototype.sendResponse=function(e,t){this.addTrackingProperties(e,t),this.logMessages&&(console.log(this.name+" Sending response:"),console.log(JSON.stringify(e,null,"  "))),this.contentWindow.postMessage(e,"*")},e.prototype.onMessageReceived=function(e){var t=this;this.logMessages&&(console.log(this.name+" Received message:"),console.log("type: "+e.type),console.log(JSON.stringify(e.data,null,"  ")));var r=e.data,n=this.getTrackingProperties(r);if(n){var i=this.pendingRequestPromises[n.id];if(i)this.isErrorMessage(r)?i.reject(r):i.resolve(r),delete this.pendingRequestPromises[n.id];else{var o=this.handlers.some(function(e){return e.test(r)?(Promise.resolve(e.handle(r)).then(function(e){t.sendResponse(e,n)}),!0):void 0});o||console.warn("Proxy("+this.name+") did not handle message. Handlers: "+this.handlers.length+"  Message: "+JSON.stringify(r,null,"")+".")}}},e.createDeferred=function(){var e={resolve:null,reject:null,promise:null},t=new Promise(function(t,r){e.resolve=t,e.reject=r});return e.promise=t,e},e.createRandomString=function(){return(Math.random()+1).toString(36).substring(7)},e.messagePropertyName="windowPostMessageProxy",e}();t.WindowPostMessageProxy=r})},function(e,t,r){function n(e){return r(i(e))}function i(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./windowPostMessageProxy":17,"./windowPostMessageProxy.d":19,"./windowPostMessageProxy.d.ts":19,"./windowPostMessageProxy.js":17,"./windowPostMessageProxy.js.map":20};n.keys=function(){return Object.keys(o)},n.resolve=i,e.exports=n,n.id=18},function(e,t){},function(e,t){},function(e,t,r){var n,i,o;!function(s){if("object"==typeof e&&"object"==typeof e.exports){var a=s(r(22),t);void 0!==a&&(e.exports=a)}else i=[r,t],n=s,o="function"==typeof n?n.apply(t,i):n,!(void 0!==o&&(e.exports=o))}(function(e,t){"use strict";var r=function(){function e(e,t){void 0===t&&(t={}),this.defaultHeaders=t,this.windowPostMessageProxy=e}return e.addTrackingProperties=function(e,t){return e.headers=e.headers||{},e.headers.id=t.id,e},e.getTrackingProperties=function(e){return{id:e.headers.id}},e.isErrorMessage=function(e){return!(200<=e.statusCode&&e.statusCode<300)},e.prototype.get=function(e,t){return void 0===t&&(t={}),this.send({method:"GET",url:e,headers:t})},e.prototype.post=function(e,t,r){return void 0===r&&(r={}),this.send({method:"POST",url:e,headers:r,body:t})},e.prototype.put=function(e,t,r){return void 0===r&&(r={}),this.send({method:"PUT",url:e,headers:r,body:t})},e.prototype.patch=function(e,t,r){return void 0===r&&(r={}),this.send({method:"PATCH",url:e,headers:r,body:t})},e.prototype["delete"]=function(e,t,r){return void 0===r&&(r={}),this.send({method:"DELETE",url:e,headers:r,body:t})},e.prototype.send=function(e){return this.assign(e.headers,this.defaultHeaders),this.windowPostMessageProxy.postMessage(e)},e.prototype.assign=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");var n=Object(e);return t.forEach(function(e){if(void 0!==e&&null!==e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}),n},e}();t.HttpPostMessage=r})},function(e,t,r){function n(e){return r(i(e))}function i(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./httpPostMessage":21,"./httpPostMessage.d":23,"./httpPostMessage.d.ts":23,"./httpPostMessage.js":21,"./httpPostMessage.js.map":24};n.keys=function(){return Object.keys(o)},n.resolve=i,e.exports=n,n.id=22},function(e,t){},function(e,t){},function(e,t,r){!function(t,r){e.exports=r()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";var n=r(1),i=function(){function e(e){this.handlers=e,this.getRouteRecognizer=new n,this.patchRouteRecognizer=new n,this.postRouteRecognizer=new n,this.putRouteRecognizer=new n,this.deleteRouteRecognizer=new n}return e.prototype.get=function(e,t){return this.registerHandler(this.getRouteRecognizer,"GET",e,t),this},e.prototype.patch=function(e,t){return this.registerHandler(this.patchRouteRecognizer,"PATCH",e,t),this},e.prototype.post=function(e,t){return this.registerHandler(this.postRouteRecognizer,"POST",e,t),this},e.prototype.put=function(e,t){return this.registerHandler(this.putRouteRecognizer,"PUT",e,t),this},e.prototype["delete"]=function(e,t){return this.registerHandler(this.deleteRouteRecognizer,"DELETE",e,t),this},e.prototype.registerHandler=function(e,t,r,n){var i=function(e){var t=new o;return Promise.resolve(n(e,t)).then(function(e){return t})};e.add([{path:r,handler:i}]);var s={test:function(r){if(r.method!==t)return!1;var n=e.recognize(r.url);if(void 0===n)return!1;var i=n[0];return r.params=i.params,r.queryParams=n.queryParams,r.handler=i.handler,!0},handle:function(e){return e.handler(e)}};this.handlers.addHandler(s)},e}();t.Router=i;var o=function(){function e(){this.statusCode=200,this.headers={},this.body=null}return e.prototype.send=function(e,t){this.statusCode=e,this.body=t},e}();t.Response=o},function(e,t,r){var n;(function(e){(function(){"use strict";function i(e,t,r){this.path=e,this.matcher=t,this.delegate=r}function o(e){this.routes={},this.children={},this.target=e}function s(e,t,r){return function(n,o){var a=e+n;return o?void o(s(a,t,r)):new i(e+n,t,r)}}function a(e,t,r){for(var n=0,i=0;i<e.length;i++)n+=e[i].path.length;t=t.substr(n);var o={path:t,handler:r};e.push(o)}function c(e,t,r,n){var i=t.routes;for(var o in i)if(i.hasOwnProperty(o)){var s=e.slice();a(s,o,i[o]),t.children[o]?c(s,t.children[o],r,n):r.call(n,s)}}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e){this.string=e}function f(e){this.name=e}function p(e){this.name=e}function h(){}function l(e,t,r){"/"===e.charAt(0)&&(e=e.substr(1));var n=e.split("/"),i=new Array(n.length);r.val="";for(var o=0;o<n.length;o++){var s,a=n[o];(s=a.match(/^:([^\/]+)$/))?(i[o]=new f(s[1]),t.push(s[1]),r.val+="3"):(s=a.match(/^\*([^\/]+)$/))?(i[o]=new p(s[1]),r.val+="1",t.push(s[1])):""===a?(i[o]=new h,r.val+="2"):(i[o]=new d(a),r.val+="4")}return r.val=+r.val,i}function m(e){this.charSpec=e,this.nextStates=[],this.charSpecs={},this.regex=void 0,this.handlers=void 0,this.specificity=void 0}function g(e){return e.sort(function(e,t){return t.specificity.val-e.specificity.val})}function y(e,t){for(var r=[],n=0,i=e.length;i>n;n++){var o=e[n];r=r.concat(o.match(t))}return r}function v(e){this.queryParams=e||{}}function b(e,t,r){var n=e.handlers,i=e.regex,o=t.match(i),s=1,a=new v(r);a.length=n.length;for(var c=0;c<n.length;c++){for(var u=n[c],d=u.names,f={},p=0;p<d.length;p++)f[d[p]]=o[s++];a[c]={handler:u.handler,params:f,isDynamic:!!d.length}}return a}function w(e){e=e.replace(/\+/gm,"%20");var t;try{t=decodeURIComponent(e)}catch(r){t=""}return t}i.prototype={to:function(e,t){var r=this.delegate;if(r&&r.willAddRoute&&(e=r.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),t){if(0===t.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,e,t,this.delegate)}return this}},o.prototype={add:function(e,t){this.routes[e]=t},addChild:function(e,t,r,n){var i=new o(t);this.children[e]=i;var a=s(e,i,n);n&&n.contextEntered&&n.contextEntered(t,a),r(a)}};var x=function(e,t){var r=new o;e(s("",r,this.delegate)),c([],r,function(e){t?t(this,e):this.add(e)},this)},P=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],A=new RegExp("(\\"+P.join("|\\")+")","g");d.prototype={eachChar:function(e){for(var t,r=this.string,n=0;n<r.length;n++)t=r.charAt(n),e=e.put({invalidChars:void 0,repeat:!1,validChars:t});return e},regex:function(){return this.string.replace(A,"\\$1")},generate:function(){return this.string}},f.prototype={eachChar:function(e){return e.put({invalidChars:"/",repeat:!0,validChars:void 0})},regex:function(){return"([^/]+)"},generate:function(e){return e[this.name]}},p.prototype={eachChar:function(e){return e.put({invalidChars:"",repeat:!0,validChars:void 0})},regex:function(){return"(.+)"},generate:function(e){return e[this.name]}},h.prototype={eachChar:function(e){return e},regex:function(){return""},generate:function(){return""}},m.prototype={get:function(e){if(this.charSpecs[e.validChars])return this.charSpecs[e.validChars];for(var t=this.nextStates,r=0;r<t.length;r++){var n=t[r],i=n.charSpec.validChars===e.validChars;if(i=i&&n.charSpec.invalidChars===e.invalidChars)return this.charSpecs[e.validChars]=n,n}},put:function(e){var t;return(t=this.get(e))?t:(t=new m(e),this.nextStates.push(t),e.repeat&&t.nextStates.push(t),t)},match:function(e){for(var t,r,n,i=this.nextStates,o=[],s=0;s<i.length;s++)t=i[s],r=t.charSpec,"undefined"!=typeof(n=r.validChars)?-1!==n.indexOf(e)&&o.push(t):"undefined"!=typeof(n=r.invalidChars)&&-1===n.indexOf(e)&&o.push(t);return o}};var E=Object.create||function(e){function t(){}return t.prototype=e,new t};v.prototype=E({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var j=function(){this.rootState=new m,this.names={}};j.prototype={add:function(e,t){for(var r,n=this.rootState,i="^",o={},s=new Array(e.length),a=[],c=!0,u=0;u<e.length;u++){var d=e[u],f=[],p=l(d.path,f,o);a=a.concat(p);for(var m=0;m<p.length;m++){var g=p[m];g instanceof h||(c=!1,n=n.put({invalidChars:void 0,repeat:!1,validChars:"/"}),i+="/",n=g.eachChar(n),i+=g.regex())}var y={handler:d.handler,names:f};s[u]=y}c&&(n=n.put({invalidChars:void 0,repeat:!1,validChars:"/"}),i+="/"),n.handlers=s,n.regex=new RegExp(i+"$"),n.specificity=o,(r=t&&t.as)&&(this.names[r]={segments:a,handlers:s})},handlersFor:function(e){var t=this.names[e];if(!t)throw new Error("There is no route named "+e);for(var r=new Array(t.handlers.length),n=0;n<t.handlers.length;n++)r[n]=t.handlers[n];return r},hasRoute:function(e){return!!this.names[e]},generate:function(e,t){var r=this.names[e],n="";if(!r)throw new Error("There is no route named "+e);for(var i=r.segments,o=0;o<i.length;o++){var s=i[o];s instanceof h||(n+="/",n+=s.generate(t))}return"/"!==n.charAt(0)&&(n="/"+n),t&&t.queryParams&&(n+=this.generateQueryString(t.queryParams,r.handlers)),n},generateQueryString:function(e,t){var r=[],n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(i);n.sort();for(var o=0;o<n.length;o++){i=n[o];var s=e[i];if(null!=s){var a=encodeURIComponent(i);if(u(s))for(var c=0;c<s.length;c++){var d=i+"[]="+encodeURIComponent(s[c]);r.push(d)}else a+="="+encodeURIComponent(s),r.push(a)}}return 0===r.length?"":"?"+r.join("&")},parseQueryString:function(e){for(var t=e.split("&"),r={},n=0;n<t.length;n++){var i,o=t[n].split("="),s=w(o[0]),a=s.length,c=!1;1===o.length?i="true":(a>2&&"[]"===s.slice(a-2)&&(c=!0,s=s.slice(0,a-2),r[s]||(r[s]=[])),i=o[1]?w(o[1]):""),c?r[s].push(i):r[s]=i}return r},recognize:function(e){var t,r,n,i=[this.rootState],o={},s=!1;if(n=e.indexOf("?"),-1!==n){var a=e.substr(n+1,e.length);e=e.substr(0,n),o=this.parseQueryString(a)}for(e=decodeURI(e),"/"!==e.charAt(0)&&(e="/"+e),t=e.length,t>1&&"/"===e.charAt(t-1)&&(e=e.substr(0,t-1),s=!0),r=0;r<e.length&&(i=y(i,e.charAt(r)),i.length);r++);var c=[];for(r=0;r<i.length;r++)i[r].handlers&&c.push(i[r]);i=g(c);var u=c[0];return u&&u.handlers?(s&&"(.+)$"===u.regex.source.slice(-5)&&(e+="/"),b(u,e,o)):void 0}},j.prototype.map=x,j.VERSION="0.1.11";var O=j;r(3).amd?(n=function(){return O}.call(t,r,t,e),!(void 0!==n&&(e.exports=n))):"undefined"!=typeof e&&e.exports?e.exports=O:"undefined"!=typeof this&&(this.RouteRecognizer=O)}).call(this)}).call(t,r(2)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}}])})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvd2VyYmkuanMiXSwibmFtZXMiOlsibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJleHBvcnRzIiwibW9kdWxlIiwiaWQiLCJsb2FkZWQiLCJjYWxsIiwibSIsImMiLCJwIiwiY29yZV8xIiwiZmFjdG9yaWVzIiwid2luZG93IiwiUG93ZXJiaSIsIlBvd2VyQmkiLCJwb3dlcmJpIiwiaHBtRmFjdG9yeSIsIndwbXBGYWN0b3J5Iiwicm91dGVyRmFjdG9yeSIsImVtYmVkIiwicmVwb3J0XzEiLCJ0aWxlXzEiLCJ1dGlsXzEiLCJjb25maWciLCJ0aGlzIiwiZW1iZWRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uUmVjZWl2ZU1lc3NhZ2UiLCJiaW5kIiwiVXRpbHMiLCJhc3NpZ24iLCJkZWZhdWx0Q29uZmlnIiwiYXV0b0VtYmVkT25Db250ZW50TG9hZGVkIiwiZW5hYmxlQXV0b0VtYmVkIiwicHJvdG90eXBlIiwiaW5pdCIsImNvbnRhaW5lciIsIl90aGlzIiwiSFRNTEVsZW1lbnQiLCJkb2N1bWVudCIsImJvZHkiLCJlbGVtZW50cyIsIkFycmF5Iiwic2xpY2UiLCJxdWVyeVNlbGVjdG9yQWxsIiwiRW1iZWQiLCJlbWJlZFVybEF0dHJpYnV0ZSIsImZvckVhY2giLCJlbGVtZW50IiwiY29tcG9uZW50IiwicG93ZXJCaUVsZW1lbnQiLCJwb3dlckJpRW1iZWQiLCJlbWJlZEV4aXN0aW5nIiwiZW1iZWROZXciLCJjb21wb25lbnRUeXBlIiwidHlwZSIsImdldEF0dHJpYnV0ZSIsInR5cGVBdHRyaWJ1dGUiLCJFcnJvciIsIkpTT04iLCJzdHJpbmdpZnkiLCJvdXRlckhUTUwiLCJSZXBvcnQiLCJ0b0xvd2VyQ2FzZSIsIkNvbXBvbmVudCIsImZpbmQiLCJjb21wb25lbnRzIiwiYWNjZXNzVG9rZW4iLCJwdXNoIiwieCIsImxvYWQiLCJldmVudCIsImdldCIsInJlc2V0IiwicmVtb3ZlIiwiaWZyYW1lIiwicXVlcnlTZWxlY3RvciIsImVtYmVkXzEiLCJzb3VyY2UiLCJjb250ZW50V2luZG93IiwibWVzc2FnZURhdGEiLCJkYXRhIiwicGFyc2UiLCJyYWlzZUN1c3RvbUV2ZW50IiwiZXZlbnRNYXAiLCJlIiwib25FcnJvciIsIlRpbGUiLCJ0aWxlQ2xpY2tlZCIsInRpbGVMb2FkZWQiLCJyZXBvcnRQYWdlTG9hZGVkIiwiYXJncyIsIl9pIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY29uc29sZSIsImxvZyIsInByb3RvY29sIiwiZ2V0R2xvYmFsQWNjZXNzVG9rZW4iLCJzZXR0aW5ncyIsImRlZmF1bHRTZXR0aW5ncyIsImRlZmF1bHREZWJ1Z09wdGlvbnMiLCJnZXRBY2Nlc3NUb2tlbiIsImVtYmVkVXJsIiwiZ2V0RW1iZWRVcmwiLCJmaW5kSWRGcm9tRW1iZWRVcmwiLCJpZnJhbWVIdG1sIiwiaW5uZXJIVE1MIiwiY2hpbGROb2RlcyIsIndwbXAiLCJ3cG1wTmFtZSIsImxvZ01lc3NhZ2VzIiwiaHBtIiwicm91dGVyIiwiZXJyb3JzIiwidmFsaWRhdGVMb2FkIiwicG9zdCIsInJlc3BvbnNlIiwiYWNjZXNzVG9rZW5BdHRyaWJ1dGUiLCJmdWxsc2NyZWVuIiwicmVxdWVzdEZ1bGxTY3JlZW4iLCJyZXF1ZXN0RnVsbHNjcmVlbiIsIm1zUmVxdWVzdEZ1bGxzY3JlZW4iLCJtb3pSZXF1ZXN0RnVsbFNjcmVlbiIsIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuIiwiZXhpdEZ1bGxzY3JlZW4iLCJpc0Z1bGxzY3JlZW4iLCJtb3pDYW5jZWxGdWxsU2NyZWVuIiwid2Via2l0RXhpdEZ1bGxzY3JlZW4iLCJtc0V4aXRGdWxsc2NyZWVuIiwidXJsIiwicmVwb3J0SWQiLCJyZXBvcnRJZFJlZ0V4IiwicmVwb3J0SWRNYXRjaCIsIm1hdGNoIiwib3B0aW9ucyIsInNvbWUiLCJvcHRpb24iLCJmaWx0ZXJQYW5lRW5hYmxlZCIsImV2ZW50TmFtZSIsImV2ZW50RGF0YSIsImN1c3RvbUV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImNyZWF0ZUV2ZW50IiwiaW5pdEN1c3RvbUV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJyZXR1cm5WYWx1ZSIsImlubGluZUV2ZW50QXR0ciIsInJlcGxhY2UiLCJpbmxpbmVTY3JpcHQiLCJldmFsIiwiZmluZEluZGV4IiwicHJlZGljYXRlIiwieHMiLCJpc0FycmF5IiwiaW5kZXgiLCJpIiwic3BsaWNlIiwidGFyZ2V0IiwidW5kZWZpbmVkIiwiVHlwZUVycm9yIiwib3V0cHV0IiwiT2JqZWN0IiwibmV4dEtleSIsImhhc093blByb3BlcnR5Iiwibm9ybWFsaXplRXJyb3IiLCJlcnJvciIsIm1lc3NhZ2UiLCJwYXRoIiwia2V5d29yZCIsInZhbGlkYXRlIiwic2NoZW1hIiwianNlbiIsImlzVmFsaWQiLCJtYXAiLCJzZXR0aW5nc1NjaGVtYSIsIiRzY2hlbWEiLCJwcm9wZXJ0aWVzIiwiZmlsdGVyIiwibWVzc2FnZXMiLCJwYWdlTmFtZSIsInBhZ2VOYXZpZ2F0aW9uRW5hYmxlZCIsInZhbGlkYXRlU2V0dGluZ3MiLCJsb2FkU2NoZW1hIiwicmVxdWlyZWQiLCJpbnZhbGlkTWVzc2FnZSIsIiRyZWYiLCJzY2hlbWFzIiwicGFnZVRhcmdldFNjaGVtYSIsImVudW0iLCJuYW1lIiwidmFsaWRhdGVQYWdlVGFyZ2V0IiwidmlzdWFsVGFyZ2V0U2NoZW1hIiwidmFsaWRhdGVWaXN1YWxUYXJnZXQiLCJwYWdlU2NoZW1hIiwiZGlzcGxheU5hbWUiLCJ2YWxpZGF0ZVBhZ2UiLCJwcm9jZXNzIiwiaW5saW5lUmVnZXgiLCJyZWdleCIsInN0ciIsIlJlZ0V4cCIsInRvU3RyaW5nIiwibm9kZXYwIiwic3Vic3RyIiwiUkVHRVhfRVNDQVBFX0VYUFIiLCJhcHBlbmRUb1BhdGgiLCJrZXkiLCJWQUxJRF9JREVOVElGSUVSX0VYUFIiLCJsYXN0SW5kZXgiLCJ0ZXN0Iiwib2JqIiwiaXNJbnRlZ2VyIiwiZ2V0R2VuZXJhdG9ycyIsImdlbiIsImtleXMiLCJzdGFydCIsInBlclR5cGUiLCJrZXl3b3JkcyIsImNvbmNhdCIsInJlZHVjZSIsImFyciIsInJlcGxhY2VJbmRleGVkUHJvcGVydHkiLCJQQVRIX1BST1BfUkVQTEFDRV9FWFBSIiwiaXNOYU4iLCJnZXRQYXRoRXhwcmVzc2lvbiIsIlBBVEhfUkVQTEFDRV9FWFBSIiwiY2xvbmUiLCJjbG9uZWQiLCJvYmpUeXBlIiwiRGF0ZSIsInRvSlNPTiIsIlByb3BlcnR5TWFya2VyIiwib2JqZWN0cyIsImJ1aWxkIiwiZGVmIiwiYWRkaXRpb25hbCIsInJlc29sdmVyIiwicGFyZW50TWFya2VyIiwiZGVmVHlwZSIsImRlZlZhbHVlIiwicHJvcGVydHlNYXJrZXIiLCJyZXNvbHZlIiwiYWRkaXRpb25hbFByb3BlcnRpZXMiLCJtYXJrIiwiaXRlbXMiLCJhbGxPZiIsImRlbGV0ZUR1cGxpY2F0ZXMiLCJkaXNwb3NlIiwiY2FjaGUiLCJmdW5jIiwiZGVyZWYiLCJyZWYiLCJjYWNoZWQiLCJmdW5jYWNoZSIsImNvbXBpbGUiLCJkZWZpbmVQcm9wZXJ0eSIsInJlZnMiLCJkZWNsYXJlIiwidmFyaW5hbWUiLCJjb2RlIiwibm9GYWlsRmFzdCIsInZhcmlkIiwiZXJyb3JQYXRoIiwicmVxdWlyZWRNZXNzYWdlIiwiaW5kZXhPZiIsImdyZWVkeSIsImNvbnRleHQiLCJjYWNoZWRSZWYiLCJwYXRoRXhwIiwibGFzdFR5cGUiLCJmb3JtYXQiLCJnZW5zIiwidHlwZXMiLCJmb3JtYXRzIiwic2NvcGUiLCJjb21waWxlZCIsImluaXRpYWwiLCJjb3B5IiwiSU5WQUxJRF9TQ0hFTUEiLCJtaXNzaW5nJFJlZiIsIlNjaGVtYVJlc29sdmVyIiwiY291bnRlciIsImVxdWFsIiwidW5pcXVlIiwiYnJvd3NlciIsIm5hdmlnYXRvciIsInZlcnNpb24iLCJzcGxpdCIsInN0cmluZyIsIm51bWJlciIsImludGVnZXIiLCJhcnJheSIsIm9iamVjdCIsImRhdGUiLCJzcGVjaWZpZWQiLCJzcmMiLCJqb2luIiwidmFsdWUiLCJlbnVtVHlwZSIsImNsYXVzZXMiLCJtaW5pbXVtIiwiZXhjbHVzaXZlTWluaW11bSIsIm1heGltdW0iLCJleGNsdXNpdmVNYXhpbXVtIiwibXVsdGlwbGVPZiIsIm11bCIsImRlY2ltYWxzIiwidG9GaXhlZCIsInBvdyIsIk1hdGgiLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJwYXR0ZXJuIiwibWluSXRlbXMiLCJtYXhJdGVtcyIsImFkZGl0aW9uYWxJdGVtcyIsInVuaXF1ZUl0ZW1zIiwibWF4UHJvcGVydGllcyIsIm1pblByb3BlcnRpZXMiLCJ2YWxpZGF0ZWRQcm9wZXJ0aWVzIiwicHJvcCIsIm5lc3RlZFBhdGgiLCJwcm9wcyIsInByb3BLZXlzIiwicGF0UHJvcHMiLCJwYXR0ZXJuUHJvcGVydGllcyIsInBhdHRlcm5zIiwiYWRkUHJvcHMiLCJhZGRQcm9wc0NoZWNrIiwibiIsImZvdW5kIiwicHJvcEtleSIsImRlcGVuZGVuY2llcyIsImRlcCIsImFueU9mIiwiZXJyQ291bnQiLCJpbml0aWFsQ291bnQiLCJvbmVPZiIsIm1hdGNoaW5nIiwibm90IiwicmVzb2x2ZVBvaW50ZXIiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwicXVldWVJbmRleCIsImRyYWluUXVldWUiLCJ0aW1lb3V0Iiwic2V0VGltZW91dCIsImxlbiIsInJ1biIsImNsZWFyVGltZW91dCIsIkl0ZW0iLCJmdW4iLCJub29wIiwibmV4dFRpY2siLCJhcHBseSIsInRpdGxlIiwiZW52IiwiYXJndiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImxpbmVzIiwidmFycyIsImluZCIsInRhYiIsImJzIiwiYmUiLCJzcGFjZSIsImxpbmUiLCJidWlsZGVyIiwiZmlyc3QiLCJsYXN0IiwidG9Tb3VyY2UiLCJzY3AiLCJ2YWxzIiwiRnVuY3Rpb24iLCJkZWVwRXF1YWwiLCJhIiwiYiIsImtleXNBIiwic29ydCIsImtleXNCIiwidHlwZUEiLCJ0eXBlQiIsImNvbXBhcmF0b3IiLCJzZWxmIiwidmFsIiwic2hpZnQiLCJyZWZUb1BhdGgiLCJzZWdtZW50IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicmVmRnJvbUlkIiwicmVzb2x2ZWQiLCJnZXRSZXNvbHZlcnMiLCJyZXNvbHZlcnMiLCJyb290U2NoZW1hIiwiZXh0ZXJuYWwiLCJyZXNvbHZlZFJvb3RTY2hlbWEiLCJtZXRhc2NoZW1hIiwiSU5WQUxJRF9TQ0hFTUFfUkVGRVJFTkNFIiwicmVzb2x2ZVJlZiIsImV4dGVybmFsUmVzb2x2ZXIiLCJkZXN0IiwiZXJyIiwicm9vdCIsInJlc29sdmVkUm9vdCIsInBvaW50ZXIiLCJkZXNjcmlwdGlvbiIsImRlZmluaXRpb25zIiwic2NoZW1hQXJyYXkiLCJwb3NpdGl2ZUludGVnZXIiLCJwb3NpdGl2ZUludGVnZXJEZWZhdWx0MCIsImRlZmF1bHQiLCJzaW1wbGVUeXBlcyIsInN0cmluZ0FycmF5IiwidXJpIiwiZW1haWwiLCJpcHY0IiwiaXB2NiIsImhvc3RuYW1lIiwiX19leHRlbmRzIiwiZCIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJfc3VwZXIiLCJhZGRGaWx0ZXIiLCJ0YXJnZXRVcmwiLCJnZXRUYXJnZXRVcmwiLCJnZXRGaWx0ZXJzIiwidGhlbiIsImdldFBhZ2VzIiwiaGFuZGxlciIsImFsbG93ZWRFdmVudHMiLCJyZXMiLCJyZXEiLCJzZXRQYWdlIiwicGFnZSIsInB1dCIsInJlbW92ZUZpbHRlciIsInJlbW92ZUFsbEZpbHRlcnMiLCJ1cGRhdGVGaWx0ZXIiLCJ1cGRhdGVTZXR0aW5ncyIsInBhdGNoIiwic2RrVmVyc2lvbiIsInNka1R5cGUiLCJvcmlnaW4iLCJIdHRwUG9zdE1lc3NhZ2UiLCJ4LXNkay10eXBlIiwieC1zZGstdmVyc2lvbiIsIldpbmRvd1Bvc3RNZXNzYWdlUHJveHkiLCJwcm9jZXNzVHJhY2tpbmdQcm9wZXJ0aWVzIiwiYWRkVHJhY2tpbmdQcm9wZXJ0aWVzIiwiZ2V0VHJhY2tpbmdQcm9wZXJ0aWVzIiwiaXNFcnJvck1lc3NhZ2UiLCJSb3V0ZXIiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJmYWN0b3J5IiwidiIsInJlcXVpcmUiLCJkZWZhdWx0QWRkVHJhY2tpbmdQcm9wZXJ0aWVzIiwiZGVmYXVsdEdldFRyYWNraW5nUHJvcGVydGllcyIsImRlZmF1bHRJc0Vycm9yTWVzc2FnZSIsInJlY2VpdmVXaW5kb3ciLCJjcmVhdGVSYW5kb21TdHJpbmciLCJwZW5kaW5nUmVxdWVzdFByb21pc2VzIiwiaGFuZGxlcnMiLCJ3aW5kb3dNZXNzYWdlSGFuZGxlciIsIm9uTWVzc2FnZVJlY2VpdmVkIiwidHJhY2tpbmdQcm9wZXJ0aWVzIiwibWVzc2FnZVByb3BlcnR5TmFtZSIsImFkZEhhbmRsZXIiLCJyZW1vdmVIYW5kbGVyIiwiaGFuZGxlckluZGV4Iiwic3RvcCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwb3N0TWVzc2FnZSIsImRlZmVycmVkIiwiY3JlYXRlRGVmZXJyZWQiLCJwcm9taXNlIiwic2VuZFJlc3BvbnNlIiwicmVqZWN0IiwiaGFuZGxlZCIsIlByb21pc2UiLCJoYW5kbGUiLCJyZXNwb25zZU1lc3NhZ2UiLCJ3YXJuIiwicmFuZG9tIiwic3Vic3RyaW5nIiwid2VicGFja0NvbnRleHQiLCJ3ZWJwYWNrQ29udGV4dFJlc29sdmUiLCIuL3dpbmRvd1Bvc3RNZXNzYWdlUHJveHkiLCIuL3dpbmRvd1Bvc3RNZXNzYWdlUHJveHkuZCIsIi4vd2luZG93UG9zdE1lc3NhZ2VQcm94eS5kLnRzIiwiLi93aW5kb3dQb3N0TWVzc2FnZVByb3h5LmpzIiwiLi93aW5kb3dQb3N0TWVzc2FnZVByb3h5LmpzLm1hcCIsIndpbmRvd1Bvc3RNZXNzYWdlUHJveHkiLCJkZWZhdWx0SGVhZGVycyIsImhlYWRlcnMiLCJzdGF0dXNDb2RlIiwic2VuZCIsIm1ldGhvZCIsInJlcXVlc3QiLCJzb3VyY2VzIiwiLi9odHRwUG9zdE1lc3NhZ2UiLCIuL2h0dHBQb3N0TWVzc2FnZS5kIiwiLi9odHRwUG9zdE1lc3NhZ2UuZC50cyIsIi4vaHR0cFBvc3RNZXNzYWdlLmpzIiwiLi9odHRwUG9zdE1lc3NhZ2UuanMubWFwIiwiUm91dGVSZWNvZ25pemVyIiwiZ2V0Um91dGVSZWNvZ25pemVyIiwicGF0Y2hSb3V0ZVJlY29nbml6ZXIiLCJwb3N0Um91dGVSZWNvZ25pemVyIiwicHV0Um91dGVSZWNvZ25pemVyIiwiZGVsZXRlUm91dGVSZWNvZ25pemVyIiwicmVnaXN0ZXJIYW5kbGVyIiwicm91dGVSZWNvZ25pemVyIiwicm91dGVSZWNvZ25pemVySGFuZGxlciIsIlJlc3BvbnNlIiwiYWRkIiwiaW50ZXJuYWxIYW5kbGVyIiwibWF0Y2hpbmdSb3V0ZXMiLCJyZWNvZ25pemUiLCJyb3V0ZSIsInBhcmFtcyIsInF1ZXJ5UGFyYW1zIiwiJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkVGFyZ2V0IiwibWF0Y2hlciIsImRlbGVnYXRlIiwiJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkTWF0Y2hlciIsInJvdXRlcyIsImNoaWxkcmVuIiwiJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkZ2VuZXJhdGVNYXRjaCIsInN0YXJ0aW5nUGF0aCIsIm5lc3RlZENhbGxiYWNrIiwiZnVsbFBhdGgiLCIkJHJvdXRlJHJlY29nbml6ZXIkZHNsJCRhZGRSb3V0ZSIsInJvdXRlQXJyYXkiLCIkJHJvdXRlJHJlY29nbml6ZXIkZHNsJCRlYWNoUm91dGUiLCJiYXNlUm91dGUiLCJjYWxsYmFjayIsIiQkcm91dGUkcmVjb2duaXplciQkaXNBcnJheSIsIiQkcm91dGUkcmVjb2duaXplciQkU3RhdGljU2VnbWVudCIsIiQkcm91dGUkcmVjb2duaXplciQkRHluYW1pY1NlZ21lbnQiLCIkJHJvdXRlJHJlY29nbml6ZXIkJFN0YXJTZWdtZW50IiwiJCRyb3V0ZSRyZWNvZ25pemVyJCRFcHNpbG9uU2VnbWVudCIsIiQkcm91dGUkcmVjb2duaXplciQkcGFyc2UiLCJuYW1lcyIsInNwZWNpZmljaXR5IiwiY2hhckF0Iiwic2VnbWVudHMiLCJyZXN1bHRzIiwiJCRyb3V0ZSRyZWNvZ25pemVyJCRTdGF0ZSIsImNoYXJTcGVjIiwibmV4dFN0YXRlcyIsImNoYXJTcGVjcyIsIiQkcm91dGUkcmVjb2duaXplciQkc29ydFNvbHV0aW9ucyIsInN0YXRlcyIsIiQkcm91dGUkcmVjb2duaXplciQkcmVjb2duaXplQ2hhciIsImNoIiwibCIsInN0YXRlIiwiJCRyb3V0ZSRyZWNvZ25pemVyJCRSZWNvZ25pemVSZXN1bHRzIiwiJCRyb3V0ZSRyZWNvZ25pemVyJCRmaW5kSGFuZGxlciIsImNhcHR1cmVzIiwiY3VycmVudENhcHR1cmUiLCJyZXN1bHQiLCJqIiwiaXNEeW5hbWljIiwiJCRyb3V0ZSRyZWNvZ25pemVyJCRkZWNvZGVRdWVyeVBhcmFtUGFydCIsInBhcnQiLCJ0byIsIndpbGxBZGRSb3V0ZSIsImFkZENoaWxkIiwiY29udGV4dEVudGVyZWQiLCIkJHJvdXRlJHJlY29nbml6ZXIkZHNsJCRkZWZhdWx0IiwiYWRkUm91dGVDYWxsYmFjayIsIiQkcm91dGUkcmVjb2duaXplciQkc3BlY2lhbHMiLCIkJHJvdXRlJHJlY29nbml6ZXIkJGVzY2FwZVJlZ2V4IiwiZWFjaENoYXIiLCJjdXJyZW50U3RhdGUiLCJpbnZhbGlkQ2hhcnMiLCJyZXBlYXQiLCJ2YWxpZENoYXJzIiwiZ2VuZXJhdGUiLCJjaGlsZCIsImlzRXF1YWwiLCJjaGFycyIsInJldHVybmVkIiwiJCRyb3V0ZSRyZWNvZ25pemVyJCRvQ3JlYXRlIiwicHJvdG8iLCJGIiwiJCRyb3V0ZSRyZWNvZ25pemVyJCRSb3V0ZVJlY29nbml6ZXIiLCJyb290U3RhdGUiLCJhbGxTZWdtZW50cyIsImlzRW1wdHkiLCJhcyIsImhhbmRsZXJzRm9yIiwiaGFzUm91dGUiLCJnZW5lcmF0ZVF1ZXJ5U3RyaW5nIiwicGFpcnMiLCJwYWlyIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYXJyYXlQYWlyIiwicGFyc2VRdWVyeVN0cmluZyIsInF1ZXJ5U3RyaW5nIiwia2V5TGVuZ3RoIiwicGF0aExlbiIsInF1ZXJ5U3RhcnQiLCJpc1NsYXNoRHJvcHBlZCIsImRlY29kZVVSSSIsInNvbHV0aW9ucyIsIlZFUlNJT04iLCIkJHJvdXRlJHJlY29nbml6ZXIkJGRlZmF1bHQiLCJ3ZWJwYWNrUG9seWZpbGwiLCJkZXByZWNhdGUiLCJwYXRocyJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0FLVCxRQUFTQyxHQUFvQkMsR0FHNUIsR0FBR0MsRUFBaUJELEdBQ25CLE1BQU9DLEdBQWlCRCxHQUFVRSxPQUduQyxJQUFJQyxHQUFTRixFQUFpQkQsSUFDN0JFLFdBQ0FFLEdBQUlKLEVBQ0pLLFFBQVEsRUFVVCxPQU5BUCxHQUFRRSxHQUFVTSxLQUFLSCxFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTSCxHQUcvREksRUFBT0UsUUFBUyxFQUdURixFQUFPRCxRQXZCZixHQUFJRCxLQXFDSixPQVRBRixHQUFvQlEsRUFBSVQsRUFHeEJDLEVBQW9CUyxFQUFJUCxFQUd4QkYsRUFBb0JVLEVBQUksR0FHakJWLEVBQW9CLEtBSy9CLFNBQVNJLEVBQVFELEVBQVNILEdBRS9CLEdBQUlXLEdBQVNYLEVBQW9CLEdBQzdCWSxFQUFZWixFQUFvQixHQU1wQ2EsUUFBT0MsUUFBVUgsRUFBT0ksUUFDeEJGLE9BQU9HLFFBQVUsR0FBSUwsR0FBT0ksUUFBUUgsRUFBVUssV0FBWUwsRUFBVU0sWUFBYU4sRUFBVU8sZ0JBS3RGLFNBQVNmLEVBQVFELEVBQVNILEdBRS9CLEdBQUlvQixHQUFRcEIsRUFBb0IsR0FDNUJxQixFQUFXckIsRUFBb0IsSUFDL0JzQixFQUFTdEIsRUFBb0IsSUFDN0J1QixFQUFTdkIsRUFBb0IsR0FDN0JlLEVBQVcsV0FDWCxRQUFTQSxHQUFRRSxFQUFZQyxFQUFhQyxF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QUFRRCxHQUV0QkMsRUFBT0QsUUFBVSxXQUFhLEtBQU0sSUFBSXdELE9BQU0iLCJmaWxlIjoicG93ZXJiaS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcblx0dmFyIGZhY3RvcmllcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xyXG5cdC8qKlxyXG5cdCAqIE1ha2UgUG93ZXJCaSBhdmFpbGFibGUgb24gZ2xvYmFsIG9iamVjdCBmb3IgdXNlIGluIGFwcHMgd2l0aG91dCBtb2R1bGUgbG9hZGluZyBzdXBwb3J0LlxyXG5cdCAqIFNhdmUgY2xhc3MgdG8gYWxsb3cgY3JlYXRpbmcgYW4gaW5zdGFuY2Ugb2YgdGhlIHNlcnZpY2UuXHJcblx0ICogQ3JlYXRlIGluc3RhbmNlIG9mIGNsYXNzIHdpdGggZGVmYXVsdCBjb25maWcgZm9yIG5vcm1hbCB1c2FnZS5cclxuXHQgKi9cclxuXHR3aW5kb3cuUG93ZXJiaSA9IGNvcmVfMS5Qb3dlckJpO1xyXG5cdHdpbmRvdy5wb3dlcmJpID0gbmV3IGNvcmVfMS5Qb3dlckJpKGZhY3Rvcmllcy5ocG1GYWN0b3J5LCBmYWN0b3JpZXMud3BtcEZhY3RvcnksIGZhY3Rvcmllcy5yb3V0ZXJGYWN0b3J5KTtcclxuXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZW1iZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5cdHZhciByZXBvcnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xyXG5cdHZhciB0aWxlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcclxuXHR2YXIgdXRpbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxuXHR2YXIgUG93ZXJCaSA9IChmdW5jdGlvbiAoKSB7XHJcblx0ICAgIGZ1bmN0aW9uIFBvd2VyQmkoaHBtRmFjdG9yeSwgd3BtcEZhY3RvcnksIHJvdXRlckZhY3RvcnksIGNvbmZpZykge1xyXG5cdCAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcblx0ICAgICAgICB0aGlzLmhwbUZhY3RvcnkgPSBocG1GYWN0b3J5O1xyXG5cdCAgICAgICAgdGhpcy53cG1wRmFjdG9yeSA9IHdwbXBGYWN0b3J5O1xyXG5cdCAgICAgICAgdGhpcy5yb3V0ZXJGYWN0b3J5ID0gcm91dGVyRmFjdG9yeTtcclxuXHQgICAgICAgIHRoaXMuZW1iZWRzID0gW107XHJcblx0ICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMub25SZWNlaXZlTWVzc2FnZS5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcblx0ICAgICAgICAvLyBUT0RPOiBDaGFuZ2Ugd2hlbiBPYmplY3QuYXNzaWduIGlzIGF2YWlsYWJsZS5cclxuXHQgICAgICAgIHRoaXMuY29uZmlnID0gdXRpbF8xLlV0aWxzLmFzc2lnbih7fSwgUG93ZXJCaS5kZWZhdWx0Q29uZmlnLCBjb25maWcpO1xyXG5cdCAgICAgICAgaWYgKHRoaXMuY29uZmlnLmF1dG9FbWJlZE9uQ29udGVudExvYWRlZCkge1xyXG5cdCAgICAgICAgICAgIHRoaXMuZW5hYmxlQXV0b0VtYmVkKCk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH1cclxuXHQgICAgLyoqXHJcblx0ICAgICAqIEhhbmRsZXIgZm9yIERPTUNvbnRlbnRMb2FkZWQgd2hpY2ggc2VhcmNoZXMgRE9NIGZvciBlbGVtZW50cyBoYXZpbmcgJ3Bvd2VyYmktZW1iZWQtdXJsJyBhdHRyaWJ1dGVcclxuXHQgICAgICogYW5kIGF1dG9tYXRpY2FsbHkgYXR0ZW1wdHMgdG8gZW1iZWQgYSBwb3dlcmJpIGNvbXBvbmVudCBiYXNlZCBvbiBpbmZvcm1hdGlvbiBmcm9tIHRoZSBhdHRyaWJ1dGVzLlxyXG5cdCAgICAgKiBPbmx5IHJ1bnMgaWYgYGNvbmZpZy5hdXRvRW1iZWRPbkNvbnRlbnRMb2FkZWRgIGlzIHRydWUgd2hlbiB0aGUgc2VydmljZSBpcyBjcmVhdGVkLlxyXG5cdCAgICAgKi9cclxuXHQgICAgUG93ZXJCaS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblx0ICAgICAgICBjb250YWluZXIgPSAoY29udGFpbmVyICYmIGNvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSA/IGNvbnRhaW5lciA6IGRvY3VtZW50LmJvZHk7XHJcblx0ICAgICAgICB2YXIgZWxlbWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcIltcIiArIGVtYmVkLkVtYmVkLmVtYmVkVXJsQXR0cmlidXRlICsgXCJdXCIpKTtcclxuXHQgICAgICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsgcmV0dXJuIF90aGlzLmVtYmVkKGVsZW1lbnQpOyB9KTtcclxuXHQgICAgfTtcclxuXHQgICAgLyoqXHJcblx0ICAgICAqIEdpdmVuIGFuIGh0bWwgZWxlbWVudCBlbWJlZCBjb21wb25lbnQgYmFzZWQgb24gY29uZmlndXJhdGlvbi5cclxuXHQgICAgICogSWYgY29tcG9uZW50IGhhcyBhbHJlYWR5IGJlZW4gY3JlYXRlZCBhbmQgYXR0YWNoZWQgdG8gZWxlbWVudCByZS11c2UgY29tcG9uZW50IGluc3RhbmNlIGFuZCBleGlzdGluZyBpZnJhbWUsXHJcblx0ICAgICAqIG90aGVyd2lzZSBjcmVhdGUgYSBuZXcgY29tcG9uZW50IGluc3RhbmNlXHJcblx0ICAgICAqL1xyXG5cdCAgICBQb3dlckJpLnByb3RvdHlwZS5lbWJlZCA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb25maWcpIHtcclxuXHQgICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG5cdCAgICAgICAgdmFyIGNvbXBvbmVudDtcclxuXHQgICAgICAgIHZhciBwb3dlckJpRWxlbWVudCA9IGVsZW1lbnQ7XHJcblx0ICAgICAgICBpZiAocG93ZXJCaUVsZW1lbnQucG93ZXJCaUVtYmVkKSB7XHJcblx0ICAgICAgICAgICAgY29tcG9uZW50ID0gdGhpcy5lbWJlZEV4aXN0aW5nKHBvd2VyQmlFbGVtZW50LCBjb25maWcpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZWxzZSB7XHJcblx0ICAgICAgICAgICAgY29tcG9uZW50ID0gdGhpcy5lbWJlZE5ldyhwb3dlckJpRWxlbWVudCwgY29uZmlnKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHJldHVybiBjb21wb25lbnQ7XHJcblx0ICAgIH07XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBHaXZlbiBhbiBodG1sIGVsZW1lbnQgZW1iZWQgY29tcG9uZW50IGJhc2UgY29uZmlndXJhdGlvbi5cclxuXHQgICAgICogU2F2ZSBjb21wb25lbnQgaW5zdGFuY2Ugb24gZWxlbWVudCBmb3IgbGF0ZXIgbG9va3VwLlxyXG5cdCAgICAgKi9cclxuXHQgICAgUG93ZXJCaS5wcm90b3R5cGUuZW1iZWROZXcgPSBmdW5jdGlvbiAoZWxlbWVudCwgY29uZmlnKSB7XHJcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cdCAgICAgICAgdmFyIGNvbXBvbmVudFR5cGUgPSBjb25maWcudHlwZSB8fCBlbGVtZW50LmdldEF0dHJpYnV0ZShlbWJlZC5FbWJlZC50eXBlQXR0cmlidXRlKTtcclxuXHQgICAgICAgIGlmICghY29tcG9uZW50VHlwZSkge1xyXG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRlZCB0byBlbWJlZCB1c2luZyBjb25maWcgXCIgKyBKU09OLnN0cmluZ2lmeShjb25maWcpICsgXCIgb24gZWxlbWVudCBcIiArIGVsZW1lbnQub3V0ZXJIVE1MICsgXCIsIGJ1dCBjb3VsZCBub3QgZGV0ZXJtaW5lIHdoYXQgdHlwZSBvZiBjb21wb25lbnQgdG8gZW1iZWQuIFlvdSBtdXN0IHNwZWNpZnkgYSB0eXBlIGluIHRoZSBjb25maWd1cmF0aW9uIG9yIGFzIGFuIGF0dHJpYnV0ZSBzdWNoIGFzICdcIiArIGVtYmVkLkVtYmVkLnR5cGVBdHRyaWJ1dGUgKyBcIj1cXFwiXCIgKyByZXBvcnRfMS5SZXBvcnQudHlwZS50b0xvd2VyQ2FzZSgpICsgXCJcXFwiJy5cIik7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICAvLyBTYXZlIHR5cGUgb24gY29uZmlndXJhdGlvbiBzbyBpdCBjYW4gYmUgcmVmZXJlbmNlZCBsYXRlciBhdCBrbm93biBsb2NhdGlvblxyXG5cdCAgICAgICAgY29uZmlnLnR5cGUgPSBjb21wb25lbnRUeXBlO1xyXG5cdCAgICAgICAgdmFyIENvbXBvbmVudCA9IHV0aWxfMS5VdGlscy5maW5kKGZ1bmN0aW9uIChjb21wb25lbnQpIHsgcmV0dXJuIGNvbXBvbmVudFR5cGUgPT09IGNvbXBvbmVudC50eXBlLnRvTG93ZXJDYXNlKCk7IH0sIFBvd2VyQmkuY29tcG9uZW50cyk7XHJcblx0ICAgICAgICBpZiAoIUNvbXBvbmVudCkge1xyXG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRlZCB0byBlbWJlZCBjb21wb25lbnQgb2YgdHlwZTogXCIgKyBjb21wb25lbnRUeXBlICsgXCIgYnV0IGRpZCBub3QgZmluZCBhbnkgbWF0Y2hpbmcgY29tcG9uZW50LiAgUGxlYXNlIHZlcmlmeSB0aGUgdHlwZSB5b3Ugc3BlY2lmaWVkIGlzIGludGVuZGVkLlwiKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHZhciBjb21wb25lbnQgPSBuZXcgQ29tcG9uZW50KHRoaXMuaHBtRmFjdG9yeSwgdGhpcy53cG1wRmFjdG9yeSwgdGhpcy5yb3V0ZXJGYWN0b3J5LCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5hY2Nlc3NUb2tlbjsgfSwgZWxlbWVudCwgY29uZmlnKTtcclxuXHQgICAgICAgIGVsZW1lbnQucG93ZXJCaUVtYmVkID0gY29tcG9uZW50O1xyXG5cdCAgICAgICAgdGhpcy5lbWJlZHMucHVzaChjb21wb25lbnQpO1xyXG5cdCAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcclxuXHQgICAgfTtcclxuXHQgICAgUG93ZXJCaS5wcm90b3R5cGUuZW1iZWRFeGlzdGluZyA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb25maWcpIHtcclxuXHQgICAgICAgIHZhciBjb21wb25lbnQgPSB1dGlsXzEuVXRpbHMuZmluZChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5lbGVtZW50ID09PSBlbGVtZW50OyB9LCB0aGlzLmVtYmVkcyk7XHJcblx0ICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xyXG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRlZCB0byBlbWJlZCB1c2luZyBjb25maWcgXCIgKyBKU09OLnN0cmluZ2lmeShjb25maWcpICsgXCIgb24gZWxlbWVudCBcIiArIGVsZW1lbnQub3V0ZXJIVE1MICsgXCIgd2hpY2ggYWxyZWFkeSBoYXMgZW1iZWRkZWQgY29tb3BuZW50IGFzc29jaWF0ZWQsIGJ1dCBjb3VsZCBub3QgZmluZCB0aGUgZXhpc3RpbmcgY29tb3BuZW50IGluIHRoZSBsaXN0IG9mIGFjdGl2ZSBjb21wb25lbnRzLiBUaGlzIGNvdWxkIGluZGljYXRlIHRoZSBlbWJlZHMgbGlzdCBpcyBvdXQgb2Ygc3luYyB3aXRoIHRoZSBET00sIG9yIHRoZSBjb21wb25lbnQgaXMgcmVmZXJlbmNpbmcgdGhlIGluY29ycmVjdCBIVE1MIGVsZW1lbnQuXCIpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgY29tcG9uZW50LmxvYWQoY29uZmlnKTtcclxuXHQgICAgICAgIHJldHVybiBjb21wb25lbnQ7XHJcblx0ICAgIH07XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXIgZm9yIERPTUNvbnRlbnRMb2FkZWQgd2hpY2ggZmluZHMgYWxsIGVsZW1lbnRzIGluIERPTSB3aXRoIGF0dHJpYnV0ZSBwb3dlcmJpLWVtYmVkLXVybFxyXG5cdCAgICAgKiB0aGVuIGF0dGVtcHRzIHRvIGluaXRpYXRlIHRoZSBlbWJlZCBwcm9jZXNzIGJhc2VkIG9uIGRhdGEgZnJvbSBvdGhlciBwb3dlcmJpLSogYXR0cmlidXRlcy5cclxuXHQgICAgICogKFRoaXMgaXMgdXN1YWxseSBvbmx5IHVzZWZ1bCBmb3IgYXBwbGljYXRpb25zIHJlbmRlcmVkIG9uIGJ5IHRoZSBzZXJ2ZXIgc2luY2UgYWxsIHRoZSBkYXRhIG5lZWRlZCB3aWxsIGJlIGF2YWlsYWJsZSBieSB0aGUgdGltZSB0aGUgaGFuZGxlciBpcyBjYWxsZWQuKVxyXG5cdCAgICAgKi9cclxuXHQgICAgUG93ZXJCaS5wcm90b3R5cGUuZW5hYmxlQXV0b0VtYmVkID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuXHQgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiBfdGhpcy5pbml0KGRvY3VtZW50LmJvZHkpOyB9LCBmYWxzZSk7XHJcblx0ICAgIH07XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBSZXR1cm5zIGluc3RhbmNlIG9mIGNvbXBvbmVudCBhc3NvY2lhdGVkIHdpdGggZWxlbWVudC5cclxuXHQgICAgICovXHJcblx0ICAgIFBvd2VyQmkucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcblx0ICAgICAgICB2YXIgcG93ZXJCaUVsZW1lbnQgPSBlbGVtZW50O1xyXG5cdCAgICAgICAgaWYgKCFwb3dlckJpRWxlbWVudC5wb3dlckJpRW1iZWQpIHtcclxuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXR0ZW1wdGVkIHRvIGdldCBhbiBpbnN0YW5jZSBvZiBwb3dlcmJpIGNvbXBvbmVudCBhc3NvY2lhdGVkIHdpdGggZWxlbWVudDogXCIgKyBlbGVtZW50Lm91dGVySFRNTCArIFwiIGJ1dCB0aGVyZSB3YXMgbm8gYXNzb2NpYXRlZCBpbnN0YW5jZS5cIik7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICByZXR1cm4gcG93ZXJCaUVsZW1lbnQucG93ZXJCaUVtYmVkO1xyXG5cdCAgICB9O1xyXG5cdCAgICAvKipcclxuXHQgICAgICogR2l2ZW4gYW4gaHRtbCBlbGVtZW50IHdoaWNoIGhhcyBjb21wb25lbnQgZW1iZWRkZWQgd2l0aGluIGl0LCByZW1vdmUgdGhlIGNvbXBvbmVudCBmcm9tIGxpc3Qgb2YgZW1iZWRzLCByZW1vdmUgYXNzb2NpYXRpb24gd2l0aCBjb21wb25lbnQsIGFuZCByZW1vdmUgdGhlIGlmcmFtZS5cclxuXHQgICAgICovXHJcblx0ICAgIFBvd2VyQmkucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuXHQgICAgICAgIHZhciBwb3dlckJpRWxlbWVudCA9IGVsZW1lbnQ7XHJcblx0ICAgICAgICBpZiAoIXBvd2VyQmlFbGVtZW50LnBvd2VyQmlFbWJlZCkge1xyXG5cdCAgICAgICAgICAgIHJldHVybjtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIC8qKiBSZW1vdmUgY29tcG9uZW50IGZyb20gaW50ZXJuYWwgbGlzdCAqL1xyXG5cdCAgICAgICAgdXRpbF8xLlV0aWxzLnJlbW92ZShmdW5jdGlvbiAoeCkgeyByZXR1cm4geCA9PT0gcG93ZXJCaUVsZW1lbnQucG93ZXJCaUVtYmVkOyB9LCB0aGlzLmVtYmVkcyk7XHJcblx0ICAgICAgICAvKiogRGVsZXRlIHByb3BlcnR5IGZyb20gaHRtbCBlbGVtZW50ICovXHJcblx0ICAgICAgICBkZWxldGUgcG93ZXJCaUVsZW1lbnQucG93ZXJCaUVtYmVkO1xyXG5cdCAgICAgICAgLyoqIFJlbW92ZSBpZnJhbWUgZnJvbSBlbGVtZW50ICovXHJcblx0ICAgICAgICB2YXIgaWZyYW1lID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpZnJhbWUnKTtcclxuXHQgICAgICAgIGlmIChpZnJhbWUpIHtcclxuXHQgICAgICAgICAgICBpZnJhbWUucmVtb3ZlKCk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH07XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBIYW5kbGVyIGZvciB3aW5kb3cgbWVzc2FnZSBldmVudC5cclxuXHQgICAgICogUGFyc2VzIGV2ZW50IGRhdGEgYXMganNvbiBhbmQgaWYgaXQgY2FtZSBmcm9tIGFuIGlmcmFtZSB0aGF0IG1hdGNoZXMgb25lIGZyb20gYW4gZXhpc3RpbmcgZW1iZWRlZCBjb21wb25lbnQgcmUtZGlzcGF0Y2hlcyB0aGUgZXZlbnQgb24gdGhlIGlmcmFtZSdzIHBhcmVudCBlbGVtZW50XHJcblx0ICAgICAqIHRvIHNpbXVsYXRlIHRoZSBldmVudCBidWJibGluZyB0aHJvdWdoIHRoZSB0d28gc2VwYXJhdGUgd2luZG93cyAvIERPTXMuXHJcblx0ICAgICAqXHJcblx0ICAgICAqIElmIGFuIGVycm9yIG9jY3VycyB3aGVuIHBhcnNpbmcgZXZlbnQuZGF0YSBjYWxsIGVycm9yIGhhbmRsZXIgcHJvdmlkZWQgZHVyaW5nIGNvbmZpZ3VyYXRpb24uXHJcblx0ICAgICAqL1xyXG5cdCAgICBQb3dlckJpLnByb3RvdHlwZS5vblJlY2VpdmVNZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcblx0ICAgICAgICBpZiAoIWV2ZW50KSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgdHJ5IHtcclxuXHQgICAgICAgICAgICAvLyBPbmx5IHJhaXNlIHRoZSBldmVudCBvbiB0aGUgZW1iZWQgdGhhdCBtYXRjaGVzIHRoZSBwb3N0IG1lc3NhZ2Ugb3JpZ2luXHJcblx0ICAgICAgICAgICAgdmFyIGVtYmVkXzEgPSB1dGlsXzEuVXRpbHMuZmluZChmdW5jdGlvbiAoZW1iZWQpIHsgcmV0dXJuIGV2ZW50LnNvdXJjZSA9PT0gZW1iZWQuaWZyYW1lLmNvbnRlbnRXaW5kb3c7IH0sIHRoaXMuZW1iZWRzKTtcclxuXHQgICAgICAgICAgICBpZiAoZW1iZWRfMSkge1xyXG5cdCAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZURhdGEgPSB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGV2ZW50LmRhdGEpIDogZXZlbnQuZGF0YTtcclxuXHQgICAgICAgICAgICAgICAgdXRpbF8xLlV0aWxzLnJhaXNlQ3VzdG9tRXZlbnQoZW1iZWRfMS5lbGVtZW50LCBQb3dlckJpLmV2ZW50TWFwW21lc3NhZ2VEYXRhLmV2ZW50XSwgbWVzc2FnZURhdGEpO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGNhdGNoIChlKSB7XHJcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmNvbmZpZy5vbkVycm9yID09PSAnZnVuY3Rpb24nKSB7XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLm9uRXJyb3IuY2FsbCh3aW5kb3csIGUpO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICBlbHNlIHtcclxuXHQgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH07XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBMaXN0IG9mIGNvbXBvbmVudHMgdGhpcyBzZXJ2aWNlIGNhbiBlbWJlZC5cclxuXHQgICAgICovXHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBUT0RPOiBTZWUgaWYgaXQncyBwb3NzaWJsZSB0byByZW1vdmUgbmVlZCBmb3IgdGhpcyBpbnRlcmZhY2UgYW5kIGp1c3QgdXNlIEVtYmVkIGJhc2Ugb2JqZWN0IGFzIGNvbW1vbiBiZXR3ZWVuIFRpbGUgYW5kIFJlcG9ydFxyXG5cdCAgICAgKiBUaGlzIHdhcyBvbmx5IHB1dCBpdCB0byBhbGxvdyBib3RoIHR5cGVzIG9mIGNvbXBvbmVudHMgdG8gYmUgaW4gdGhlIHNhbWUgbGlzdFxyXG5cdCAgICAgKi9cclxuXHQgICAgUG93ZXJCaS5jb21wb25lbnRzID0gW1xyXG5cdCAgICAgICAgdGlsZV8xLlRpbGUsXHJcblx0ICAgICAgICByZXBvcnRfMS5SZXBvcnRcclxuXHQgICAgXTtcclxuXHQgICAgLyoqXHJcblx0ICAgICAqIE1hcHBpbmcgb2YgZXZlbnQgbmFtZXMgZnJvbSBpZnJhbWUgcG9zdE1lc3NhZ2UgdG8gdGhlaXIgbmFtZSBwZXJjaWV2ZWQgYnkgcGFyZW50IERPTS5cclxuXHQgICAgICogRXhhbXBsZTogVXNlciBjbGlja3Mgb24gZW1iZWRlZCByZXBvcnQgd2hpY2ggaXMgaW5zaWRlIGlmcmFtZS4gVGhlIGlmcmFtZSBjb2RlIHJlc2VuZHNcclxuXHQgICAgICogZXZlbnQgYXMgcG9zdE1lc3NhZ2Ugd2l0aCB7IGV2ZW50OiAncmVwb3J0Q2xpY2tlZCcsIC4uLiB9IGFuZCB0aGlzIG5hbWUgaXMgY29udmVydGVkIHRvIGh5cGhlbmF0ZWRcclxuXHQgICAgICogbmFtZSBhbmQgZGlzcGF0Y2hlZCBmcm9tIHRoZSBwYXJlbnQgZWxlbWVudCBvZiB0aGUgaWZyYW1lIHRvIHNpbXVsYXRlIHRoZSBldmVudCBidWJibGluZyB0aHJvdWdoIHR3b1xyXG5cdCAgICAgKiBkaWZmZXJlbnQgd2luZG93cyAvIERPTXNcclxuXHQgICAgICovXHJcblx0ICAgIFBvd2VyQmkuZXZlbnRNYXAgPSB7XHJcblx0ICAgICAgICAndGlsZUNsaWNrZWQnOiAndGlsZS1jbGljaycsXHJcblx0ICAgICAgICAndGlsZUxvYWRlZCc6ICd0aWxlLWxvYWQnLFxyXG5cdCAgICAgICAgJ3JlcG9ydFBhZ2VMb2FkZWQnOiAncmVwb3J0LWxvYWQnXHJcblx0ICAgIH07XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBEZWZhdWx0IGNvbmZpZ3VyYXRpb24gZm9yIHNlcnZpY2UuXHJcblx0ICAgICAqL1xyXG5cdCAgICBQb3dlckJpLmRlZmF1bHRDb25maWcgPSB7XHJcblx0ICAgICAgICBhdXRvRW1iZWRPbkNvbnRlbnRMb2FkZWQ6IGZhbHNlLFxyXG5cdCAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgICAgIHZhciBhcmdzID0gW107XHJcblx0ICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuXHQgICAgICAgICAgICAgICAgYXJnc1tfaSAtIDBdID0gYXJndW1lbnRzW19pXTtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGFyZ3NbMF0sIGFyZ3Muc2xpY2UoMSkpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICByZXR1cm4gUG93ZXJCaTtcclxuXHR9KCkpO1xyXG5cdGV4cG9ydHMuUG93ZXJCaSA9IFBvd2VyQmk7XHJcblxuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHV0aWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XHJcblx0dmFyIHByb3RvY29sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxuXHR2YXIgRW1iZWQgPSAoZnVuY3Rpb24gKCkge1xyXG5cdCAgICBmdW5jdGlvbiBFbWJlZChocG1GYWN0b3J5LCB3cG1wRmFjdG9yeSwgcm91dGVyRmFjdG9yeSwgZ2V0R2xvYmFsQWNjZXNzVG9rZW4sIGVsZW1lbnQsIGNvbmZpZykge1xyXG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuXHQgICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XHJcblx0ICAgICAgICAvLyBUT0RPOiBDaGFuZ2Ugd2hlbiBPYmplY3QuYXNzaWduIGlzIGF2YWlsYWJsZS5cclxuXHQgICAgICAgIGNvbmZpZy5zZXR0aW5ncyA9IHV0aWxfMS5VdGlscy5hc3NpZ24oe30sIEVtYmVkLmRlZmF1bHRTZXR0aW5ncywgY29uZmlnLnNldHRpbmdzKTtcclxuXHQgICAgICAgIHRoaXMuY29uZmlnID0gdXRpbF8xLlV0aWxzLmFzc2lnbih7fSwgRW1iZWQuZGVmYXVsdERlYnVnT3B0aW9ucywgY29uZmlnKTtcclxuXHQgICAgICAgIHRoaXMuY29uZmlnLmFjY2Vzc1Rva2VuID0gdGhpcy5nZXRBY2Nlc3NUb2tlbihnZXRHbG9iYWxBY2Nlc3NUb2tlbik7XHJcblx0ICAgICAgICB0aGlzLmNvbmZpZy5lbWJlZFVybCA9IHRoaXMuZ2V0RW1iZWRVcmwoKTtcclxuXHQgICAgICAgIC8vIFRPRE86IFRoZSBmaW5kSWRGcm9tRW1iZWRVcmwgbWV0aG9kIGlzIHNwZWNpZmljIHRvIFJlcG9ydHMgc28gaXQgc2hvdWxkIGJlIGluIHRoZSBSZXBvcnQgY2xhc3MsIGJ1dCBpdCBjYW4ndCBiZSBjYWxsZWQgdW50aWxcclxuXHQgICAgICAgIC8vIGFmdGVyIHdlIGhhdmUgZmV0Y2hlZCB0aGUgZW1iZWRVcmwgZnJvbSB0aGUgYXR0cmlidXRlc1xyXG5cdCAgICAgICAgLyoqXHJcblx0ICAgICAgICAgKiBUaGlzIGFkZHMgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZm9yIG9sZGVyIGNvbmZpZyB3aGljaCB1c2VkIHRoZSByZXBvcnRJZCBxdWVyeSBwYXJhbSB0byBzcGVjaWZ5IHJlcG9ydCBpZC5cclxuXHQgICAgICAgICAqIEUuZy4gaHR0cDovL2VtYmVkZGVkLnBvd2VyYmkuY29tL2FwcFRva2VuUmVwb3J0RW1iZWQ/cmVwb3J0SWQ9ODU0ODQ2ZWQtMjEwNi00ZGMyLWJjNTgtZWI3NzUzM2JmMmYxXHJcblx0ICAgICAgICAgKlxyXG5cdCAgICAgICAgICogQnkgZXh0cmFjdGluZyB0aGUgaWQgd2UgY2FuIGVuc3VyZSBpZCBpcyBhbHdheXMgZXhwbGljaXRseSBwcm92aWRlZCBhcyBwYXJ0IG9mIHRoZSBsb2FkIGNvbmZpZ3VyYXRpb24uXHJcblx0ICAgICAgICAgKi9cclxuXHQgICAgICAgIHZhciBpZCA9IEVtYmVkLmZpbmRJZEZyb21FbWJlZFVybCh0aGlzLmNvbmZpZy5lbWJlZFVybCk7XHJcblx0ICAgICAgICBpZiAoaWQpIHtcclxuXHQgICAgICAgICAgICB0aGlzLmNvbmZpZy5pZCA9IGlkO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgdmFyIGlmcmFtZUh0bWwgPSBcIjxpZnJhbWUgc3R5bGU9XFxcIndpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7XFxcIiBzcmM9XFxcIlwiICsgdGhpcy5jb25maWcuZW1iZWRVcmwgKyBcIlxcXCIgc2Nyb2xsaW5nPVxcXCJub1xcXCIgYWxsb3dmdWxsc2NyZWVuPVxcXCJ0cnVlXFxcIj48L2lmcmFtZT5cIjtcclxuXHQgICAgICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSBpZnJhbWVIdG1sO1xyXG5cdCAgICAgICAgdGhpcy5pZnJhbWUgPSB0aGlzLmVsZW1lbnQuY2hpbGROb2Rlc1swXTtcclxuXHQgICAgICAgIHRoaXMuaWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5sb2FkKF90aGlzLmNvbmZpZyk7IH0sIGZhbHNlKTtcclxuXHQgICAgICAgIHRoaXMud3BtcCA9IHdwbXBGYWN0b3J5KHRoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3csIHRoaXMuY29uZmlnLndwbXBOYW1lLCB0aGlzLmNvbmZpZy5sb2dNZXNzYWdlcyk7XHJcblx0ICAgICAgICB0aGlzLmhwbSA9IGhwbUZhY3RvcnkodGhpcy53cG1wKTtcclxuXHQgICAgICAgIHRoaXMucm91dGVyID0gcm91dGVyRmFjdG9yeSh0aGlzLndwbXApO1xyXG5cdCAgICB9XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBIYW5kbGVyIGZvciB3aGVuIHRoZSBpZnJhbWUgaGFzIGZpbmlzaGVkIGxvYWRpbmcgdGhlIHBvd2VyYmkgcGxhY2Vob2xkZXIgcGFnZS5cclxuXHQgICAgICogVGhpcyBpcyB1c2VkIHRvIGluamVjdCBjb25maWd1cmF0aW9uIGRhdGEgc3VjaCBhcyBpZCwgYWNjZXNzIHRva2VuLCBhbmQgc2V0dGluZ3MgZXRjXHJcblx0ICAgICAqIHdoaWNoIGFsbG93IGlmcmFtZSB0byBsb2FkIHRoZSBhY3R1YWwgcmVwb3J0IHdpdGggYXV0aGVudGljYXRpb24uXHJcblx0ICAgICAqL1xyXG5cdCAgICBFbWJlZC5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuXHQgICAgICAgIHZhciBlcnJvcnMgPSBwcm90b2NvbC52YWxpZGF0ZUxvYWQoY29uZmlnKTtcclxuXHQgICAgICAgIGlmIChlcnJvcnMpIHtcclxuXHQgICAgICAgICAgICB0aHJvdyBlcnJvcnM7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICByZXR1cm4gdGhpcy5ocG0ucG9zdCgnL3JlcG9ydC9sb2FkJywgY29uZmlnKVxyXG5cdCAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHQgICAgICAgICAgICB0aHJvdyByZXNwb25zZS5ib2R5O1xyXG5cdCAgICAgICAgfSk7XHJcblx0ICAgIH07XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBHZXQgYWNjZXNzIHRva2VuIGZyb20gZmlyc3QgYXZhaWxhYmxlIGxvY2F0aW9uOiBjb25maWcsIGF0dHJpYnV0ZSwgZ2xvYmFsLlxyXG5cdCAgICAgKi9cclxuXHQgICAgRW1iZWQucHJvdG90eXBlLmdldEFjY2Vzc1Rva2VuID0gZnVuY3Rpb24gKGdldEdsb2JhbEFjY2Vzc1Rva2VuKSB7XHJcblx0ICAgICAgICB2YXIgYWNjZXNzVG9rZW4gPSB0aGlzLmNvbmZpZy5hY2Nlc3NUb2tlbiB8fCB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKEVtYmVkLmFjY2Vzc1Rva2VuQXR0cmlidXRlKSB8fCBnZXRHbG9iYWxBY2Nlc3NUb2tlbigpO1xyXG5cdCAgICAgICAgaWYgKCFhY2Nlc3NUb2tlbikge1xyXG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFjY2VzcyB0b2tlbiB3YXMgZm91bmQgZm9yIGVsZW1lbnQuIFlvdSBtdXN0IHNwZWNpZnkgYW4gYWNjZXNzIHRva2VuIGRpcmVjdGx5IG9uIHRoZSBlbGVtZW50IHVzaW5nIGF0dHJpYnV0ZSAnXCIgKyBFbWJlZC5hY2Nlc3NUb2tlbkF0dHJpYnV0ZSArIFwiJyBvciBzcGVjaWZ5IGEgZ2xvYmFsIHRva2VuIGF0OiBwb3dlcmJpLmFjY2Vzc1Rva2VuLlwiKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHJldHVybiBhY2Nlc3NUb2tlbjtcclxuXHQgICAgfTtcclxuXHQgICAgLyoqXHJcblx0ICAgICAqIEdldCBlbWJlZCB1cmwgZnJvbSBmaXJzdCBhdmFpbGFibGUgbG9jYXRpb246IG9wdGlvbnMsIGF0dHJpYnV0ZS5cclxuXHQgICAgICovXHJcblx0ICAgIEVtYmVkLnByb3RvdHlwZS5nZXRFbWJlZFVybCA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIHZhciBlbWJlZFVybCA9IHRoaXMuY29uZmlnLmVtYmVkVXJsIHx8IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoRW1iZWQuZW1iZWRVcmxBdHRyaWJ1dGUpO1xyXG5cdCAgICAgICAgaWYgKHR5cGVvZiBlbWJlZFVybCAhPT0gJ3N0cmluZycgfHwgZW1iZWRVcmwubGVuZ3RoID09PSAwKSB7XHJcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW1iZWQgVXJsIGlzIHJlcXVpcmVkLCBidXQgaXQgd2FzIG5vdCBmb3VuZC4gWW91IG11c3QgcHJvdmlkZSBhbiBlbWJlZCB1cmwgZWl0aGVyIGFzIHBhcnQgb2YgZW1iZWQgY29uZmlndXJhdGlvbiBvciBhcyBhdHRyaWJ1dGUgJ1wiICsgRW1iZWQuZW1iZWRVcmxBdHRyaWJ1dGUgKyBcIicuXCIpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgcmV0dXJuIGVtYmVkVXJsO1xyXG5cdCAgICB9O1xyXG5cdCAgICAvKipcclxuXHQgICAgICogUmVxdWVzdCB0aGUgYnJvd3NlciB0byBtYWtlIHRoZSBjb21wb25lbnQncyBpZnJhbWUgZnVsbHNjcmVlbi5cclxuXHQgICAgICovXHJcblx0ICAgIEVtYmVkLnByb3RvdHlwZS5mdWxsc2NyZWVuID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgdmFyIHJlcXVlc3RGdWxsU2NyZWVuID0gdGhpcy5pZnJhbWUucmVxdWVzdEZ1bGxzY3JlZW4gfHwgdGhpcy5pZnJhbWUubXNSZXF1ZXN0RnVsbHNjcmVlbiB8fCB0aGlzLmlmcmFtZS5tb3pSZXF1ZXN0RnVsbFNjcmVlbiB8fCB0aGlzLmlmcmFtZS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbjtcclxuXHQgICAgICAgIHJlcXVlc3RGdWxsU2NyZWVuLmNhbGwodGhpcy5pZnJhbWUpO1xyXG5cdCAgICB9O1xyXG5cdCAgICAvKipcclxuXHQgICAgICogRXhpdCBmdWxsc2NyZWVuLlxyXG5cdCAgICAgKi9cclxuXHQgICAgRW1iZWQucHJvdG90eXBlLmV4aXRGdWxsc2NyZWVuID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgaWYgKCF0aGlzLmlzRnVsbHNjcmVlbih0aGlzLmlmcmFtZSkpIHtcclxuXHQgICAgICAgICAgICByZXR1cm47XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICB2YXIgZXhpdEZ1bGxzY3JlZW4gPSBkb2N1bWVudC5leGl0RnVsbHNjcmVlbiB8fCBkb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuIHx8IGRvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuIHx8IGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW47XHJcblx0ICAgICAgICBleGl0RnVsbHNjcmVlbi5jYWxsKGRvY3VtZW50KTtcclxuXHQgICAgfTtcclxuXHQgICAgRW1iZWQuZmluZElkRnJvbUVtYmVkVXJsID0gZnVuY3Rpb24gKHVybCkge1xyXG5cdCAgICAgICAgdmFyIHJlcG9ydElkUmVnRXggPSAvcmVwb3J0SWQ9XCI/KFteJl0rKVwiPy87XHJcblx0ICAgICAgICB2YXIgcmVwb3J0SWRNYXRjaCA9IHVybC5tYXRjaChyZXBvcnRJZFJlZ0V4KTtcclxuXHQgICAgICAgIHZhciByZXBvcnRJZDtcclxuXHQgICAgICAgIGlmIChyZXBvcnRJZE1hdGNoKSB7XHJcblx0ICAgICAgICAgICAgcmVwb3J0SWQgPSByZXBvcnRJZE1hdGNoWzFdO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgcmV0dXJuIHJlcG9ydElkO1xyXG5cdCAgICB9O1xyXG5cdCAgICAvKipcclxuXHQgICAgICogUmV0dXJuIHRydWUgaWYgaWZyYW1lIGlzIGZ1bGxzY3JlZW4sXHJcblx0ICAgICAqIG90aGVyd2lzZSByZXR1cm4gZmFsc2VcclxuXHQgICAgICovXHJcblx0ICAgIEVtYmVkLnByb3RvdHlwZS5pc0Z1bGxzY3JlZW4gPSBmdW5jdGlvbiAoaWZyYW1lKSB7XHJcblx0ICAgICAgICB2YXIgb3B0aW9ucyA9IFsnZnVsbHNjcmVlbkVsZW1lbnQnLCAnd2Via2l0RnVsbHNjcmVlbkVsZW1lbnQnLCAnbW96RnVsbHNjcmVlblNjcmVlbkVsZW1lbnQnLCAnbXNGdWxsc2NyZWVuRWxlbWVudCddO1xyXG5cdCAgICAgICAgcmV0dXJuIG9wdGlvbnMuc29tZShmdW5jdGlvbiAob3B0aW9uKSB7IHJldHVybiBkb2N1bWVudFtvcHRpb25dID09PSBpZnJhbWU7IH0pO1xyXG5cdCAgICB9O1xyXG5cdCAgICBFbWJlZC5lbWJlZFVybEF0dHJpYnV0ZSA9ICdwb3dlcmJpLWVtYmVkLXVybCc7XHJcblx0ICAgIEVtYmVkLmFjY2Vzc1Rva2VuQXR0cmlidXRlID0gJ3Bvd2VyYmktYWNjZXNzLXRva2VuJztcclxuXHQgICAgRW1iZWQudHlwZUF0dHJpYnV0ZSA9ICdwb3dlcmJpLXR5cGUnO1xyXG5cdCAgICBFbWJlZC5kZWZhdWx0U2V0dGluZ3MgPSB7XHJcblx0ICAgICAgICBmaWx0ZXJQYW5lRW5hYmxlZDogdHJ1ZVxyXG5cdCAgICB9O1xyXG5cdCAgICBFbWJlZC5kZWZhdWx0RGVidWdPcHRpb25zID0ge1xyXG5cdCAgICAgICAgbG9nTWVzc2FnZXM6IGZhbHNlLFxyXG5cdCAgICAgICAgd3BtcE5hbWU6ICdTZGtSZXBvcnRXcG1wJ1xyXG5cdCAgICB9O1xyXG5cdCAgICByZXR1cm4gRW1iZWQ7XHJcblx0fSgpKTtcclxuXHRleHBvcnRzLkVtYmVkID0gRW1iZWQ7XHJcblxuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIFV0aWxzID0gKGZ1bmN0aW9uICgpIHtcclxuXHQgICAgZnVuY3Rpb24gVXRpbHMoKSB7XHJcblx0ICAgIH1cclxuXHQgICAgVXRpbHMucmFpc2VDdXN0b21FdmVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCBldmVudE5hbWUsIGV2ZW50RGF0YSkge1xyXG5cdCAgICAgICAgdmFyIGN1c3RvbUV2ZW50O1xyXG5cdCAgICAgICAgaWYgKHR5cGVvZiBDdXN0b21FdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdCAgICAgICAgICAgIGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwge1xyXG5cdCAgICAgICAgICAgICAgICBkZXRhaWw6IGV2ZW50RGF0YSxcclxuXHQgICAgICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcclxuXHQgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxyXG5cdCAgICAgICAgICAgIH0pO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZWxzZSB7XHJcblx0ICAgICAgICAgICAgY3VzdG9tRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcclxuXHQgICAgICAgICAgICBjdXN0b21FdmVudC5pbml0Q3VzdG9tRXZlbnQoZXZlbnROYW1lLCB0cnVlLCB0cnVlLCBldmVudERhdGEpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcclxuXHQgICAgICAgIGlmIChjdXN0b21FdmVudC5kZWZhdWx0UHJldmVudGVkIHx8ICFjdXN0b21FdmVudC5yZXR1cm5WYWx1ZSkge1xyXG5cdCAgICAgICAgICAgIHJldHVybjtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGlzPyBTaG91bGQgYmUgYmV0dGVyIHdheSB0byBoYW5kbGUgZXZlbnRzIHRoYW4gdXNpbmcgZXZhbD9cclxuXHQgICAgICAgIC8vIFdoYXQgaXMgdXNlIGNhc2U/IDxkaXYgcG93ZXJiaS10eXBlPVwicmVwb3J0XCIgb25sb2FkPVwiYWxlcnQoJ2xvYWRlZCcpO1wiPjwvZGl2PlxyXG5cdCAgICAgICAgdmFyIGlubGluZUV2ZW50QXR0ciA9ICdvbicgKyBldmVudE5hbWUucmVwbGFjZSgnLScsICcnKTtcclxuXHQgICAgICAgIHZhciBpbmxpbmVTY3JpcHQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShpbmxpbmVFdmVudEF0dHIpO1xyXG5cdCAgICAgICAgaWYgKGlubGluZVNjcmlwdCkge1xyXG5cdCAgICAgICAgICAgIGV2YWwuY2FsbChlbGVtZW50LCBpbmxpbmVTY3JpcHQpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICBVdGlscy5maW5kSW5kZXggPSBmdW5jdGlvbiAocHJlZGljYXRlLCB4cykge1xyXG5cdCAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHhzKSkge1xyXG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhdHRlbXB0ZWQgdG8gY2FsbCBmaW5kIHdpdGggc2Vjb25kIHBhcmFtZXRlciB0aGF0IHdhcyBub3QgYW4gYXJyYXkuIFlvdSBwYXNzZWQ6IFwiICsgeHMpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgdmFyIGluZGV4O1xyXG5cdCAgICAgICAgeHMuc29tZShmdW5jdGlvbiAoeCwgaSkge1xyXG5cdCAgICAgICAgICAgIGlmIChwcmVkaWNhdGUoeCkpIHtcclxuXHQgICAgICAgICAgICAgICAgaW5kZXggPSBpO1xyXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICB9KTtcclxuXHQgICAgICAgIHJldHVybiBpbmRleDtcclxuXHQgICAgfTtcclxuXHQgICAgVXRpbHMuZmluZCA9IGZ1bmN0aW9uIChwcmVkaWNhdGUsIHhzKSB7XHJcblx0ICAgICAgICB2YXIgaW5kZXggPSBVdGlscy5maW5kSW5kZXgocHJlZGljYXRlLCB4cyk7XHJcblx0ICAgICAgICByZXR1cm4geHNbaW5kZXhdO1xyXG5cdCAgICB9O1xyXG5cdCAgICBVdGlscy5yZW1vdmUgPSBmdW5jdGlvbiAocHJlZGljYXRlLCB4cykge1xyXG5cdCAgICAgICAgdmFyIGluZGV4ID0gVXRpbHMuZmluZEluZGV4KHByZWRpY2F0ZSwgeHMpO1xyXG5cdCAgICAgICAgeHMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHQgICAgfTtcclxuXHQgICAgLy8gU2VlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWduXHJcblx0ICAgIC8vIFRPRE86IHJlcGxhY2UgaW4gZmF2b3Igb2YgdXNpbmcgcG9seWZpbGxcclxuXHQgICAgVXRpbHMuYXNzaWduID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuXHQgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcblx0ICAgICAgICAgICAgYXJnc1tfaSAtIDBdID0gYXJndW1lbnRzW19pXTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHZhciB0YXJnZXQgPSBhcmdzWzBdO1xyXG5cdCAgICAgICAgJ3VzZSBzdHJpY3QnO1xyXG5cdCAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xyXG5cdCAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgdmFyIG91dHB1dCA9IE9iamVjdCh0YXJnZXQpO1xyXG5cdCAgICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcclxuXHQgICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcclxuXHQgICAgICAgICAgICBpZiAoc291cmNlICE9PSB1bmRlZmluZWQgJiYgc291cmNlICE9PSBudWxsKSB7XHJcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIG5leHRLZXkgaW4gc291cmNlKSB7XHJcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KG5leHRLZXkpKSB7XHJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W25leHRLZXldID0gc291cmNlW25leHRLZXldO1xyXG5cdCAgICAgICAgICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuXHQgICAgfTtcclxuXHQgICAgcmV0dXJuIFV0aWxzO1xyXG5cdH0oKSk7XHJcblx0ZXhwb3J0cy5VdGlscyA9IFV0aWxzO1xyXG5cblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBqc2VuID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcclxuXHRmdW5jdGlvbiBub3JtYWxpemVFcnJvcihlcnJvcikge1xyXG5cdCAgICBpZiAoIWVycm9yLm1lc3NhZ2UpIHtcclxuXHQgICAgICAgIGVycm9yLm1lc3NhZ2UgPSBlcnJvci5wYXRoICsgXCIgaXMgaW52YWxpZC4gTm90IG1lZXRpbmcgXCIgKyBlcnJvci5rZXl3b3JkICsgXCIgY29uc3RyYWludFwiO1xyXG5cdCAgICB9XHJcblx0ICAgIGRlbGV0ZSBlcnJvci5wYXRoO1xyXG5cdCAgICBkZWxldGUgZXJyb3Iua2V5d29yZDtcclxuXHQgICAgcmV0dXJuIGVycm9yO1xyXG5cdH1cclxuXHQvKipcclxuXHQgKiBUYWtlcyBpbiBzY2hlbWEgYW5kIHJldHVybnMgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIHVzZWQgdG8gdmFsaWRhdGUgdGhlIHNjaGVtYSB3aXRoIGJldHRlciBzZW1hbnRpY3MgYXJvdW5kIGV4cG9zaW5nIGVycm9yc1xyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIHZhbGlkYXRlKHNjaGVtYSwgb3B0aW9ucykge1xyXG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKHgpIHtcclxuXHQgICAgICAgIHZhciB2YWxpZGF0ZSA9IGpzZW4oc2NoZW1hLCBvcHRpb25zKTtcclxuXHQgICAgICAgIHZhciBpc1ZhbGlkID0gdmFsaWRhdGUoeCk7XHJcblx0ICAgICAgICBpZiAoaXNWYWxpZCkge1xyXG5cdCAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBlbHNlIHtcclxuXHQgICAgICAgICAgICByZXR1cm4gdmFsaWRhdGUuZXJyb3JzXHJcblx0ICAgICAgICAgICAgICAgIC5tYXAobm9ybWFsaXplRXJyb3IpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdH1cclxuXHRleHBvcnRzLnZhbGlkYXRlID0gdmFsaWRhdGU7XHJcblx0ZXhwb3J0cy5zZXR0aW5nc1NjaGVtYSA9IHtcclxuXHQgICAgXCIkc2NoZW1hXCI6IFwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNC9zY2hlbWEjXCIsXHJcblx0ICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxyXG5cdCAgICBcInByb3BlcnRpZXNcIjoge1xyXG5cdCAgICAgICAgXCJmaWx0ZXJcIjoge1xyXG5cdCAgICAgICAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiXHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgXCJmaWx0ZXJQYW5lRW5hYmxlZFwiOiB7XHJcblx0ICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbGVhblwiLFxyXG5cdCAgICAgICAgICAgIFwibWVzc2FnZXNcIjoge1xyXG5cdCAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJmaWx0ZXJQYW5lRW5hYmxlZCBtdXN0IGJlIGEgYm9vbGVhblwiXHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgfSxcclxuXHQgICAgICAgIFwicGFnZU5hbWVcIjoge1xyXG5cdCAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxyXG5cdCAgICAgICAgICAgIFwibWVzc2FnZXNcIjoge1xyXG5cdCAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJwYWdlTmFtZSBtdXN0IGJlIGEgc3RyaW5nXCJcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgXCJwYWdlTmF2aWdhdGlvbkVuYWJsZWRcIjoge1xyXG5cdCAgICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xlYW5cIixcclxuXHQgICAgICAgICAgICBcIm1lc3NhZ2VzXCI6IHtcclxuXHQgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwicGFnZU5hdmlnYXRpb25FbmFibGVkIG11c3QgYmUgYSBib29sZWFuXCJcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH1cclxuXHR9O1xyXG5cdGV4cG9ydHMudmFsaWRhdGVTZXR0aW5ncyA9IHZhbGlkYXRlKGV4cG9ydHMuc2V0dGluZ3NTY2hlbWEpO1xyXG5cdGV4cG9ydHMubG9hZFNjaGVtYSA9IHtcclxuXHQgICAgXCIkc2NoZW1hXCI6IFwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNC9zY2hlbWEjXCIsXHJcblx0ICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxyXG5cdCAgICBcInByb3BlcnRpZXNcIjoge1xyXG5cdCAgICAgICAgXCJhY2Nlc3NUb2tlblwiOiB7XHJcblx0ICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXHJcblx0ICAgICAgICAgICAgXCJtZXNzYWdlc1wiOiB7XHJcblx0ICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImFjY2Vzc1Rva2VuIG11c3QgYmUgYSBzdHJpbmdcIixcclxuXHQgICAgICAgICAgICAgICAgXCJyZXF1aXJlZFwiOiBcImFjY2Vzc1Rva2VuIGlzIHJlcXVpcmVkXCJcclxuXHQgICAgICAgICAgICB9LFxyXG5cdCAgICAgICAgICAgIFwiaW52YWxpZE1lc3NhZ2VcIjogXCJhY2Nlc3NUb2tlbiBwcm9wZXJ0eSBpcyBpbnZhbGlkXCJcclxuXHQgICAgICAgIH0sXHJcblx0ICAgICAgICBcImlkXCI6IHtcclxuXHQgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcclxuXHQgICAgICAgICAgICBcIm1lc3NhZ2VzXCI6IHtcclxuXHQgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiaWQgbXVzdCBiZSBhIHN0cmluZ1wiLFxyXG5cdCAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IFwiaWQgaXMgcmVxdWlyZWRcIlxyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgIH0sXHJcblx0ICAgICAgICBcInNldHRpbmdzXCI6IHtcclxuXHQgICAgICAgICAgICBcIiRyZWZcIjogXCIjc2V0dGluZ3NcIlxyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9LFxyXG5cdCAgICBcInJlcXVpcmVkXCI6IFtcclxuXHQgICAgICAgIFwiYWNjZXNzVG9rZW5cIixcclxuXHQgICAgICAgIFwiaWRcIlxyXG5cdCAgICBdXHJcblx0fTtcclxuXHRleHBvcnRzLnZhbGlkYXRlTG9hZCA9IHZhbGlkYXRlKGV4cG9ydHMubG9hZFNjaGVtYSwge1xyXG5cdCAgICBzY2hlbWFzOiB7XHJcblx0ICAgICAgICBzZXR0aW5nczogZXhwb3J0cy5zZXR0aW5nc1NjaGVtYVxyXG5cdCAgICB9XHJcblx0fSk7XHJcblx0ZXhwb3J0cy5wYWdlVGFyZ2V0U2NoZW1hID0ge1xyXG5cdCAgICBcIiRzY2hlbWFcIjogXCJodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA0L3NjaGVtYSNcIixcclxuXHQgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXHJcblx0ICAgIFwicHJvcGVydGllc1wiOiB7XHJcblx0ICAgICAgICBcInR5cGVcIjoge1xyXG5cdCAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxyXG5cdCAgICAgICAgICAgIFwiZW51bVwiOiBbXHJcblx0ICAgICAgICAgICAgICAgIFwicGFnZVwiXHJcblx0ICAgICAgICAgICAgXSxcclxuXHQgICAgICAgICAgICBcIm1lc3NhZ2VzXCI6IHtcclxuXHQgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidHlwZSBtdXN0IGJlIGEgc3RyaW5nXCIsXHJcblx0ICAgICAgICAgICAgICAgIFwiZW51bVwiOiBcInR5cGUgbXVzdCBiZSAncGFnZSdcIixcclxuXHQgICAgICAgICAgICAgICAgXCJyZXF1aXJlZFwiOiBcInR5cGUgaXMgcmVxdWlyZWRcIlxyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgIH0sXHJcblx0ICAgICAgICBcIm5hbWVcIjoge1xyXG5cdCAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxyXG5cdCAgICAgICAgICAgIFwibWVzc2FnZXNcIjoge1xyXG5cdCAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJuYW1lIG11c3QgYmUgYSBzdHJpbmdcIixcclxuXHQgICAgICAgICAgICAgICAgXCJyZXF1aXJlZFwiOiBcIm5hbWUgaXMgcmVxdWlyZWRcIlxyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgIH1cclxuXHQgICAgfSxcclxuXHQgICAgXCJyZXF1aXJlZFwiOiBbXHJcblx0ICAgICAgICBcInR5cGVcIixcclxuXHQgICAgICAgIFwibmFtZVwiXHJcblx0ICAgIF1cclxuXHR9O1xyXG5cdGV4cG9ydHMudmFsaWRhdGVQYWdlVGFyZ2V0ID0gdmFsaWRhdGUoZXhwb3J0cy5wYWdlVGFyZ2V0U2NoZW1hKTtcclxuXHRleHBvcnRzLnZpc3VhbFRhcmdldFNjaGVtYSA9IHtcclxuXHQgICAgXCIkc2NoZW1hXCI6IFwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNC9zY2hlbWEjXCIsXHJcblx0ICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxyXG5cdCAgICBcInByb3BlcnRpZXNcIjoge1xyXG5cdCAgICAgICAgXCJ0eXBlXCI6IHtcclxuXHQgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcclxuXHQgICAgICAgICAgICBcImVudW1cIjogW1xyXG5cdCAgICAgICAgICAgICAgICBcInZpc3VhbFwiXHJcblx0ICAgICAgICAgICAgXSxcclxuXHQgICAgICAgICAgICBcIm1lc3NhZ2VzXCI6IHtcclxuXHQgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidHlwZSBtdXN0IGJlIGEgc3RyaW5nXCIsXHJcblx0ICAgICAgICAgICAgICAgIFwiZW51bVwiOiBcInR5cGUgbXVzdCBiZSAndmlzdWFsJ1wiLFxyXG5cdCAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IFwidHlwZSBpcyByZXF1aXJlZFwiXHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgfSxcclxuXHQgICAgICAgIFwiaWRcIjoge1xyXG5cdCAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxyXG5cdCAgICAgICAgICAgIFwibWVzc2FnZXNcIjoge1xyXG5cdCAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJpZCBtdXN0IGJlIGEgc3RyaW5nXCIsXHJcblx0ICAgICAgICAgICAgICAgIFwicmVxdWlyZWRcIjogXCJpZCBpcyByZXF1aXJlZFwiXHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9LFxyXG5cdCAgICBcInJlcXVpcmVkXCI6IFtcclxuXHQgICAgICAgIFwidHlwZVwiLFxyXG5cdCAgICAgICAgXCJpZFwiXHJcblx0ICAgIF1cclxuXHR9O1xyXG5cdGV4cG9ydHMudmFsaWRhdGVWaXN1YWxUYXJnZXQgPSB2YWxpZGF0ZShleHBvcnRzLnZpc3VhbFRhcmdldFNjaGVtYSk7XHJcblx0ZXhwb3J0cy5wYWdlU2NoZW1hID0ge1xyXG5cdCAgICBcIiRzY2hlbWFcIjogXCJodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA0L3NjaGVtYSNcIixcclxuXHQgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXHJcblx0ICAgIFwicHJvcGVydGllc1wiOiB7XHJcblx0ICAgICAgICBcIm5hbWVcIjoge1xyXG5cdCAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxyXG5cdCAgICAgICAgICAgIFwibWVzc2FnZXNcIjoge1xyXG5cdCAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJuYW1lIG11c3QgYmUgYSBzdHJpbmdcIixcclxuXHQgICAgICAgICAgICAgICAgXCJyZXF1aXJlZFwiOiBcIm5hbWUgaXMgcmVxdWlyZWRcIlxyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgIH0sXHJcblx0ICAgICAgICBcImRpc3BsYXlOYW1lXCI6IHtcclxuXHQgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcclxuXHQgICAgICAgICAgICBcIm1lc3NhZ2VzXCI6IHtcclxuXHQgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZGlzcGxheU5hbWUgbXVzdCBiZSBhIHN0cmluZ1wiLFxyXG5cdCAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IFwiZGlzcGxheU5hbWUgaXMgcmVxdWlyZWRcIlxyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgIH1cclxuXHQgICAgfSxcclxuXHQgICAgXCJyZXF1aXJlZFwiOiBbXHJcblx0ICAgICAgICBcIm5hbWVcIixcclxuXHQgICAgICAgIFwiZGlzcGxheU5hbWVcIlxyXG5cdCAgICBdXHJcblx0fTtcclxuXHRleHBvcnRzLnZhbGlkYXRlUGFnZSA9IHZhbGlkYXRlKGV4cG9ydHMucGFnZVNjaGVtYSk7XHJcblxuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgUEFUSF9SRVBMQUNFX0VYUFIgPSAvXFxbLis/XFxdL2csXG5cdCAgICBQQVRIX1BST1BfUkVQTEFDRV9FWFBSID0gL1xcWz8oLio/KT9cXF0vLFxuXHQgICAgUkVHRVhfRVNDQVBFX0VYUFIgPSAvW1xcL10vZyxcblx0ICAgIFZBTElEX0lERU5USUZJRVJfRVhQUiA9IC9eW2Etel8kXVswLTlhLXpdKiQvZ2ksXG5cdCAgICBJTlZBTElEX1NDSEVNQSA9ICdqc2VuOiBpbnZhbGlkIHNjaGVtYSBvYmplY3QnLFxuXHQgICAgYnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmICEhd2luZG93Lm5hdmlnYXRvciwgICAvLyBqc2hpbnQgaWdub3JlOiBsaW5lXG5cdCAgICBub2RldjAgPSB0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcgJiYgcHJvY2Vzcy52ZXJzaW9uLnNwbGl0KCcuJylbMF0gPT09ICd2MCcsXG5cdCAgICBmdW5jID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KSxcblx0ICAgIGVxdWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KSxcblx0ICAgIHVuaXF1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTApLFxuXHQgICAgU2NoZW1hUmVzb2x2ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKSxcblx0ICAgIGZvcm1hdHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKSxcblx0ICAgIHR5cGVzID0ge30sXG5cdCAgICBrZXl3b3JkcyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gaW5saW5lUmVnZXgocmVnZXgpIHtcblx0ICAgIHZhciBzdHIgPSByZWdleCBpbnN0YW5jZW9mIFJlZ0V4cCA/IHJlZ2V4LnRvU3RyaW5nKCkgOiBuZXcgUmVnRXhwKHJlZ2V4KS50b1N0cmluZygpO1xuXHRcblx0ICAgIGlmICghbm9kZXYwKSB7XG5cdCAgICAgICAgcmV0dXJuIHN0cjtcblx0ICAgIH1cblx0XG5cdCAgICBzdHIgPSBzdHIuc3Vic3RyKDEsIHN0ci5sZW5ndGggLSAyKTtcblx0ICAgIHN0ciA9ICcvJyArIHN0ci5yZXBsYWNlKFJFR0VYX0VTQ0FQRV9FWFBSLCAnXFxcXCQmJykgKyAnLyc7XG5cdFxuXHQgICAgcmV0dXJuIHN0cjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYXBwZW5kVG9QYXRoKHBhdGgsIGtleSkge1xuXHQgICAgVkFMSURfSURFTlRJRklFUl9FWFBSLmxhc3RJbmRleCA9IDA7XG5cdFxuXHQgICAgcmV0dXJuIFZBTElEX0lERU5USUZJRVJfRVhQUi50ZXN0KGtleSkgP1xuXHQgICAgICAgIHBhdGggKyAnLicgKyBrZXkgOlxuXHQgICAgICAgIHBhdGggKyAnW1wiJyArIGtleSArICdcIl0nO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0eXBlKG9iaikge1xuXHQgICAgdmFyIHN0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopO1xuXHQgICAgcmV0dXJuIHN0ci5zdWJzdHIoOCwgc3RyLmxlbmd0aCAtIDkpLnRvTG93ZXJDYXNlKCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzSW50ZWdlcihvYmopIHtcblx0ICAgIHJldHVybiAob2JqIHwgMCkgPT09IG9iajsgICAvLyBqc2hpbnQgaWdub3JlOiBsaW5lXG5cdH1cblx0XG5cdHR5cGVzWydudWxsJ10gPSBmdW5jdGlvbiAocGF0aCkge1xuXHQgICAgcmV0dXJuIHBhdGggKyAnID09PSBudWxsJztcblx0fTtcblx0XG5cdHR5cGVzLmJvb2xlYW4gPSBmdW5jdGlvbiAocGF0aCkge1xuXHQgICAgcmV0dXJuICd0eXBlb2YgJyArIHBhdGggKyAnID09PSBcImJvb2xlYW5cIic7XG5cdH07XG5cdFxuXHR0eXBlcy5zdHJpbmcgPSBmdW5jdGlvbiAocGF0aCkge1xuXHQgICAgcmV0dXJuICd0eXBlb2YgJyArIHBhdGggKyAnID09PSBcInN0cmluZ1wiJztcblx0fTtcblx0XG5cdHR5cGVzLm51bWJlciA9IGZ1bmN0aW9uIChwYXRoKSB7XG5cdCAgICByZXR1cm4gJ3R5cGVvZiAnICsgcGF0aCArICcgPT09IFwibnVtYmVyXCInO1xuXHR9O1xuXHRcblx0dHlwZXMuaW50ZWdlciA9IGZ1bmN0aW9uIChwYXRoKSB7XG5cdCAgICByZXR1cm4gJ3R5cGVvZiAnICsgcGF0aCArICcgPT09IFwibnVtYmVyXCIgJiYgISgnICsgcGF0aCArICcgJSAxKSc7XG5cdH07XG5cdFxuXHR0eXBlcy5hcnJheSA9IGZ1bmN0aW9uIChwYXRoKSB7XG5cdCAgICByZXR1cm4gcGF0aCArICcgIT09IHVuZGVmaW5lZCAmJiBBcnJheS5pc0FycmF5KCcgKyBwYXRoICsgJyknO1xuXHR9O1xuXHRcblx0dHlwZXMub2JqZWN0ID0gZnVuY3Rpb24gKHBhdGgpIHtcblx0ICAgIHJldHVybiBwYXRoICsgJyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiAnICsgcGF0aCArICcgPT09IFwib2JqZWN0XCIgJiYgJyArIHBhdGggKyAnICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KCcgKyBwYXRoICsgJyknO1xuXHR9O1xuXHRcblx0dHlwZXMuZGF0ZSA9IGZ1bmN0aW9uIChwYXRoKSB7XG5cdCAgICByZXR1cm4gcGF0aCArICcgIT09IHVuZGVmaW5lZCAmJiAnICsgcGF0aCArICcgaW5zdGFuY2VvZiBEYXRlJztcblx0fTtcblx0XG5cdGtleXdvcmRzLnR5cGUgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuXHQgICAgaWYgKCFjb250ZXh0LnNjaGVtYS50eXBlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBzcGVjaWZpZWQgPSBBcnJheS5pc0FycmF5KGNvbnRleHQuc2NoZW1hLnR5cGUpID8gY29udGV4dC5zY2hlbWEudHlwZSA6IFtjb250ZXh0LnNjaGVtYS50eXBlXSxcblx0ICAgICAgICBzcmMgPSBzcGVjaWZpZWQubWFwKGZ1bmN0aW9uIG1hcFR5cGUodHlwZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdHlwZXNbdHlwZV0gPyB0eXBlc1t0eXBlXShjb250ZXh0LnBhdGgpIHx8ICd0cnVlJyA6ICd0cnVlJztcblx0ICAgICAgICB9KS5qb2luKCcgfHwgJyk7XG5cdFxuXHQgICAgaWYgKHNyYykge1xuXHQgICAgICAgIGNvbnRleHQuY29kZSgnaWYgKCEoJyArIHNyYyArICcpKSB7Jyk7XG5cdFxuXHQgICAgICAgIGNvbnRleHQuZXJyb3IoJ3R5cGUnKTtcblx0XG5cdCAgICAgICAgY29udGV4dC5jb2RlKCd9Jyk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRrZXl3b3Jkc1snZW51bSddID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcblx0ICAgIHZhciBhcnIgPSBjb250ZXh0LnNjaGVtYVsnZW51bSddLFxuXHQgICAgICAgIGNsYXVzZXMgPSBbXSxcblx0ICAgICAgICB2YWx1ZSwgZW51bVR5cGUsIGk7XG5cdFxuXHQgICAgaWYgKCFBcnJheS5pc0FycmF5KGFycikpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhbHVlID0gYXJyW2ldO1xuXHQgICAgICAgIGVudW1UeXBlID0gdHlwZW9mIHZhbHVlO1xuXHRcblx0ICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgWydib29sZWFuJywgJ251bWJlcicsICdzdHJpbmcnXS5pbmRleE9mKGVudW1UeXBlKSA+IC0xKSB7XG5cdCAgICAgICAgICAgIC8vIHNpbXBsZSBlcXVhbGl0eSBjaGVjayBmb3Igc2ltcGxlIGRhdGEgdHlwZXNcblx0ICAgICAgICAgICAgaWYgKGVudW1UeXBlID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICAgICAgY2xhdXNlcy5wdXNoKGNvbnRleHQucGF0aCArICcgPT09IFwiJyArIHZhbHVlICsgJ1wiJyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBjbGF1c2VzLnB1c2goY29udGV4dC5wYXRoICsgJyA9PT0gJyArIHZhbHVlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgLy8gZGVlcCBlcXVhbGl0eSBjaGVjayBmb3IgY29tcGxleCB0eXBlcyBvciByZWdleGVzXG5cdCAgICAgICAgICAgIGNsYXVzZXMucHVzaCgnZXF1YWwoJyArIGNvbnRleHQucGF0aCArICcsICcgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgKyAnKScpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBjb250ZXh0LmNvZGUoJ2lmICghKCcgKyBjbGF1c2VzLmpvaW4oJyB8fCAnKSArICcpKSB7Jyk7XG5cdCAgICBjb250ZXh0LmVycm9yKCdlbnVtJyk7XG5cdCAgICBjb250ZXh0LmNvZGUoJ30nKTtcblx0fTtcblx0XG5cdGtleXdvcmRzLm1pbmltdW0gPSBmdW5jdGlvbiAoY29udGV4dCkge1xuXHQgICAgaWYgKHR5cGVvZiBjb250ZXh0LnNjaGVtYS5taW5pbXVtID09PSAnbnVtYmVyJykge1xuXHQgICAgICAgIGNvbnRleHQuY29kZSgnaWYgKCcgKyBjb250ZXh0LnBhdGggKyAnIDwgJyArIGNvbnRleHQuc2NoZW1hLm1pbmltdW0gKyAnKSB7Jyk7XG5cdCAgICAgICAgY29udGV4dC5lcnJvcignbWluaW11bScpO1xuXHQgICAgICAgIGNvbnRleHQuY29kZSgnfScpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0a2V5d29yZHMuZXhjbHVzaXZlTWluaW11bSA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG5cdCAgICBpZiAoY29udGV4dC5zY2hlbWEuZXhjbHVzaXZlTWluaW11bSA9PT0gdHJ1ZSAmJiB0eXBlb2YgY29udGV4dC5zY2hlbWEubWluaW11bSA9PT0gJ251bWJlcicpIHtcblx0ICAgICAgICBjb250ZXh0LmNvZGUoJ2lmICgnICsgY29udGV4dC5wYXRoICsgJyA9PT0gJyArIGNvbnRleHQuc2NoZW1hLm1pbmltdW0gKyAnKSB7Jyk7XG5cdCAgICAgICAgY29udGV4dC5lcnJvcignZXhjbHVzaXZlTWluaW11bScpO1xuXHQgICAgICAgIGNvbnRleHQuY29kZSgnfScpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0a2V5d29yZHMubWF4aW11bSA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG5cdCAgICBpZiAodHlwZW9mIGNvbnRleHQuc2NoZW1hLm1heGltdW0gPT09ICdudW1iZXInKSB7XG5cdCAgICAgICAgY29udGV4dC5jb2RlKCdpZiAoJyArIGNvbnRleHQucGF0aCArICcgPiAnICsgY29udGV4dC5zY2hlbWEubWF4aW11bSArICcpIHsnKTtcblx0ICAgICAgICBjb250ZXh0LmVycm9yKCdtYXhpbXVtJyk7XG5cdCAgICAgICAgY29udGV4dC5jb2RlKCd9Jyk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRrZXl3b3Jkcy5leGNsdXNpdmVNYXhpbXVtID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcblx0ICAgIGlmIChjb250ZXh0LnNjaGVtYS5leGNsdXNpdmVNYXhpbXVtID09PSB0cnVlICYmIHR5cGVvZiBjb250ZXh0LnNjaGVtYS5tYXhpbXVtID09PSAnbnVtYmVyJykge1xuXHQgICAgICAgIGNvbnRleHQuY29kZSgnaWYgKCcgKyBjb250ZXh0LnBhdGggKyAnID09PSAnICsgY29udGV4dC5zY2hlbWEubWF4aW11bSArICcpIHsnKTtcblx0ICAgICAgICBjb250ZXh0LmVycm9yKCdleGNsdXNpdmVNYXhpbXVtJyk7XG5cdCAgICAgICAgY29udGV4dC5jb2RlKCd9Jyk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRrZXl3b3Jkcy5tdWx0aXBsZU9mID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcblx0ICAgIGlmICh0eXBlb2YgY29udGV4dC5zY2hlbWEubXVsdGlwbGVPZiA9PT0gJ251bWJlcicpIHtcblx0ICAgICAgICB2YXIgbXVsID0gY29udGV4dC5zY2hlbWEubXVsdGlwbGVPZixcblx0ICAgICAgICAgICAgZGVjaW1hbHMgPSBtdWwudG9TdHJpbmcoKS5sZW5ndGggLSBtdWwudG9GaXhlZCgwKS5sZW5ndGggLSAxLFxuXHQgICAgICAgICAgICBwb3cgPSBkZWNpbWFscyA+IDAgPyBNYXRoLnBvdygxMCwgZGVjaW1hbHMpIDogMSxcblx0ICAgICAgICAgICAgcGF0aCA9IGNvbnRleHQucGF0aDtcblx0XG5cdCAgICAgICAgaWYgKGRlY2ltYWxzID4gMCkge1xuXHQgICAgICAgICAgICBjb250ZXh0LmNvZGUoJ2lmICgrKE1hdGgucm91bmQoKCcgKyBwYXRoICsgJyAqICcgKyBwb3cgKyAnKSArIFwiZStcIiArICcgKyBkZWNpbWFscyArICcpICsgXCJlLVwiICsgJyArIGRlY2ltYWxzICsgJykgJSAnICsgKG11bCAqIHBvdykgKyAnICE9PSAwKSB7Jyk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY29udGV4dC5jb2RlKCdpZiAoKCgnICsgcGF0aCArICcgKiAnICsgcG93ICsgJykgJSAnICsgKG11bCAqIHBvdykgKyAnKSAhPT0gMCkgeycpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgY29udGV4dC5lcnJvcignbXVsdGlwbGVPZicpO1xuXHQgICAgICAgIGNvbnRleHQuY29kZSgnfScpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0a2V5d29yZHMubWluTGVuZ3RoID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcblx0ICAgIGlmIChpc0ludGVnZXIoY29udGV4dC5zY2hlbWEubWluTGVuZ3RoKSkge1xuXHQgICAgICAgIGNvbnRleHQuY29kZSgnaWYgKCcgKyBjb250ZXh0LnBhdGggKyAnLmxlbmd0aCA8ICcgKyBjb250ZXh0LnNjaGVtYS5taW5MZW5ndGggKyAnKSB7Jyk7XG5cdCAgICAgICAgY29udGV4dC5lcnJvcignbWluTGVuZ3RoJyk7XG5cdCAgICAgICAgY29udGV4dC5jb2RlKCd9Jyk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRrZXl3b3Jkcy5tYXhMZW5ndGggPSBmdW5jdGlvbiAoY29udGV4dCkge1xuXHQgICAgaWYgKGlzSW50ZWdlcihjb250ZXh0LnNjaGVtYS5tYXhMZW5ndGgpKSB7XG5cdCAgICAgICAgY29udGV4dC5jb2RlKCdpZiAoJyArIGNvbnRleHQucGF0aCArICcubGVuZ3RoID4gJyArIGNvbnRleHQuc2NoZW1hLm1heExlbmd0aCArICcpIHsnKTtcblx0ICAgICAgICBjb250ZXh0LmVycm9yKCdtYXhMZW5ndGgnKTtcblx0ICAgICAgICBjb250ZXh0LmNvZGUoJ30nKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdGtleXdvcmRzLnBhdHRlcm4gPSBmdW5jdGlvbiAoY29udGV4dCkge1xuXHQgICAgdmFyIHJlZ2V4ID0gdHlwZW9mIGNvbnRleHQuc2NoZW1hLnBhdHRlcm4gPT09ICdzdHJpbmcnID9cblx0ICAgICAgICBuZXcgUmVnRXhwKGNvbnRleHQuc2NoZW1hLnBhdHRlcm4pIDpcblx0ICAgICAgICBjb250ZXh0LnNjaGVtYS5wYXR0ZXJuO1xuXHRcblx0ICAgIGlmICh0eXBlKHJlZ2V4KSA9PT0gJ3JlZ2V4cCcpIHtcblx0ICAgICAgICBjb250ZXh0LmNvZGUoJ2lmICghKCcgKyBpbmxpbmVSZWdleChyZWdleCkgKyAnKS50ZXN0KCcgKyBjb250ZXh0LnBhdGggKyAnKSkgeycpO1xuXHQgICAgICAgIGNvbnRleHQuZXJyb3IoJ3BhdHRlcm4nKTtcblx0ICAgICAgICBjb250ZXh0LmNvZGUoJ30nKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdGtleXdvcmRzLmZvcm1hdCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG5cdCAgICBpZiAodHlwZW9mIGNvbnRleHQuc2NoZW1hLmZvcm1hdCAhPT0gJ3N0cmluZycgfHwgIWZvcm1hdHNbY29udGV4dC5zY2hlbWEuZm9ybWF0XSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBjb250ZXh0LmNvZGUoJ2lmICghKCcgKyBmb3JtYXRzW2NvbnRleHQuc2NoZW1hLmZvcm1hdF0gKyAnKS50ZXN0KCcgKyBjb250ZXh0LnBhdGggKyAnKSkgeycpO1xuXHQgICAgY29udGV4dC5lcnJvcignZm9ybWF0Jyk7XG5cdCAgICBjb250ZXh0LmNvZGUoJ30nKTtcblx0fTtcblx0XG5cdGtleXdvcmRzLm1pbkl0ZW1zID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcblx0ICAgIGlmIChpc0ludGVnZXIoY29udGV4dC5zY2hlbWEubWluSXRlbXMpKSB7XG5cdCAgICAgICAgY29udGV4dC5jb2RlKCdpZiAoJyArIGNvbnRleHQucGF0aCArICcubGVuZ3RoIDwgJyArIGNvbnRleHQuc2NoZW1hLm1pbkl0ZW1zICsgJykgeycpO1xuXHQgICAgICAgIGNvbnRleHQuZXJyb3IoJ21pbkl0ZW1zJyk7XG5cdCAgICAgICAgY29udGV4dC5jb2RlKCd9Jyk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRrZXl3b3Jkcy5tYXhJdGVtcyA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG5cdCAgICBpZiAoaXNJbnRlZ2VyKGNvbnRleHQuc2NoZW1hLm1heEl0ZW1zKSkge1xuXHQgICAgICAgIGNvbnRleHQuY29kZSgnaWYgKCcgKyBjb250ZXh0LnBhdGggKyAnLmxlbmd0aCA+ICcgKyBjb250ZXh0LnNjaGVtYS5tYXhJdGVtcyArICcpIHsnKTtcblx0ICAgICAgICBjb250ZXh0LmVycm9yKCdtYXhJdGVtcycpO1xuXHQgICAgICAgIGNvbnRleHQuY29kZSgnfScpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0a2V5d29yZHMuYWRkaXRpb25hbEl0ZW1zID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcblx0ICAgIGlmIChjb250ZXh0LnNjaGVtYS5hZGRpdGlvbmFsSXRlbXMgPT09IGZhbHNlICYmIEFycmF5LmlzQXJyYXkoY29udGV4dC5zY2hlbWEuaXRlbXMpKSB7XG5cdCAgICAgICAgY29udGV4dC5jb2RlKCdpZiAoJyArIGNvbnRleHQucGF0aCArICcubGVuZ3RoID4gJyArIGNvbnRleHQuc2NoZW1hLml0ZW1zLmxlbmd0aCArICcpIHsnKTtcblx0ICAgICAgICBjb250ZXh0LmVycm9yKCdhZGRpdGlvbmFsSXRlbXMnKTtcblx0ICAgICAgICBjb250ZXh0LmNvZGUoJ30nKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdGtleXdvcmRzLnVuaXF1ZUl0ZW1zID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcblx0ICAgIGlmIChjb250ZXh0LnNjaGVtYS51bmlxdWVJdGVtcykge1xuXHQgICAgICAgIGNvbnRleHQuY29kZSgnaWYgKHVuaXF1ZSgnICsgY29udGV4dC5wYXRoICsgJykubGVuZ3RoICE9PSAnICsgY29udGV4dC5wYXRoICsgJy5sZW5ndGgpIHsnKTtcblx0ICAgICAgICBjb250ZXh0LmVycm9yKCd1bmlxdWVJdGVtcycpO1xuXHQgICAgICAgIGNvbnRleHQuY29kZSgnfScpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0a2V5d29yZHMuaXRlbXMgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuXHQgICAgdmFyIGluZGV4ID0gY29udGV4dC5kZWNsYXJlKDApLFxuXHQgICAgICAgIGkgPSAwO1xuXHRcblx0ICAgIGlmICh0eXBlKGNvbnRleHQuc2NoZW1hLml0ZW1zKSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICBjb250ZXh0LmNvZGUoJ2ZvciAoJyArIGluZGV4ICsgJzsgJyArIGluZGV4ICsgJyA8ICcgKyBjb250ZXh0LnBhdGggKyAnLmxlbmd0aDsgJyArIGluZGV4ICsgJysrKSB7Jyk7XG5cdFxuXHQgICAgICAgIGNvbnRleHQudmFsaWRhdGUoY29udGV4dC5wYXRoICsgJ1snICsgaW5kZXggKyAnXScsIGNvbnRleHQuc2NoZW1hLml0ZW1zLCBjb250ZXh0Lm5vRmFpbEZhc3QpO1xuXHRcblx0ICAgICAgICBjb250ZXh0LmNvZGUoJ30nKTtcblx0ICAgIH1cblx0ICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29udGV4dC5zY2hlbWEuaXRlbXMpKSB7XG5cdCAgICAgICAgZm9yICg7IGkgPCBjb250ZXh0LnNjaGVtYS5pdGVtcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBjb250ZXh0LmNvZGUoJ2lmICgnICsgY29udGV4dC5wYXRoICsgJy5sZW5ndGggLSAxID49ICcgKyBpICsgJykgeycpO1xuXHRcblx0ICAgICAgICAgICAgY29udGV4dC52YWxpZGF0ZShjb250ZXh0LnBhdGggKyAnWycgKyBpICsgJ10nLCBjb250ZXh0LnNjaGVtYS5pdGVtc1tpXSwgY29udGV4dC5ub0ZhaWxGYXN0KTtcblx0XG5cdCAgICAgICAgICAgIGNvbnRleHQuY29kZSgnfScpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKHR5cGUoY29udGV4dC5zY2hlbWEuYWRkaXRpb25hbEl0ZW1zKSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAgICAgY29udGV4dC5jb2RlKCdmb3IgKCcgKyBpbmRleCArICcgPSAnICsgaSArICc7ICcgKyBpbmRleCArICcgPCAnICsgY29udGV4dC5wYXRoICsgJy5sZW5ndGg7ICcgKyBpbmRleCArICcrKykgeycpO1xuXHRcblx0ICAgICAgICAgICAgY29udGV4dC52YWxpZGF0ZShjb250ZXh0LnBhdGggKyAnWycgKyBpbmRleCArICddJywgY29udGV4dC5zY2hlbWEuYWRkaXRpb25hbEl0ZW1zLCBjb250ZXh0Lm5vRmFpbEZhc3QpO1xuXHRcblx0ICAgICAgICAgICAgY29udGV4dC5jb2RlKCd9Jyk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0a2V5d29yZHMubWF4UHJvcGVydGllcyA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG5cdCAgICBpZiAoaXNJbnRlZ2VyKGNvbnRleHQuc2NoZW1hLm1heFByb3BlcnRpZXMpKSB7XG5cdCAgICAgICAgY29udGV4dC5jb2RlKCdpZiAoT2JqZWN0LmtleXMoJyArIGNvbnRleHQucGF0aCArICcpLmxlbmd0aCA+ICcgKyBjb250ZXh0LnNjaGVtYS5tYXhQcm9wZXJ0aWVzICsgJykgeycpO1xuXHQgICAgICAgIGNvbnRleHQuZXJyb3IoJ21heFByb3BlcnRpZXMnKTtcblx0ICAgICAgICBjb250ZXh0LmNvZGUoJ30nKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdGtleXdvcmRzLm1pblByb3BlcnRpZXMgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuXHQgICAgaWYgKGlzSW50ZWdlcihjb250ZXh0LnNjaGVtYS5taW5Qcm9wZXJ0aWVzKSkge1xuXHQgICAgICAgIGNvbnRleHQuY29kZSgnaWYgKE9iamVjdC5rZXlzKCcgKyBjb250ZXh0LnBhdGggKyAnKS5sZW5ndGggPCAnICsgY29udGV4dC5zY2hlbWEubWluUHJvcGVydGllcyArICcpIHsnKTtcblx0ICAgICAgICBjb250ZXh0LmVycm9yKCdtaW5Qcm9wZXJ0aWVzJyk7XG5cdCAgICAgICAgY29udGV4dC5jb2RlKCd9Jyk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRrZXl3b3Jkcy5yZXF1aXJlZCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG5cdCAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29udGV4dC5zY2hlbWEucmVxdWlyZWQpKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGV4dC5zY2hlbWEucmVxdWlyZWQubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBjb250ZXh0LmNvZGUoJ2lmICgnICsgYXBwZW5kVG9QYXRoKGNvbnRleHQucGF0aCwgY29udGV4dC5zY2hlbWEucmVxdWlyZWRbaV0pICsgJyA9PT0gdW5kZWZpbmVkKSB7Jyk7XG5cdCAgICAgICAgY29udGV4dC5lcnJvcigncmVxdWlyZWQnLCBjb250ZXh0LnNjaGVtYS5yZXF1aXJlZFtpXSk7XG5cdCAgICAgICAgY29udGV4dC5jb2RlKCd9Jyk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRrZXl3b3Jkcy5wcm9wZXJ0aWVzID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcblx0ICAgIGlmIChjb250ZXh0LnZhbGlkYXRlZFByb3BlcnRpZXMpIHtcblx0ICAgICAgICAvLyBwcmV2ZW50IG11bHRpcGxlIGdlbmVyYXRpb25zIG9mIHByb3BlcnR5IHZhbGlkYXRpb25cblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHByb3BzID0gY29udGV4dC5zY2hlbWEucHJvcGVydGllcyxcblx0ICAgICAgICBwcm9wS2V5cyA9IHR5cGUocHJvcHMpID09PSAnb2JqZWN0JyA/IE9iamVjdC5rZXlzKHByb3BzKSA6IFtdLFxuXHQgICAgICAgIHBhdFByb3BzID0gY29udGV4dC5zY2hlbWEucGF0dGVyblByb3BlcnRpZXMsXG5cdCAgICAgICAgcGF0dGVybnMgPSB0eXBlKHBhdFByb3BzKSA9PT0gJ29iamVjdCcgPyBPYmplY3Qua2V5cyhwYXRQcm9wcykgOiBbXSxcblx0ICAgICAgICBhZGRQcm9wcyA9IGNvbnRleHQuc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLFxuXHQgICAgICAgIGFkZFByb3BzQ2hlY2sgPSBhZGRQcm9wcyA9PT0gZmFsc2UgfHwgdHlwZShhZGRQcm9wcykgPT09ICdvYmplY3QnLFxuXHQgICAgICAgIHByb3AsIGksIG5lc3RlZFBhdGg7XG5cdFxuXHQgICAgLy8gZG8gbm90IHVzZSB0aGlzIGdlbmVyYXRvciBpZiB3ZSBoYXZlIHBhdHRlcm5Qcm9wZXJ0aWVzIG9yIGFkZGl0aW9uYWxQcm9wZXJ0aWVzXG5cdCAgICAvLyBpbnN0ZWFkLCB0aGUgZ2VuZXJhdG9yIGJlbG93IHdpbGwgYmUgdXNlZCBmb3IgYWxsIHRocmVlIGtleXdvcmRzXG5cdCAgICBpZiAoIXByb3BLZXlzLmxlbmd0aCB8fCBwYXR0ZXJucy5sZW5ndGggfHwgYWRkUHJvcHNDaGVjaykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgcHJvcEtleXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBwcm9wID0gcHJvcEtleXNbaV07XG5cdCAgICAgICAgbmVzdGVkUGF0aCA9IGFwcGVuZFRvUGF0aChjb250ZXh0LnBhdGgsIHByb3ApO1xuXHRcblx0ICAgICAgICBjb250ZXh0LmNvZGUoJ2lmICgnICsgbmVzdGVkUGF0aCArICcgIT09IHVuZGVmaW5lZCkgeycpO1xuXHRcblx0ICAgICAgICBjb250ZXh0LnZhbGlkYXRlKG5lc3RlZFBhdGgsIHByb3BzW3Byb3BdLCBjb250ZXh0Lm5vRmFpbEZhc3QpO1xuXHRcblx0ICAgICAgICBjb250ZXh0LmNvZGUoJ30nKTtcblx0ICAgIH1cblx0XG5cdCAgICBjb250ZXh0LnZhbGlkYXRlZFByb3BlcnRpZXMgPSB0cnVlO1xuXHR9O1xuXHRcblx0a2V5d29yZHMucGF0dGVyblByb3BlcnRpZXMgPSBrZXl3b3Jkcy5hZGRpdGlvbmFsUHJvcGVydGllcyA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG5cdCAgICBpZiAoY29udGV4dC52YWxpZGF0ZWRQcm9wZXJ0aWVzKSB7XG5cdCAgICAgICAgLy8gcHJldmVudCBtdWx0aXBsZSBnZW5lcmF0aW9ucyBvZiB0aGlzIGZ1bmN0aW9uXG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBwcm9wcyA9IGNvbnRleHQuc2NoZW1hLnByb3BlcnRpZXMsXG5cdCAgICAgICAgcHJvcEtleXMgPSB0eXBlKHByb3BzKSA9PT0gJ29iamVjdCcgPyBPYmplY3Qua2V5cyhwcm9wcykgOiBbXSxcblx0ICAgICAgICBwYXRQcm9wcyA9IGNvbnRleHQuc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzLFxuXHQgICAgICAgIHBhdHRlcm5zID0gdHlwZShwYXRQcm9wcykgPT09ICdvYmplY3QnID8gT2JqZWN0LmtleXMocGF0UHJvcHMpIDogW10sXG5cdCAgICAgICAgYWRkUHJvcHMgPSBjb250ZXh0LnNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyxcblx0ICAgICAgICBhZGRQcm9wc0NoZWNrID0gYWRkUHJvcHMgPT09IGZhbHNlIHx8IHR5cGUoYWRkUHJvcHMpID09PSAnb2JqZWN0Jyxcblx0ICAgICAgICBrZXlzLCBrZXksIG4sIGZvdW5kLFxuXHQgICAgICAgIHByb3BLZXksIHBhdHRlcm4sIGk7XG5cdFxuXHQgICAgaWYgKCFwcm9wS2V5cy5sZW5ndGggJiYgIXBhdHRlcm5zLmxlbmd0aCAmJiAhYWRkUHJvcHNDaGVjaykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBrZXlzID0gY29udGV4dC5kZWNsYXJlKCdbXScpO1xuXHQgICAga2V5ID0gY29udGV4dC5kZWNsYXJlKCdcIlwiJyk7XG5cdCAgICBuID0gY29udGV4dC5kZWNsYXJlKDApO1xuXHRcblx0ICAgIGlmIChhZGRQcm9wc0NoZWNrKSB7XG5cdCAgICAgICAgZm91bmQgPSBjb250ZXh0LmRlY2xhcmUoZmFsc2UpO1xuXHQgICAgfVxuXHRcblx0ICAgIGNvbnRleHQuY29kZShrZXlzICsgJyA9IE9iamVjdC5rZXlzKCcgKyBjb250ZXh0LnBhdGggKyAnKScpO1xuXHRcblx0ICAgIGNvbnRleHQuY29kZSgnZm9yICgnICsgbiArICc7ICcgKyBuICsgJyA8ICcgKyBrZXlzICsgJy5sZW5ndGg7ICcgKyBuICsgJysrKSB7Jylcblx0ICAgICAgICAoa2V5ICsgJyA9ICcgKyBrZXlzICsgJ1snICsgbiArICddJylcblx0XG5cdCAgICAgICAgKCdpZiAoJyArIGNvbnRleHQucGF0aCArICdbJyArIGtleSArICddID09PSB1bmRlZmluZWQpIHsnKVxuXHQgICAgICAgICAgICAoJ2NvbnRpbnVlJylcblx0ICAgICAgICAoJ30nKTtcblx0XG5cdCAgICBpZiAoYWRkUHJvcHNDaGVjaykge1xuXHQgICAgICAgIGNvbnRleHQuY29kZShmb3VuZCArICcgPSBmYWxzZScpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIHZhbGlkYXRlIHJlZ3VsYXIgcHJvcGVydGllc1xuXHQgICAgZm9yIChpID0gMDsgaSA8IHByb3BLZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgcHJvcEtleSA9IHByb3BLZXlzW2ldO1xuXHRcblx0ICAgICAgICBjb250ZXh0LmNvZGUoKGkgPyAnZWxzZSAnIDogJycpICsgJ2lmICgnICsga2V5ICsgJyA9PT0gXCInICsgcHJvcEtleSArICdcIikgeycpO1xuXHRcblx0ICAgICAgICBpZiAoYWRkUHJvcHNDaGVjaykge1xuXHQgICAgICAgICAgICBjb250ZXh0LmNvZGUoZm91bmQgKyAnID0gdHJ1ZScpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgY29udGV4dC52YWxpZGF0ZShhcHBlbmRUb1BhdGgoY29udGV4dC5wYXRoLCBwcm9wS2V5KSwgcHJvcHNbcHJvcEtleV0sIGNvbnRleHQubm9GYWlsRmFzdCk7XG5cdFxuXHQgICAgICAgIGNvbnRleHQuY29kZSgnfScpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIHZhbGlkYXRlIHBhdHRlcm4gcHJvcGVydGllc1xuXHQgICAgZm9yIChpID0gMDsgaSA8IHBhdHRlcm5zLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgcGF0dGVybiA9IHBhdHRlcm5zW2ldO1xuXHRcblx0ICAgICAgICBjb250ZXh0LmNvZGUoJ2lmICgoJyArIGlubGluZVJlZ2V4KHBhdHRlcm4pICsgJykudGVzdCgnICsga2V5ICsgJykpIHsnKTtcblx0XG5cdCAgICAgICAgaWYgKGFkZFByb3BzQ2hlY2spIHtcblx0ICAgICAgICAgICAgY29udGV4dC5jb2RlKGZvdW5kICsgJyA9IHRydWUnKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGNvbnRleHQudmFsaWRhdGUoY29udGV4dC5wYXRoICsgJ1snICsga2V5ICsgJ10nLCBwYXRQcm9wc1twYXR0ZXJuXSwgY29udGV4dC5ub0ZhaWxGYXN0KTtcblx0XG5cdCAgICAgICAgY29udGV4dC5jb2RlKCd9Jyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gdmFsaWRhdGUgYWRkaXRpb25hbCBwcm9wZXJ0aWVzXG5cdCAgICBpZiAoYWRkUHJvcHNDaGVjaykge1xuXHQgICAgICAgIGNvbnRleHQuY29kZSgnaWYgKCEnICsgZm91bmQgKyAnKSB7Jyk7XG5cdFxuXHQgICAgICAgIGlmIChhZGRQcm9wcyA9PT0gZmFsc2UpIHtcblx0ICAgICAgICAgICAgLy8gZG8gbm90IGFsbG93IGFkZGl0aW9uYWwgcHJvcGVydGllc1xuXHQgICAgICAgICAgICBjb250ZXh0LmVycm9yKCdhZGRpdGlvbmFsUHJvcGVydGllcycpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgLy8gdmFsaWRhdGUgYWRkaXRpb25hbCBwcm9wZXJ0aWVzXG5cdCAgICAgICAgICAgIGNvbnRleHQudmFsaWRhdGUoY29udGV4dC5wYXRoICsgJ1snICsga2V5ICsgJ10nLCBhZGRQcm9wcywgY29udGV4dC5ub0ZhaWxGYXN0KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGNvbnRleHQuY29kZSgnfScpO1xuXHQgICAgfVxuXHRcblx0ICAgIGNvbnRleHQuY29kZSgnfScpO1xuXHRcblx0ICAgIGNvbnRleHQudmFsaWRhdGVkUHJvcGVydGllcyA9IHRydWU7XG5cdH07XG5cdFxuXHRrZXl3b3Jkcy5kZXBlbmRlbmNpZXMgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuXHQgICAgaWYgKHR5cGUoY29udGV4dC5zY2hlbWEuZGVwZW5kZW5jaWVzKSAhPT0gJ29iamVjdCcpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGtleSwgZGVwLCBpID0gMDtcblx0XG5cdCAgICBmb3IgKGtleSBpbiBjb250ZXh0LnNjaGVtYS5kZXBlbmRlbmNpZXMpIHtcblx0ICAgICAgICBkZXAgPSBjb250ZXh0LnNjaGVtYS5kZXBlbmRlbmNpZXNba2V5XTtcblx0XG5cdCAgICAgICAgY29udGV4dC5jb2RlKCdpZiAoJyArIGFwcGVuZFRvUGF0aChjb250ZXh0LnBhdGgsIGtleSkgKyAnICE9PSB1bmRlZmluZWQpIHsnKTtcblx0XG5cdCAgICAgICAgaWYgKHR5cGUoZGVwKSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAgICAgLy9zY2hlbWEgZGVwZW5kZW5jeVxuXHQgICAgICAgICAgICBjb250ZXh0LnZhbGlkYXRlKGNvbnRleHQucGF0aCwgZGVwLCBjb250ZXh0Lm5vRmFpbEZhc3QpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgLy8gcHJvcGVydHkgZGVwZW5kZW5jeVxuXHQgICAgICAgICAgICBmb3IgKGk7IGkgPCBkZXAubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIGNvbnRleHQuY29kZSgnaWYgKCcgKyBhcHBlbmRUb1BhdGgoY29udGV4dC5wYXRoLCBkZXBbaV0pICsgJyA9PT0gdW5kZWZpbmVkKSB7Jyk7XG5cdCAgICAgICAgICAgICAgICBjb250ZXh0LmVycm9yKCdkZXBlbmRlbmNpZXMnLCBkZXBbaV0pO1xuXHQgICAgICAgICAgICAgICAgY29udGV4dC5jb2RlKCd9Jyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGNvbnRleHQuY29kZSgnfScpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0a2V5d29yZHMuYWxsT2YgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuXHQgICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbnRleHQuc2NoZW1hLmFsbE9mKSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRleHQuc2NoZW1hLmFsbE9mLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgY29udGV4dC52YWxpZGF0ZShjb250ZXh0LnBhdGgsIGNvbnRleHQuc2NoZW1hLmFsbE9mW2ldLCBjb250ZXh0Lm5vRmFpbEZhc3QpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0a2V5d29yZHMuYW55T2YgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuXHQgICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbnRleHQuc2NoZW1hLmFueU9mKSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgZXJyQ291bnQgPSBjb250ZXh0LmRlY2xhcmUoMCksXG5cdCAgICAgICAgaW5pdGlhbENvdW50ID0gY29udGV4dC5kZWNsYXJlKDApLFxuXHQgICAgICAgIGZvdW5kID0gY29udGV4dC5kZWNsYXJlKGZhbHNlKSxcblx0ICAgICAgICBpID0gMDtcblx0XG5cdCAgICBjb250ZXh0LmNvZGUoaW5pdGlhbENvdW50ICsgJyA9IGVycm9ycy5sZW5ndGgnKTtcblx0XG5cdCAgICBmb3IgKDsgaSA8IGNvbnRleHQuc2NoZW1hLmFueU9mLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgY29udGV4dC5jb2RlKCdpZiAoIScgKyBmb3VuZCArICcpIHsnKTtcblx0XG5cdCAgICAgICAgY29udGV4dC5jb2RlKGVyckNvdW50ICsgJyA9IGVycm9ycy5sZW5ndGgnKTtcblx0XG5cdCAgICAgICAgY29udGV4dC52YWxpZGF0ZShjb250ZXh0LnBhdGgsIGNvbnRleHQuc2NoZW1hLmFueU9mW2ldLCB0cnVlKTtcblx0XG5cdCAgICAgICAgY29udGV4dC5jb2RlKGZvdW5kICsgJyA9IGVycm9ycy5sZW5ndGggPT09ICcgKyBlcnJDb3VudClcblx0ICAgICAgICAoJ30nKTtcblx0ICAgIH1cblx0XG5cdCAgICBjb250ZXh0LmNvZGUoJ2lmICghJyArIGZvdW5kICsgJykgeycpO1xuXHRcblx0ICAgIGNvbnRleHQuZXJyb3IoJ2FueU9mJyk7XG5cdFxuXHQgICAgY29udGV4dC5jb2RlKCd9IGVsc2UgeycpXG5cdCAgICAgICAgKCdlcnJvcnMubGVuZ3RoID0gJyArIGluaXRpYWxDb3VudClcblx0ICAgICgnfScpO1xuXHR9O1xuXHRcblx0a2V5d29yZHMub25lT2YgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuXHQgICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbnRleHQuc2NoZW1hLm9uZU9mKSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbWF0Y2hpbmcgPSBjb250ZXh0LmRlY2xhcmUoMCksXG5cdCAgICAgICAgaW5pdGlhbENvdW50ID0gY29udGV4dC5kZWNsYXJlKDApLFxuXHQgICAgICAgIGVyckNvdW50ID0gY29udGV4dC5kZWNsYXJlKDApLFxuXHQgICAgICAgIGkgPSAwO1xuXHRcblx0ICAgIGNvbnRleHQuY29kZShpbml0aWFsQ291bnQgKyAnID0gZXJyb3JzLmxlbmd0aCcpO1xuXHRcblx0ICAgIGZvciAoOyBpIDwgY29udGV4dC5zY2hlbWEub25lT2YubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBjb250ZXh0LmNvZGUoZXJyQ291bnQgKyAnID0gZXJyb3JzLmxlbmd0aCcpO1xuXHRcblx0ICAgICAgICBjb250ZXh0LnZhbGlkYXRlKGNvbnRleHQucGF0aCwgY29udGV4dC5zY2hlbWEub25lT2ZbaV0sIHRydWUpO1xuXHRcblx0ICAgICAgICBjb250ZXh0LmNvZGUoJ2lmIChlcnJvcnMubGVuZ3RoID09PSAnICsgZXJyQ291bnQgKyAnKSB7Jylcblx0ICAgICAgICAgICAgKG1hdGNoaW5nICsgJysrJylcblx0ICAgICAgICAoJ30nKTtcblx0ICAgIH1cblx0XG5cdCAgICBjb250ZXh0LmNvZGUoJ2lmICgnICsgbWF0Y2hpbmcgKyAnICE9PSAxKSB7Jyk7XG5cdFxuXHQgICAgY29udGV4dC5lcnJvcignb25lT2YnKTtcblx0XG5cdCAgICBjb250ZXh0LmNvZGUoJ30gZWxzZSB7Jylcblx0ICAgICAgICAoJ2Vycm9ycy5sZW5ndGggPSAnICsgaW5pdGlhbENvdW50KVxuXHQgICAgKCd9Jyk7XG5cdH07XG5cdFxuXHRrZXl3b3Jkcy5ub3QgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuXHQgICAgaWYgKHR5cGUoY29udGV4dC5zY2hlbWEubm90KSAhPT0gJ29iamVjdCcpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGVyckNvdW50ID0gY29udGV4dC5kZWNsYXJlKDApO1xuXHRcblx0ICAgIGNvbnRleHQuY29kZShlcnJDb3VudCArICcgPSBlcnJvcnMubGVuZ3RoJyk7XG5cdFxuXHQgICAgY29udGV4dC52YWxpZGF0ZShjb250ZXh0LnBhdGgsIGNvbnRleHQuc2NoZW1hLm5vdCwgdHJ1ZSk7XG5cdFxuXHQgICAgY29udGV4dC5jb2RlKCdpZiAoZXJyb3JzLmxlbmd0aCA9PT0gJyArIGVyckNvdW50ICsgJykgeycpO1xuXHRcblx0ICAgIGNvbnRleHQuZXJyb3IoJ25vdCcpO1xuXHRcblx0ICAgIGNvbnRleHQuY29kZSgnfSBlbHNlIHsnKVxuXHQgICAgICAgICgnZXJyb3JzLmxlbmd0aCA9ICcgKyBlcnJDb3VudClcblx0ICAgICgnfScpO1xuXHR9O1xuXHRcblx0WydtaW5pbXVtJywgJ2V4Y2x1c2l2ZU1pbmltdW0nLCAnbWF4aW11bScsICdleGNsdXNpdmVNYXhpbXVtJywgJ211bHRpcGxlT2YnXVxuXHQgICAgLmZvckVhY2goZnVuY3Rpb24gKGtleXdvcmQpIHsga2V5d29yZHNba2V5d29yZF0udHlwZSA9ICdudW1iZXInOyB9KTtcblx0XG5cdFsnbWluTGVuZ3RoJywgJ21heExlbmd0aCcsICdwYXR0ZXJuJywgJ2Zvcm1hdCddXG5cdCAgICAuZm9yRWFjaChmdW5jdGlvbiAoa2V5d29yZCkgeyBrZXl3b3Jkc1trZXl3b3JkXS50eXBlID0gJ3N0cmluZyc7IH0pO1xuXHRcblx0WydtaW5JdGVtcycsICdtYXhJdGVtcycsICdhZGRpdGlvbmFsSXRlbXMnLCAndW5pcXVlSXRlbXMnLCAnaXRlbXMnXVxuXHQgICAgLmZvckVhY2goZnVuY3Rpb24gKGtleXdvcmQpIHsga2V5d29yZHNba2V5d29yZF0udHlwZSA9ICdhcnJheSc7IH0pO1xuXHRcblx0WydtYXhQcm9wZXJ0aWVzJywgJ21pblByb3BlcnRpZXMnLCAncmVxdWlyZWQnLCAncHJvcGVydGllcycsICdwYXR0ZXJuUHJvcGVydGllcycsICdhZGRpdGlvbmFsUHJvcGVydGllcycsICdkZXBlbmRlbmNpZXMnXVxuXHQgICAgLmZvckVhY2goZnVuY3Rpb24gKGtleXdvcmQpIHsga2V5d29yZHNba2V5d29yZF0udHlwZSA9ICdvYmplY3QnOyB9KTtcblx0XG5cdGZ1bmN0aW9uIGdldEdlbmVyYXRvcnMoc2NoZW1hKSB7XG5cdCAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNjaGVtYSksXG5cdCAgICAgICAgc3RhcnQgPSBbXSxcblx0ICAgICAgICBwZXJUeXBlID0ge30sXG5cdCAgICAgICAgZ2VuLCBpO1xuXHRcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgZ2VuID0ga2V5d29yZHNba2V5c1tpXV07XG5cdFxuXHQgICAgICAgIGlmICghZ2VuKSB7XG5cdCAgICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGdlbi50eXBlKSB7XG5cdCAgICAgICAgICAgIGlmICghcGVyVHlwZVtnZW4udHlwZV0pIHtcblx0ICAgICAgICAgICAgICAgIHBlclR5cGVbZ2VuLnR5cGVdID0gW107XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHBlclR5cGVbZ2VuLnR5cGVdLnB1c2goZ2VuKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIHN0YXJ0LnB1c2goZ2VuKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHN0YXJ0LmNvbmNhdChPYmplY3Qua2V5cyhwZXJUeXBlKS5yZWR1Y2UoZnVuY3Rpb24gKGFyciwga2V5KSB7XG5cdCAgICAgICAgcmV0dXJuIGFyci5jb25jYXQocGVyVHlwZVtrZXldKTtcblx0ICAgIH0sIFtdKSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlcGxhY2VJbmRleGVkUHJvcGVydHkobWF0Y2gpIHtcblx0ICAgIHZhciBpbmRleCA9IG1hdGNoLnJlcGxhY2UoUEFUSF9QUk9QX1JFUExBQ0VfRVhQUiwgJyQxJyk7XG5cdFxuXHQgICAgaWYgKCFpc05hTigraW5kZXgpKSB7XG5cdCAgICAgICAgLy8gbnVtZXJpYyBpbmRleCBpbiBhcnJheVxuXHQgICAgICAgIHJldHVybiAnLicgKyBpbmRleDtcblx0ICAgIH1cblx0ICAgIGVsc2UgaWYgKGluZGV4WzBdID09PSAnXCInKSB7XG5cdCAgICAgICAgLy8gc3RyaW5nIGtleSBmb3IgYW4gb2JqZWN0IHByb3BlcnR5XG5cdCAgICAgICAgcmV0dXJuICdbXFxcXFwiJyArIGluZGV4LnN1YnN0cigxLCBpbmRleC5sZW5ndGggLSAyKSArICdcXFxcXCJdJztcblx0ICAgIH1cblx0XG5cdCAgICAvLyB2YXJpYWJsZSBjb250YWluaW5nIHRoZSBhY3R1YWwga2V5XG5cdCAgICByZXR1cm4gJy5cIiArICcgKyBpbmRleCArICcgKyBcIic7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFBhdGhFeHByZXNzaW9uKHBhdGgpIHtcblx0ICAgIHJldHVybiAnXCInICsgcGF0aC5yZXBsYWNlKFBBVEhfUkVQTEFDRV9FWFBSLCByZXBsYWNlSW5kZXhlZFByb3BlcnR5KS5zdWJzdHIoNSkgKyAnXCInO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjbG9uZShvYmopIHtcblx0ICAgIHZhciBjbG9uZWQgPSBvYmosXG5cdCAgICAgICAgb2JqVHlwZSA9IHR5cGUob2JqKSxcblx0ICAgICAgICBrZXksIGk7XG5cdFxuXHQgICAgaWYgKG9ialR5cGUgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgY2xvbmVkID0ge307XG5cdFxuXHQgICAgICAgIGZvciAoa2V5IGluIG9iaikge1xuXHQgICAgICAgICAgICBjbG9uZWRba2V5XSA9IGNsb25lKG9ialtrZXldKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBlbHNlIGlmIChvYmpUeXBlID09PSAnYXJyYXknKSB7XG5cdCAgICAgICAgY2xvbmVkID0gW107XG5cdFxuXHQgICAgICAgIGZvciAoaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgY2xvbmVkW2ldID0gY2xvbmUob2JqW2ldKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBlbHNlIGlmIChvYmpUeXBlID09PSAncmVnZXhwJykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG9iaik7XG5cdCAgICB9XG5cdCAgICBlbHNlIGlmIChvYmpUeXBlID09PSAnZGF0ZScpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IERhdGUob2JqLnRvSlNPTigpKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gY2xvbmVkO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBQcm9wZXJ0eU1hcmtlcigpIHtcblx0ICAgIHRoaXMub2JqZWN0cyA9IFtdO1xuXHQgICAgdGhpcy5wcm9wZXJ0aWVzID0gW107XG5cdH1cblx0XG5cdFByb3BlcnR5TWFya2VyLnByb3RvdHlwZS5tYXJrID0gZnVuY3Rpb24gKG9iaiwga2V5KSB7XG5cdCAgICB2YXIgaW5kZXggPSB0aGlzLm9iamVjdHMuaW5kZXhPZihvYmopLFxuXHQgICAgICAgIHByb3A7XG5cdFxuXHQgICAgaWYgKGluZGV4IDwgMCkge1xuXHQgICAgICAgIHRoaXMub2JqZWN0cy5wdXNoKG9iaik7XG5cdFxuXHQgICAgICAgIHByb3AgPSB7fTtcblx0ICAgICAgICBwcm9wW2tleV0gPSAxO1xuXHRcblx0ICAgICAgICB0aGlzLnByb3BlcnRpZXMucHVzaChwcm9wKTtcblx0XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHByb3AgPSB0aGlzLnByb3BlcnRpZXNbaW5kZXhdO1xuXHRcblx0ICAgIHByb3Bba2V5XSA9IHByb3Bba2V5XSA/IHByb3Bba2V5XSArIDEgOiAxO1xuXHR9O1xuXHRcblx0UHJvcGVydHlNYXJrZXIucHJvdG90eXBlLmRlbGV0ZUR1cGxpY2F0ZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIga2V5LCBpO1xuXHRcblx0ICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBmb3IgKGtleSBpbiB0aGlzLnByb3BlcnRpZXNbaV0pIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllc1tpXVtrZXldID4gMSkge1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMub2JqZWN0c1tpXVtrZXldO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0UHJvcGVydHlNYXJrZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLm9iamVjdHMubGVuZ3RoID0gMDtcblx0ICAgIHRoaXMucHJvcGVydGllcy5sZW5ndGggPSAwO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gYnVpbGQoc2NoZW1hLCBkZWYsIGFkZGl0aW9uYWwsIHJlc29sdmVyLCBwYXJlbnRNYXJrZXIpIHtcblx0ICAgIHZhciBkZWZUeXBlLCBkZWZWYWx1ZSwga2V5LCBpLCBwcm9wZXJ0eU1hcmtlcjtcblx0XG5cdCAgICBpZiAodHlwZShzY2hlbWEpICE9PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIHJldHVybiBkZWY7XG5cdCAgICB9XG5cdFxuXHQgICAgc2NoZW1hID0gcmVzb2x2ZXIucmVzb2x2ZShzY2hlbWEpO1xuXHRcblx0ICAgIGlmIChkZWYgPT09IHVuZGVmaW5lZCAmJiBzY2hlbWEuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHQnKSkge1xuXHQgICAgICAgIGRlZiA9IGNsb25lKHNjaGVtYVsnZGVmYXVsdCddKTtcblx0ICAgIH1cblx0XG5cdCAgICBkZWZUeXBlID0gdHlwZShkZWYpO1xuXHRcblx0ICAgIGlmIChkZWZUeXBlID09PSAnb2JqZWN0JyAmJiB0eXBlKHNjaGVtYS5wcm9wZXJ0aWVzKSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICBmb3IgKGtleSBpbiBzY2hlbWEucHJvcGVydGllcykge1xuXHQgICAgICAgICAgICBkZWZWYWx1ZSA9IGJ1aWxkKHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0sIGRlZltrZXldLCBhZGRpdGlvbmFsLCByZXNvbHZlcik7XG5cdFxuXHQgICAgICAgICAgICBpZiAoZGVmVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAgICAgZGVmW2tleV0gPSBkZWZWYWx1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZm9yIChrZXkgaW4gZGVmKSB7XG5cdCAgICAgICAgICAgIGlmICghKGtleSBpbiBzY2hlbWEucHJvcGVydGllcykgJiZcblx0ICAgICAgICAgICAgICAgIChzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IGZhbHNlIHx8XG5cdCAgICAgICAgICAgICAgICAoYWRkaXRpb25hbCA9PT0gZmFsc2UgJiYgIXNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcykpKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKHBhcmVudE1hcmtlcikge1xuXHQgICAgICAgICAgICAgICAgICAgIHBhcmVudE1hcmtlci5tYXJrKGRlZiwga2V5KTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkZWZba2V5XTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGVsc2UgaWYgKGRlZlR5cGUgPT09ICdhcnJheScgJiYgc2NoZW1hLml0ZW1zKSB7XG5cdCAgICAgICAgaWYgKHR5cGUoc2NoZW1hLml0ZW1zKSA9PT0gJ2FycmF5Jykge1xuXHQgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc2NoZW1hLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICBkZWZWYWx1ZSA9IGJ1aWxkKHNjaGVtYS5pdGVtc1tpXSwgZGVmW2ldLCBhZGRpdGlvbmFsLCByZXNvbHZlcik7XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKGRlZlZhbHVlICE9PSB1bmRlZmluZWQgfHwgaSA8IGRlZi5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgICAgICAgICBkZWZbaV0gPSBkZWZWYWx1ZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIGlmIChkZWYubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkZWYubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIGRlZltpXSA9IGJ1aWxkKHNjaGVtYS5pdGVtcywgZGVmW2ldLCBhZGRpdGlvbmFsLCByZXNvbHZlcik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBlbHNlIGlmICh0eXBlKHNjaGVtYS5hbGxPZikgPT09ICdhcnJheScgJiYgc2NoZW1hLmFsbE9mLmxlbmd0aCkge1xuXHQgICAgICAgIHByb3BlcnR5TWFya2VyID0gbmV3IFByb3BlcnR5TWFya2VyKCk7XG5cdFxuXHQgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzY2hlbWEuYWxsT2YubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgZGVmID0gYnVpbGQoc2NoZW1hLmFsbE9mW2ldLCBkZWYsIGFkZGl0aW9uYWwsIHJlc29sdmVyLCBwcm9wZXJ0eU1hcmtlcik7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBwcm9wZXJ0eU1hcmtlci5kZWxldGVEdXBsaWNhdGVzKCk7XG5cdCAgICAgICAgcHJvcGVydHlNYXJrZXIuZGlzcG9zZSgpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBkZWY7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGpzZW4oc2NoZW1hLCBvcHRpb25zKSB7XG5cdCAgICBpZiAodHlwZShzY2hlbWEpICE9PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcihJTlZBTElEX1NDSEVNQSk7XG5cdCAgICB9XG5cdFxuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFxuXHQgICAgdmFyIG1pc3NpbmckUmVmID0gb3B0aW9ucy5taXNzaW5nJFJlZiB8fCBmYWxzZSxcblx0ICAgICAgICByZXNvbHZlciA9IG5ldyBTY2hlbWFSZXNvbHZlcihzY2hlbWEsIG9wdGlvbnMuc2NoZW1hcywgbWlzc2luZyRSZWYpLFxuXHQgICAgICAgIGNvdW50ZXIgPSAwLFxuXHQgICAgICAgIGlkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ2knICsgKGNvdW50ZXIrKyk7IH0sXG5cdCAgICAgICAgZnVuY2FjaGUgPSB7fSxcblx0ICAgICAgICBjb21waWxlZCxcblx0ICAgICAgICByZWZzID0ge1xuXHQgICAgICAgICAgICBlcnJvcnM6IFtdXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBzY29wZSA9IHtcblx0ICAgICAgICAgICAgZXF1YWw6IGVxdWFsLFxuXHQgICAgICAgICAgICB1bmlxdWU6IHVuaXF1ZSxcblx0ICAgICAgICAgICAgcmVmczogcmVmc1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgZnVuY3Rpb24gY2FjaGUoc2NoZW1hKSB7XG5cdCAgICAgICAgdmFyIGRlcmVmID0gcmVzb2x2ZXIucmVzb2x2ZShzY2hlbWEpLFxuXHQgICAgICAgICAgICByZWYgPSBzY2hlbWEuJHJlZixcblx0ICAgICAgICAgICAgY2FjaGVkID0gZnVuY2FjaGVbcmVmXSxcblx0ICAgICAgICAgICAgZnVuYztcblx0XG5cdCAgICAgICAgaWYgKCFjYWNoZWQpIHtcblx0ICAgICAgICAgICAgY2FjaGVkID0gZnVuY2FjaGVbcmVmXSA9IHtcblx0ICAgICAgICAgICAgICAgIGtleTogaWQoKSxcblx0ICAgICAgICAgICAgICAgIGZ1bmM6IGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmMoZGF0YSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH07XG5cdFxuXHQgICAgICAgICAgICBmdW5jID0gY29tcGlsZShkZXJlZik7XG5cdFxuXHQgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2FjaGVkLmZ1bmMsICdlcnJvcnMnLCB7XG5cdCAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuYy5lcnJvcnM7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICAgICAgcmVmc1tjYWNoZWQua2V5XSA9IGNhY2hlZC5mdW5jO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuICdyZWZzLicgKyBjYWNoZWQua2V5O1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGNvbXBpbGUoc2NoZW1hKSB7XG5cdCAgICAgICAgZnVuY3Rpb24gZGVjbGFyZShkZWYpIHtcblx0ICAgICAgICAgICAgdmFyIHZhcmluYW1lID0gaWQoKTtcblx0XG5cdCAgICAgICAgICAgIGNvZGUuZGVmKHZhcmluYW1lLCBkZWYpO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHZhcmluYW1lO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZnVuY3Rpb24gdmFsaWRhdGUocGF0aCwgc2NoZW1hLCBub0ZhaWxGYXN0KSB7XG5cdCAgICAgICAgICAgIHZhciBjb250ZXh0LFxuXHQgICAgICAgICAgICAgICAgY2FjaGVkUmVmLFxuXHQgICAgICAgICAgICAgICAgcGF0aEV4cCxcblx0ICAgICAgICAgICAgICAgIGluZGV4LFxuXHQgICAgICAgICAgICAgICAgbGFzdFR5cGUsXG5cdCAgICAgICAgICAgICAgICBmb3JtYXQsXG5cdCAgICAgICAgICAgICAgICBnZW5zLFxuXHQgICAgICAgICAgICAgICAgZ2VuLFxuXHQgICAgICAgICAgICAgICAgaTtcblx0XG5cdCAgICAgICAgICAgIGZ1bmN0aW9uIGVycm9yKGtleXdvcmQsIGtleSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHZhcmlkLFxuXHQgICAgICAgICAgICAgICAgICAgIGVycm9yUGF0aCA9IHBhdGgsXG5cdCAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IChrZXkgJiYgc2NoZW1hLnByb3BlcnRpZXMgJiYgc2NoZW1hLnByb3BlcnRpZXNba2V5XSAmJiBzY2hlbWEucHJvcGVydGllc1trZXldLnJlcXVpcmVkTWVzc2FnZSkgfHxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hLmludmFsaWRNZXNzYWdlO1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmICghbWVzc2FnZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBrZXkgJiYgc2NoZW1hLnByb3BlcnRpZXMgJiYgc2NoZW1hLnByb3BlcnRpZXNba2V5XSAmJiBzY2hlbWEucHJvcGVydGllc1trZXldLm1lc3NhZ2VzICYmXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0ubWVzc2FnZXNba2V5d29yZF0gfHxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hLm1lc3NhZ2VzICYmIHNjaGVtYS5tZXNzYWdlc1trZXl3b3JkXTtcblx0ICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICBpZiAocGF0aC5pbmRleE9mKCdbJykgPiAtMSkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBlcnJvciBvYmplY3RzIGR5bmFtaWNhbGx5IHdoZW4gcGF0aCBjb250YWlucyBpbmRleGVkIHByb3BlcnR5IGV4cHJlc3Npb25zXG5cdCAgICAgICAgICAgICAgICAgICAgZXJyb3JQYXRoID0gZ2V0UGF0aEV4cHJlc3Npb24ocGF0aCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChrZXkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JQYXRoID0gZXJyb3JQYXRoID8gZXJyb3JQYXRoICsgJyArIFwiLicgKyBrZXkgKyAnXCInIDoga2V5O1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgY29kZSgnZXJyb3JzLnB1c2goeycpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICgncGF0aDogJyArICBlcnJvclBhdGggKyAnLCAnKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAoJ2tleXdvcmQ6IFwiJyArIGtleXdvcmQgKyAnXCInICsgKG1lc3NhZ2UgPyAnLCcgOiAnJykpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb2RlKCdtZXNzYWdlOiBcIicgKyBtZXNzYWdlICsgJ1wiJyk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBjb2RlKCd9KScpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gZ2VuZXJhdGUgZmFzdGVyIGNvZGUgd2hlbiBubyBpbmRleGVkIHByb3BlcnRpZXMgaW4gdGhlIHBhdGhcblx0ICAgICAgICAgICAgICAgICAgICB2YXJpZCA9IGlkKCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGVycm9yUGF0aCA9IGVycm9yUGF0aC5zdWJzdHIoNSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChrZXkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JQYXRoID0gZXJyb3JQYXRoID8gZXJyb3JQYXRoICsgJy4nICsga2V5IDoga2V5O1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgcmVmc1t2YXJpZF0gPSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGVycm9yUGF0aCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAga2V5d29yZDoga2V5d29yZFxuXHQgICAgICAgICAgICAgICAgICAgIH07XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlZnNbdmFyaWRdLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgY29kZSgnZXJyb3JzLnB1c2gocmVmcy4nICsgdmFyaWQgKyAnKScpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIGlmICghbm9GYWlsRmFzdCAmJiAhb3B0aW9ucy5ncmVlZHkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjb2RlKCdyZXR1cm4gKHZhbGlkYXRlLmVycm9ycyA9IGVycm9ycykgJiYgZmFsc2UnKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKHNjaGVtYS4kcmVmICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgICAgIGNhY2hlZFJlZiA9IGNhY2hlKHNjaGVtYSk7XG5cdCAgICAgICAgICAgICAgICBwYXRoRXhwID0gZ2V0UGF0aEV4cHJlc3Npb24ocGF0aCk7XG5cdCAgICAgICAgICAgICAgICBpbmRleCA9IGRlY2xhcmUoMCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgY29kZSgnaWYgKCEnICsgY2FjaGVkUmVmICsgJygnICsgcGF0aCArICcpKSB7Jylcblx0ICAgICAgICAgICAgICAgICAgICAoJ2lmICgnICsgY2FjaGVkUmVmICsgJy5lcnJvcnMpIHsnKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAoJ2Vycm9ycy5wdXNoLmFwcGx5KGVycm9ycywgJyArIGNhY2hlZFJlZiArICcuZXJyb3JzKScpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICgnZm9yICgnICsgaW5kZXggKyAnID0gMDsgJyArIGluZGV4ICsgJyA8ICcgKyBjYWNoZWRSZWYgKyAnLmVycm9ycy5sZW5ndGg7ICcgKyBpbmRleCArICcrKykgeycpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJ2lmICgnICsgY2FjaGVkUmVmICsgJy5lcnJvcnNbJyArIGluZGV4ICsgJ10ucGF0aCkgeycpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCdlcnJvcnNbZXJyb3JzLmxlbmd0aCAtICcgKyBjYWNoZWRSZWYgKyAnLmVycm9ycy5sZW5ndGggKyAnICsgaW5kZXggKyAnXS5wYXRoID0gJyArIHBhdGhFeHAgK1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICsgXCIuXCIgKyAnICsgY2FjaGVkUmVmICsgJy5lcnJvcnNbJyArIGluZGV4ICsgJ10ucGF0aCcpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJ30gZWxzZSB7Jylcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJ2Vycm9yc1tlcnJvcnMubGVuZ3RoIC0gJyArIGNhY2hlZFJlZiArICcuZXJyb3JzLmxlbmd0aCArICcgKyBpbmRleCArICddLnBhdGggPSAnICsgcGF0aEV4cClcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICgnfScpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICgnfScpXG5cdCAgICAgICAgICAgICAgICAgICAgKCd9Jylcblx0ICAgICAgICAgICAgICAgICgnfScpO1xuXHRcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgY29udGV4dCA9IHtcblx0ICAgICAgICAgICAgICAgIHBhdGg6IHBhdGgsXG5cdCAgICAgICAgICAgICAgICBzY2hlbWE6IHNjaGVtYSxcblx0ICAgICAgICAgICAgICAgIGNvZGU6IGNvZGUsXG5cdCAgICAgICAgICAgICAgICBkZWNsYXJlOiBkZWNsYXJlLFxuXHQgICAgICAgICAgICAgICAgdmFsaWRhdGU6IHZhbGlkYXRlLFxuXHQgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxuXHQgICAgICAgICAgICAgICAgbm9GYWlsRmFzdDogbm9GYWlsRmFzdFxuXHQgICAgICAgICAgICB9O1xuXHRcblx0ICAgICAgICAgICAgZ2VucyA9IGdldEdlbmVyYXRvcnMoc2NoZW1hKTtcblx0XG5cdCAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBnZW5zLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICBnZW4gPSBnZW5zW2ldO1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmIChnZW4udHlwZSAmJiBsYXN0VHlwZSAhPT0gZ2VuLnR5cGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAobGFzdFR5cGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY29kZSgnfScpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgbGFzdFR5cGUgPSBnZW4udHlwZTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgY29kZSgnaWYgKCcgKyB0eXBlc1tnZW4udHlwZV0ocGF0aCkgKyAnKSB7Jyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgZ2VuKGNvbnRleHQpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZiAobGFzdFR5cGUpIHtcblx0ICAgICAgICAgICAgICAgIGNvZGUoJ30nKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKHNjaGVtYS5mb3JtYXQgJiYgb3B0aW9ucy5mb3JtYXRzKSB7XG5cdCAgICAgICAgICAgICAgICBmb3JtYXQgPSBvcHRpb25zLmZvcm1hdHNbc2NoZW1hLmZvcm1hdF07XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKGZvcm1hdCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZm9ybWF0ID09PSAnc3RyaW5nJyB8fCBmb3JtYXQgaW5zdGFuY2VvZiBSZWdFeHApIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY29kZSgnaWYgKCEoJyArIGlubGluZVJlZ2V4KGZvcm1hdCkgKyAnKS50ZXN0KCcgKyBjb250ZXh0LnBhdGggKyAnKSkgeycpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcignZm9ybWF0Jyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUoJ30nKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAoc2NvcGUuZm9ybWF0cyB8fCAoc2NvcGUuZm9ybWF0cyA9IHt9KSlbc2NoZW1hLmZvcm1hdF0gPSBmb3JtYXQ7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIChzY29wZS5zY2hlbWFzIHx8IChzY29wZS5zY2hlbWFzID0ge30pKVtzY2hlbWEuZm9ybWF0XSA9IHNjaGVtYTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUoJ2lmICghZm9ybWF0c1tcIicgKyBzY2hlbWEuZm9ybWF0ICsgJ1wiXSgnICsgY29udGV4dC5wYXRoICsgJywgc2NoZW1hc1tcIicgKyBzY2hlbWEuZm9ybWF0ICsgJ1wiXSkpIHsnKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IoJ2Zvcm1hdCcpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb2RlKCd9Jyk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgY29kZSA9IGZ1bmMoJ3ZhbGlkYXRlJywgJ2RhdGEnKVxuXHQgICAgICAgICAgICAoJ3ZhciBlcnJvcnMgPSBbXScpO1xuXHRcblx0ICAgICAgICB2YWxpZGF0ZSgnZGF0YScsIHNjaGVtYSk7XG5cdFxuXHQgICAgICAgIGNvZGUoJ3JldHVybiAodmFsaWRhdGUuZXJyb3JzID0gZXJyb3JzKSAmJiBlcnJvcnMubGVuZ3RoID09PSAwJyk7XG5cdFxuXHQgICAgICAgIGNvbXBpbGVkID0gY29kZS5jb21waWxlKHNjb3BlKTtcblx0XG5cdCAgICAgICAgY29tcGlsZWQuZXJyb3JzID0gW107XG5cdFxuXHQgICAgICAgIGNvbXBpbGVkLmJ1aWxkID0gZnVuY3Rpb24gKGluaXRpYWwsIG9wdGlvbnMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGJ1aWxkKFxuXHQgICAgICAgICAgICAgICAgc2NoZW1hLFxuXHQgICAgICAgICAgICAgICAgKG9wdGlvbnMgJiYgb3B0aW9ucy5jb3B5ID09PSBmYWxzZSA/IGluaXRpYWwgOiBjbG9uZShpbml0aWFsKSksXG5cdCAgICAgICAgICAgICAgICBvcHRpb25zICYmIG9wdGlvbnMuYWRkaXRpb25hbFByb3BlcnRpZXMsXG5cdCAgICAgICAgICAgICAgICByZXNvbHZlcik7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgcmV0dXJuIGNvbXBpbGVkO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBjb21waWxlKHNjaGVtYSk7XG5cdH1cblx0XG5cdGpzZW4uYnJvd3NlciA9IGJyb3dzZXI7XG5cdGpzZW4uY2xvbmUgPSBjbG9uZTtcblx0anNlbi5lcXVhbCA9IGVxdWFsO1xuXHRqc2VuLnVuaXF1ZSA9IHVuaXF1ZTtcblx0anNlbi5yZXNvbHZlID0gU2NoZW1hUmVzb2x2ZXIucmVzb2x2ZVBvaW50ZXI7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGpzZW47XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg3KSkpXG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblx0XG5cdHZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblx0dmFyIHF1ZXVlID0gW107XG5cdHZhciBkcmFpbmluZyA9IGZhbHNlO1xuXHR2YXIgY3VycmVudFF1ZXVlO1xuXHR2YXIgcXVldWVJbmRleCA9IC0xO1xuXHRcblx0ZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgfVxuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIGRyYWluUXVldWUoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcblx0ICAgIGlmIChkcmFpbmluZykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuXHQgICAgZHJhaW5pbmcgPSB0cnVlO1xuXHRcblx0ICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB3aGlsZShsZW4pIHtcblx0ICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcblx0ICAgICAgICBxdWV1ZSA9IFtdO1xuXHQgICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcblx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB9XG5cdCAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0fVxuXHRcblx0cHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcblx0ICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG5cdCAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuXHQgICAgICAgIHNldFRpbWVvdXQoZHJhaW5RdWV1ZSwgMCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5cdGZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuXHQgICAgdGhpcy5mdW4gPSBmdW47XG5cdCAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG5cdH1cblx0SXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG5cdH07XG5cdHByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5cdHByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5cdHByb2Nlc3MuZW52ID0ge307XG5cdHByb2Nlc3MuYXJndiA9IFtdO1xuXHRwcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcblx0cHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHRwcm9jZXNzLm9uID0gbm9vcDtcblx0cHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3Mub25jZSA9IG5vb3A7XG5cdHByb2Nlc3Mub2ZmID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcblx0cHJvY2Vzcy5lbWl0ID0gbm9vcDtcblx0XG5cdHByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdFxuXHRwcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xuXHRwcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0cHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmdW5jKCkge1xuXHQgICAgdmFyIG5hbWUgPSBhcmd1bWVudHNbMF0gfHwgJycsXG5cdCAgICAgICAgYXJncyA9IFtdLmpvaW4uY2FsbChbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksICcsICcpLFxuXHQgICAgICAgIGxpbmVzID0gJycsXG5cdCAgICAgICAgdmFycyA9ICcnLFxuXHQgICAgICAgIGluZCA9IDEsXG5cdCAgICAgICAgdGFiID0gJyAgJyxcblx0ICAgICAgICBicyA9ICd7WycsICAvLyBibG9jayBzdGFydFxuXHQgICAgICAgIGJlID0gJ31dJywgIC8vIGJsb2NrIGVuZFxuXHQgICAgICAgIHNwYWNlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IEFycmF5KGluZCArIDEpLmpvaW4odGFiKTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHB1c2ggPSBmdW5jdGlvbiAobGluZSkge1xuXHQgICAgICAgICAgICBsaW5lcyArPSBzcGFjZSgpICsgbGluZSArICdcXG4nO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgYnVpbGRlciA9IGZ1bmN0aW9uIChsaW5lKSB7XG5cdCAgICAgICAgICAgIHZhciBmaXJzdCA9IGxpbmVbMF0sXG5cdCAgICAgICAgICAgICAgICBsYXN0ID0gbGluZVtsaW5lLmxlbmd0aCAtIDFdO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGJlLmluZGV4T2YoZmlyc3QpID4gLTEgJiYgYnMuaW5kZXhPZihsYXN0KSA+IC0xKSB7XG5cdCAgICAgICAgICAgICAgICBpbmQtLTtcblx0ICAgICAgICAgICAgICAgIHB1c2gobGluZSk7XG5cdCAgICAgICAgICAgICAgICBpbmQrKztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBlbHNlIGlmIChicy5pbmRleE9mKGxhc3QpID4gLTEpIHtcblx0ICAgICAgICAgICAgICAgIHB1c2gobGluZSk7XG5cdCAgICAgICAgICAgICAgICBpbmQrKztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBlbHNlIGlmIChiZS5pbmRleE9mKGZpcnN0KSA+IC0xKSB7XG5cdCAgICAgICAgICAgICAgICBpbmQtLTtcblx0ICAgICAgICAgICAgICAgIHB1c2gobGluZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBwdXNoKGxpbmUpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gYnVpbGRlcjtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgIGJ1aWxkZXIuZGVmID0gZnVuY3Rpb24gKGlkLCBkZWYpIHtcblx0ICAgICAgICB2YXJzICs9IHNwYWNlKCkgKyAndmFyICcgKyBpZCArIChkZWYgIT09IHVuZGVmaW5lZCA/ICcgPSAnICsgZGVmIDogJycpICsgJ1xcbic7XG5cdFxuXHQgICAgICAgIHJldHVybiBidWlsZGVyO1xuXHQgICAgfTtcblx0XG5cdCAgICBidWlsZGVyLnRvU291cmNlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiAnZnVuY3Rpb24gJyArIG5hbWUgKyAnKCcgKyBhcmdzICsgJykge1xcbicgKyB2YXJzICsgJ1xcbicgKyBsaW5lcyArICdcXG59Jztcblx0ICAgIH07XG5cdFxuXHQgICAgYnVpbGRlci5jb21waWxlID0gZnVuY3Rpb24gKHNjb3BlKSB7XG5cdCAgICAgICAgdmFyIHNyYyA9ICdyZXR1cm4gKCcgKyBidWlsZGVyLnRvU291cmNlKCkgKyAnKScsXG5cdCAgICAgICAgICAgIHNjcCA9IHNjb3BlIHx8IHt9LFxuXHQgICAgICAgICAgICBrZXlzID0gT2JqZWN0LmtleXMoc2NwKSxcblx0ICAgICAgICAgICAgdmFscyA9IGtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHNjcFtrZXldOyB9KTtcblx0XG5cdCAgICAgICAgcmV0dXJuIEZ1bmN0aW9uLmFwcGx5KG51bGwsIGtleXMuY29uY2F0KHNyYykpLmFwcGx5KG51bGwsIHZhbHMpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gYnVpbGRlcjtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGZ1bmN0aW9uIHR5cGUob2JqKSB7XG5cdCAgICB2YXIgc3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaik7XG5cdCAgICByZXR1cm4gc3RyLnN1YnN0cig4LCBzdHIubGVuZ3RoIC0gOSkudG9Mb3dlckNhc2UoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZGVlcEVxdWFsKGEsIGIpIHtcblx0ICAgIHZhciBrZXlzQSA9IE9iamVjdC5rZXlzKGEpLnNvcnQoKSxcblx0ICAgICAgICBrZXlzQiA9IE9iamVjdC5rZXlzKGIpLnNvcnQoKSxcblx0ICAgICAgICBpLCBrZXk7XG5cdFxuXHQgICAgaWYgKCFlcXVhbChrZXlzQSwga2V5c0IpKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHRcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzQS5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGtleSA9IGtleXNBW2ldO1xuXHRcblx0ICAgICAgICBpZiAoIWVxdWFsKGFba2V5XSwgYltrZXldKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0cnVlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBlcXVhbChhLCBiKSB7ICAvLyBqc2hpbnQgaWdub3JlOiBsaW5lXG5cdCAgICB2YXIgdHlwZUEgPSB0eXBlb2YgYSxcblx0ICAgICAgICB0eXBlQiA9IHR5cGVvZiBiLFxuXHQgICAgICAgIGk7XG5cdFxuXHQgICAgLy8gZ2V0IGRldGFpbGVkIG9iamVjdCB0eXBlXG5cdCAgICBpZiAodHlwZUEgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgdHlwZUEgPSB0eXBlKGEpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGdldCBkZXRhaWxlZCBvYmplY3QgdHlwZVxuXHQgICAgaWYgKHR5cGVCID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIHR5cGVCID0gdHlwZShiKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodHlwZUEgIT09IHR5cGVCKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICh0eXBlQSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICByZXR1cm4gZGVlcEVxdWFsKGEsIGIpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICh0eXBlQSA9PT0gJ3JlZ2V4cCcpIHtcblx0ICAgICAgICByZXR1cm4gYS50b1N0cmluZygpID09PSBiLnRvU3RyaW5nKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHR5cGVBID09PSAnYXJyYXknKSB7XG5cdCAgICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBpZiAoIWVxdWFsKGFbaV0sIGJbaV0pKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBhID09PSBiO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGVxdWFsO1xuXG4vKioqLyB9LFxuLyogMTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBlcXVhbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHRmdW5jdGlvbiBmaW5kSW5kZXgoYXJyLCB2YWx1ZSwgY29tcGFyYXRvcikge1xuXHQgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFyci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgIGlmIChjb21wYXJhdG9yKGFycltpXSwgdmFsdWUpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gLTE7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdW5pcXVlKGFycikge1xuXHQgICAgcmV0dXJuIGFyci5maWx0ZXIoZnVuY3Rpb24gdW5pcXVlT25seSh2YWx1ZSwgaW5kZXgsIHNlbGYpIHtcblx0ICAgICAgICByZXR1cm4gZmluZEluZGV4KHNlbGYsIHZhbHVlLCBlcXVhbCkgPT09IGluZGV4O1xuXHQgICAgfSk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cy5maW5kSW5kZXggPSBmaW5kSW5kZXg7XG5cbi8qKiovIH0sXG4vKiAxMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIG1ldGFzY2hlbWEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSxcblx0ICAgIElOVkFMSURfU0NIRU1BX1JFRkVSRU5DRSA9ICdqc2VuOiBpbnZhbGlkIHNjaGVtYSByZWZlcmVuY2UnO1xuXHRcblx0ZnVuY3Rpb24gZ2V0KG9iaiwgcGF0aCkge1xuXHQgICAgaWYgKCFwYXRoLmxlbmd0aCkge1xuXHQgICAgICAgIHJldHVybiBvYmo7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGtleSA9IHBhdGguc2hpZnQoKSxcblx0ICAgICAgICB2YWw7XG5cdFxuXHQgICAgaWYgKG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHQgICAgICAgIHZhbCA9IG9ialtrZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChwYXRoLmxlbmd0aCkge1xuXHQgICAgICAgIGlmICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGdldCh2YWwsIHBhdGgpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdmFsO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWZUb1BhdGgocmVmKSB7XG5cdCAgICB2YXIgaW5kZXggPSByZWYuaW5kZXhPZignIycpLFxuXHQgICAgICAgIHBhdGg7XG5cdFxuXHQgICAgaWYgKGluZGV4ICE9PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuIFtyZWZdO1xuXHQgICAgfVxuXHRcblx0ICAgIHJlZiA9IHJlZi5zdWJzdHIoaW5kZXggKyAxKTtcblx0XG5cdCAgICBpZiAoIXJlZikge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgIH1cblx0XG5cdCAgICBwYXRoID0gcmVmLnNwbGl0KCcvJykubWFwKGZ1bmN0aW9uIChzZWdtZW50KSB7XG5cdCAgICAgICAgLy8gUmVmZXJlbmNlOiBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1pZXRmLWFwcHNhd2ctanNvbi1wb2ludGVyLTA4I3NlY3Rpb24tM1xuXHQgICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc2VnbWVudClcblx0ICAgICAgICAgICAgLnJlcGxhY2UoL34xL2csICcvJylcblx0ICAgICAgICAgICAgLnJlcGxhY2UoL34wL2csICd+Jyk7XG5cdCAgICB9KTtcblx0XG5cdCAgICBpZiAocmVmWzBdID09PSAnLycpIHtcblx0ICAgICAgICBwYXRoLnNoaWZ0KCk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHBhdGg7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlZkZyb21JZChvYmosIHJlZikge1xuXHQgICAgaWYgKG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIGlmIChvYmouaWQgPT09IHJlZikge1xuXHQgICAgICAgICAgICByZXR1cm4gb2JqO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikucmVkdWNlKGZ1bmN0aW9uIChyZXNvbHZlZCwga2V5KSB7XG5cdCAgICAgICAgICAgIHJldHVybiByZXNvbHZlZCB8fCByZWZGcm9tSWQob2JqW2tleV0sIHJlZik7XG5cdCAgICAgICAgfSwgdW5kZWZpbmVkKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRSZXNvbHZlcnMoc2NoZW1hcykge1xuXHQgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzY2hlbWFzKSxcblx0ICAgICAgICByZXNvbHZlcnMgPSB7fSxcblx0ICAgICAgICBrZXksIGk7XG5cdFxuXHQgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBrZXkgPSBrZXlzW2ldO1xuXHQgICAgICAgIHJlc29sdmVyc1trZXldID0gbmV3IFNjaGVtYVJlc29sdmVyKHNjaGVtYXNba2V5XSk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHJlc29sdmVycztcblx0fVxuXHRcblx0ZnVuY3Rpb24gU2NoZW1hUmVzb2x2ZXIocm9vdFNjaGVtYSwgZXh0ZXJuYWwsIG1pc3NpbmckUmVmKSB7ICAvLyBqc2hpbnQgaWdub3JlOiBsaW5lXG5cdCAgICB0aGlzLnJvb3RTY2hlbWEgPSByb290U2NoZW1hO1xuXHQgICAgdGhpcy5yZXNvbHZlZFJvb3RTY2hlbWEgPSBudWxsO1xuXHQgICAgdGhpcy5jYWNoZSA9IHt9O1xuXHQgICAgdGhpcy5taXNzaW5nJFJlZiA9IG1pc3NpbmckUmVmO1xuXHRcblx0ICAgIHRoaXMucmVzb2x2ZXJzID0gZXh0ZXJuYWwgJiYgdHlwZW9mIGV4dGVybmFsID09PSAnb2JqZWN0JyA/XG5cdCAgICAgICAgZ2V0UmVzb2x2ZXJzKGV4dGVybmFsKSA6XG5cdCAgICAgICAgbnVsbDtcblx0fVxuXHRcblx0U2NoZW1hUmVzb2x2ZXIucHJvdG90eXBlLnJlc29sdmVSZWYgPSBmdW5jdGlvbiAocmVmKSB7XG5cdCAgICB2YXIgZXJyID0gbmV3IEVycm9yKElOVkFMSURfU0NIRU1BX1JFRkVSRU5DRSArICcgJyArIHJlZiksXG5cdCAgICAgICAgcm9vdCA9IHRoaXMucm9vdFNjaGVtYSxcblx0ICAgICAgICByZXNvbHZlZFJvb3QgPSB0aGlzLnJlc29sdmVkUm9vdFNjaGVtYSxcblx0ICAgICAgICBleHRlcm5hbFJlc29sdmVyLFxuXHQgICAgICAgIHBhdGgsXG5cdCAgICAgICAgZGVzdDtcblx0XG5cdCAgICBpZiAoIXJlZiB8fCB0eXBlb2YgcmVmICE9PSAnc3RyaW5nJykge1xuXHQgICAgICAgIHRocm93IGVycjtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAocmVmID09PSBtZXRhc2NoZW1hLmlkKSB7XG5cdCAgICAgICAgZGVzdCA9IG1ldGFzY2hlbWE7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGRlc3QgPT09IHVuZGVmaW5lZCAmJiByZXNvbHZlZFJvb3QpIHtcblx0ICAgICAgICBkZXN0ID0gcmVmRnJvbUlkKHJlc29sdmVkUm9vdCwgcmVmKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoZGVzdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgZGVzdCA9IHJlZkZyb21JZChyb290LCByZWYpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChkZXN0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBwYXRoID0gcmVmVG9QYXRoKHJlZik7XG5cdFxuXHQgICAgICAgIGlmIChyZXNvbHZlZFJvb3QpIHtcblx0ICAgICAgICAgICAgZGVzdCA9IGdldChyZXNvbHZlZFJvb3QsIHBhdGguc2xpY2UoMCkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGRlc3QgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICBkZXN0ID0gZ2V0KHJvb3QsIHBhdGguc2xpY2UoMCkpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoZGVzdCA9PT0gdW5kZWZpbmVkICYmIHBhdGgubGVuZ3RoICYmIHRoaXMucmVzb2x2ZXJzKSB7XG5cdCAgICAgICAgZXh0ZXJuYWxSZXNvbHZlciA9IGdldCh0aGlzLnJlc29sdmVycywgcGF0aCk7XG5cdFxuXHQgICAgICAgIGlmIChleHRlcm5hbFJlc29sdmVyKSB7XG5cdCAgICAgICAgICAgIGRlc3QgPSBleHRlcm5hbFJlc29sdmVyLnJlc29sdmUoZXh0ZXJuYWxSZXNvbHZlci5yb290U2NoZW1hKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGRlc3QgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgZGVzdCAhPT0gJ29iamVjdCcpIHtcblx0ICAgICAgICBpZiAodGhpcy5taXNzaW5nJFJlZikge1xuXHQgICAgICAgICAgICBkZXN0ID0ge307XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhyb3cgZXJyO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAodGhpcy5jYWNoZVtyZWZdID09PSBkZXN0KSB7XG5cdCAgICAgICAgcmV0dXJuIGRlc3Q7XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5jYWNoZVtyZWZdID0gZGVzdDtcblx0XG5cdCAgICBpZiAoZGVzdC4kcmVmICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBkZXN0ID0gdGhpcy5jYWNoZVtyZWZdID0gdGhpcy5yZXNvbHZlUmVmKGRlc3QuJHJlZik7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGRlc3Q7XG5cdH07XG5cdFxuXHRTY2hlbWFSZXNvbHZlci5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uIChzY2hlbWEpIHtcblx0ICAgIGlmICghc2NoZW1hIHx8IHR5cGVvZiBzY2hlbWEgIT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgcmV0dXJuIHNjaGVtYTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgcmVmID0gc2NoZW1hLiRyZWYsXG5cdCAgICAgICAgcmVzb2x2ZWQgPSB0aGlzLmNhY2hlW3JlZl07XG5cdFxuXHQgICAgaWYgKHJlZiA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgcmV0dXJuIHNjaGVtYTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAocmVzb2x2ZWQgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHJldHVybiByZXNvbHZlZDtcblx0ICAgIH1cblx0XG5cdCAgICByZXNvbHZlZCA9IHRoaXMucmVzb2x2ZVJlZihyZWYpO1xuXHRcblx0ICAgIGlmIChzY2hlbWEgPT09IHRoaXMucm9vdFNjaGVtYSAmJiBzY2hlbWEgIT09IHJlc29sdmVkKSB7XG5cdCAgICAgICAgLy8gY2FjaGUgdGhlIHJlc29sdmVkIHJvb3Qgc2NoZW1hXG5cdCAgICAgICAgdGhpcy5yZXNvbHZlZFJvb3RTY2hlbWEgPSByZXNvbHZlZDtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gcmVzb2x2ZWQ7XG5cdH07XG5cdFxuXHRTY2hlbWFSZXNvbHZlci5yZXNvbHZlUG9pbnRlciA9IGZ1bmN0aW9uIChvYmosIHBvaW50ZXIpIHtcblx0ICAgIHJldHVybiBnZXQob2JqLCByZWZUb1BhdGgocG9pbnRlcikpO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBTY2hlbWFSZXNvbHZlcjtcblxuLyoqKi8gfSxcbi8qIDEyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcImlkXCI6IFwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNC9zY2hlbWEjXCIsXG5cdFx0XCIkc2NoZW1hXCI6IFwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNC9zY2hlbWEjXCIsXG5cdFx0XCJkZXNjcmlwdGlvblwiOiBcIkNvcmUgc2NoZW1hIG1ldGEtc2NoZW1hXCIsXG5cdFx0XCJkZWZpbml0aW9uc1wiOiB7XG5cdFx0XHRcInNjaGVtYUFycmF5XCI6IHtcblx0XHRcdFx0XCJ0eXBlXCI6IFwiYXJyYXlcIixcblx0XHRcdFx0XCJtaW5JdGVtc1wiOiAxLFxuXHRcdFx0XHRcIml0ZW1zXCI6IHtcblx0XHRcdFx0XHRcIiRyZWZcIjogXCIjXCJcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdFwicG9zaXRpdmVJbnRlZ2VyXCI6IHtcblx0XHRcdFx0XCJ0eXBlXCI6IFwiaW50ZWdlclwiLFxuXHRcdFx0XHRcIm1pbmltdW1cIjogMFxuXHRcdFx0fSxcblx0XHRcdFwicG9zaXRpdmVJbnRlZ2VyRGVmYXVsdDBcIjoge1xuXHRcdFx0XHRcImFsbE9mXCI6IFtcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL3Bvc2l0aXZlSW50ZWdlclwiXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcImRlZmF1bHRcIjogMFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XVxuXHRcdFx0fSxcblx0XHRcdFwic2ltcGxlVHlwZXNcIjoge1xuXHRcdFx0XHRcImFueU9mXCI6IFtcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcImVudW1cIjogW1xuXHRcdFx0XHRcdFx0XHRcImFycmF5XCIsXG5cdFx0XHRcdFx0XHRcdFwiYm9vbGVhblwiLFxuXHRcdFx0XHRcdFx0XHRcImludGVnZXJcIixcblx0XHRcdFx0XHRcdFx0XCJudWxsXCIsXG5cdFx0XHRcdFx0XHRcdFwibnVtYmVyXCIsXG5cdFx0XHRcdFx0XHRcdFwib2JqZWN0XCIsXG5cdFx0XHRcdFx0XHRcdFwic3RyaW5nXCIsXG5cdFx0XHRcdFx0XHRcdFwiYW55XCJcblx0XHRcdFx0XHRcdF1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFwidHlwZVwiOiBcInN0cmluZ1wiXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRdXG5cdFx0XHR9LFxuXHRcdFx0XCJzdHJpbmdBcnJheVwiOiB7XG5cdFx0XHRcdFwidHlwZVwiOiBcImFycmF5XCIsXG5cdFx0XHRcdFwiaXRlbXNcIjoge1xuXHRcdFx0XHRcdFwidHlwZVwiOiBcInN0cmluZ1wiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwibWluSXRlbXNcIjogMSxcblx0XHRcdFx0XCJ1bmlxdWVJdGVtc1wiOiB0cnVlXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRcInR5cGVcIjogXCJvYmplY3RcIixcblx0XHRcInByb3BlcnRpZXNcIjoge1xuXHRcdFx0XCJpZFwiOiB7XG5cdFx0XHRcdFwidHlwZVwiOiBcInN0cmluZ1wiLFxuXHRcdFx0XHRcImZvcm1hdFwiOiBcInVyaVwiXG5cdFx0XHR9LFxuXHRcdFx0XCIkc2NoZW1hXCI6IHtcblx0XHRcdFx0XCJ0eXBlXCI6IFwic3RyaW5nXCIsXG5cdFx0XHRcdFwiZm9ybWF0XCI6IFwidXJpXCJcblx0XHRcdH0sXG5cdFx0XHRcInRpdGxlXCI6IHtcblx0XHRcdFx0XCJ0eXBlXCI6IFwic3RyaW5nXCJcblx0XHRcdH0sXG5cdFx0XHRcImRlc2NyaXB0aW9uXCI6IHtcblx0XHRcdFx0XCJ0eXBlXCI6IFwic3RyaW5nXCJcblx0XHRcdH0sXG5cdFx0XHRcImRlZmF1bHRcIjoge30sXG5cdFx0XHRcIm11bHRpcGxlT2ZcIjoge1xuXHRcdFx0XHRcInR5cGVcIjogXCJudW1iZXJcIixcblx0XHRcdFx0XCJtaW5pbXVtXCI6IDAsXG5cdFx0XHRcdFwiZXhjbHVzaXZlTWluaW11bVwiOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0XCJtYXhpbXVtXCI6IHtcblx0XHRcdFx0XCJ0eXBlXCI6IFwibnVtYmVyXCJcblx0XHRcdH0sXG5cdFx0XHRcImV4Y2x1c2l2ZU1heGltdW1cIjoge1xuXHRcdFx0XHRcInR5cGVcIjogXCJib29sZWFuXCIsXG5cdFx0XHRcdFwiZGVmYXVsdFwiOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdFwibWluaW11bVwiOiB7XG5cdFx0XHRcdFwidHlwZVwiOiBcIm51bWJlclwiXG5cdFx0XHR9LFxuXHRcdFx0XCJleGNsdXNpdmVNaW5pbXVtXCI6IHtcblx0XHRcdFx0XCJ0eXBlXCI6IFwiYm9vbGVhblwiLFxuXHRcdFx0XHRcImRlZmF1bHRcIjogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHRcIm1heExlbmd0aFwiOiB7XG5cdFx0XHRcdFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvcG9zaXRpdmVJbnRlZ2VyXCJcblx0XHRcdH0sXG5cdFx0XHRcIm1pbkxlbmd0aFwiOiB7XG5cdFx0XHRcdFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvcG9zaXRpdmVJbnRlZ2VyRGVmYXVsdDBcIlxuXHRcdFx0fSxcblx0XHRcdFwicGF0dGVyblwiOiB7XG5cdFx0XHRcdFwidHlwZVwiOiBcInN0cmluZ1wiLFxuXHRcdFx0XHRcImZvcm1hdFwiOiBcInJlZ2V4XCJcblx0XHRcdH0sXG5cdFx0XHRcImFkZGl0aW9uYWxJdGVtc1wiOiB7XG5cdFx0XHRcdFwiYW55T2ZcIjogW1xuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFwidHlwZVwiOiBcImJvb2xlYW5cIlxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XCIkcmVmXCI6IFwiI1wiXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRdLFxuXHRcdFx0XHRcImRlZmF1bHRcIjoge31cblx0XHRcdH0sXG5cdFx0XHRcIml0ZW1zXCI6IHtcblx0XHRcdFx0XCJhbnlPZlwiOiBbXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XCIkcmVmXCI6IFwiI1wiXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL3NjaGVtYUFycmF5XCJcblx0XHRcdFx0XHR9XG5cdFx0XHRcdF0sXG5cdFx0XHRcdFwiZGVmYXVsdFwiOiB7fVxuXHRcdFx0fSxcblx0XHRcdFwibWF4SXRlbXNcIjoge1xuXHRcdFx0XHRcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL3Bvc2l0aXZlSW50ZWdlclwiXG5cdFx0XHR9LFxuXHRcdFx0XCJtaW5JdGVtc1wiOiB7XG5cdFx0XHRcdFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvcG9zaXRpdmVJbnRlZ2VyRGVmYXVsdDBcIlxuXHRcdFx0fSxcblx0XHRcdFwidW5pcXVlSXRlbXNcIjoge1xuXHRcdFx0XHRcInR5cGVcIjogXCJib29sZWFuXCIsXG5cdFx0XHRcdFwiZGVmYXVsdFwiOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdFwibWF4UHJvcGVydGllc1wiOiB7XG5cdFx0XHRcdFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvcG9zaXRpdmVJbnRlZ2VyXCJcblx0XHRcdH0sXG5cdFx0XHRcIm1pblByb3BlcnRpZXNcIjoge1xuXHRcdFx0XHRcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL3Bvc2l0aXZlSW50ZWdlckRlZmF1bHQwXCJcblx0XHRcdH0sXG5cdFx0XHRcInJlcXVpcmVkXCI6IHtcblx0XHRcdFx0XCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9zdHJpbmdBcnJheVwiXG5cdFx0XHR9LFxuXHRcdFx0XCJhZGRpdGlvbmFsUHJvcGVydGllc1wiOiB7XG5cdFx0XHRcdFwiYW55T2ZcIjogW1xuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFwidHlwZVwiOiBcImJvb2xlYW5cIlxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XCIkcmVmXCI6IFwiI1wiXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRdLFxuXHRcdFx0XHRcImRlZmF1bHRcIjoge31cblx0XHRcdH0sXG5cdFx0XHRcImRlZmluaXRpb25zXCI6IHtcblx0XHRcdFx0XCJ0eXBlXCI6IFwib2JqZWN0XCIsXG5cdFx0XHRcdFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjoge1xuXHRcdFx0XHRcdFwiJHJlZlwiOiBcIiNcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcImRlZmF1bHRcIjoge31cblx0XHRcdH0sXG5cdFx0XHRcInByb3BlcnRpZXNcIjoge1xuXHRcdFx0XHRcInR5cGVcIjogXCJvYmplY3RcIixcblx0XHRcdFx0XCJhZGRpdGlvbmFsUHJvcGVydGllc1wiOiB7XG5cdFx0XHRcdFx0XCIkcmVmXCI6IFwiI1wiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwiZGVmYXVsdFwiOiB7fVxuXHRcdFx0fSxcblx0XHRcdFwicGF0dGVyblByb3BlcnRpZXNcIjoge1xuXHRcdFx0XHRcInR5cGVcIjogXCJvYmplY3RcIixcblx0XHRcdFx0XCJhZGRpdGlvbmFsUHJvcGVydGllc1wiOiB7XG5cdFx0XHRcdFx0XCIkcmVmXCI6IFwiI1wiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwiZGVmYXVsdFwiOiB7fVxuXHRcdFx0fSxcblx0XHRcdFwiZGVwZW5kZW5jaWVzXCI6IHtcblx0XHRcdFx0XCJ0eXBlXCI6IFwib2JqZWN0XCIsXG5cdFx0XHRcdFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjoge1xuXHRcdFx0XHRcdFwiYW55T2ZcIjogW1xuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcIiRyZWZcIjogXCIjXCJcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvc3RyaW5nQXJyYXlcIlxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdF1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdFwiZW51bVwiOiB7XG5cdFx0XHRcdFwidHlwZVwiOiBcImFycmF5XCIsXG5cdFx0XHRcdFwibWluSXRlbXNcIjogMSxcblx0XHRcdFx0XCJ1bmlxdWVJdGVtc1wiOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0XCJ0eXBlXCI6IHtcblx0XHRcdFx0XCJhbnlPZlwiOiBbXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9zaW1wbGVUeXBlc1wiXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcInR5cGVcIjogXCJhcnJheVwiLFxuXHRcdFx0XHRcdFx0XCJpdGVtc1wiOiB7XG5cdFx0XHRcdFx0XHRcdFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvc2ltcGxlVHlwZXNcIlxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFwibWluSXRlbXNcIjogMSxcblx0XHRcdFx0XHRcdFwidW5pcXVlSXRlbXNcIjogdHJ1ZVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XVxuXHRcdFx0fSxcblx0XHRcdFwiYWxsT2ZcIjoge1xuXHRcdFx0XHRcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL3NjaGVtYUFycmF5XCJcblx0XHRcdH0sXG5cdFx0XHRcImFueU9mXCI6IHtcblx0XHRcdFx0XCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9zY2hlbWFBcnJheVwiXG5cdFx0XHR9LFxuXHRcdFx0XCJvbmVPZlwiOiB7XG5cdFx0XHRcdFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvc2NoZW1hQXJyYXlcIlxuXHRcdFx0fSxcblx0XHRcdFwibm90XCI6IHtcblx0XHRcdFx0XCIkcmVmXCI6IFwiI1wiXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRcImRlcGVuZGVuY2llc1wiOiB7XG5cdFx0XHRcImV4Y2x1c2l2ZU1heGltdW1cIjogW1xuXHRcdFx0XHRcIm1heGltdW1cIlxuXHRcdFx0XSxcblx0XHRcdFwiZXhjbHVzaXZlTWluaW11bVwiOiBbXG5cdFx0XHRcdFwibWluaW11bVwiXG5cdFx0XHRdXG5cdFx0fSxcblx0XHRcImRlZmF1bHRcIjoge31cblx0fTtcblxuLyoqKi8gfSxcbi8qIDEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgZm9ybWF0cyA9IHt9O1xuXHRcblx0Ly8gcmVmZXJlbmNlOiBodHRwOi8vZGFuc25ldHdvcmsuY29tL2phdmFzY3JpcHQtaXNvODYwMXJmYzMzMzktZGF0ZS1wYXJzZXIvXG5cdGZvcm1hdHNbJ2RhdGUtdGltZSddID0gLyhcXGRcXGRcXGRcXGQpKC0pPyhcXGRcXGQpKC0pPyhcXGRcXGQpKFQpPyhcXGRcXGQpKDopPyhcXGRcXGQpKDopPyhcXGRcXGQpKFxcLlxcZCspPyhafChbKy1dKShcXGRcXGQpKDopPyhcXGRcXGQpKS87XG5cdC8vIHJlZmVyZW5jZTogaHR0cHM6Ly9naXRodWIuY29tL21hZmludG9zaC9pcy1teS1qc29uLXZhbGlkL2Jsb2IvbWFzdGVyL2Zvcm1hdHMuanMjTDdcblx0Zm9ybWF0cy51cmkgPSAvXihbYS16QS1aXVthLXpBLVowLTkrLS5dKjopezAsMX1cXC9cXC9bXlxcc10qJC87XG5cdC8vIHJlZmVyZW5jZTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMDEzMjMvdXNpbmctYS1yZWd1bGFyLWV4cHJlc3Npb24tdG8tdmFsaWRhdGUtYW4tZW1haWwtYWRkcmVzcyNhbnN3ZXItODgyOTM2M1xuXHQvLyAgICAgICAgICAgIGh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw1L2Zvcm1zLmh0bWwjdmFsaWQtZS1tYWlsLWFkZHJlc3MgKHNlYXJjaCBmb3IgJ3dpbGxmdWwgdmlvbGF0aW9uJylcblx0Zm9ybWF0cy5lbWFpbCA9IC9eW2EtekEtWjAtOS4hIyQlJicqK1xcLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiQvO1xuXHQvLyByZWZlcmVuY2U6IGh0dHBzOi8vd3d3LnNhZmFyaWJvb2tzb25saW5lLmNvbS9saWJyYXJ5L3ZpZXcvcmVndWxhci1leHByZXNzaW9ucy1jb29rYm9vay85NzgwNTk2ODAyODM3L2NoMDdzMTYuaHRtbFxuXHRmb3JtYXRzLmlwdjQgPSAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/KSQvO1xuXHQvLyByZWZlcmVuY2U6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTM0OTcvcmVndWxhci1leHByZXNzaW9uLXRoYXQtbWF0Y2hlcy12YWxpZC1pcHY2LWFkZHJlc3Nlc1xuXHRmb3JtYXRzLmlwdjYgPSAvXigoWzAtOWEtZkEtRl17MSw0fTopezcsN31bMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw3fTp8KFswLTlhLWZBLUZdezEsNH06KXsxLDZ9OlswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDV9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDJ9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwzfXwoWzAtOWEtZkEtRl17MSw0fTopezEsM30oOlswLTlhLWZBLUZdezEsNH0pezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDJ9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDV9fFswLTlhLWZBLUZdezEsNH06KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw2fSl8OigoOlswLTlhLWZBLUZdezEsNH0pezEsN318Oil8W2ZGXVtlRV04MDooOlswLTlhLWZBLUZdezAsNH0pezAsNH0lWzAtOWEtekEtWl17MSx9fDo6KFtmRl17NH0oOjB7MSw0fSl7MCwxfTopezAsMX0oKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSl8KFswLTlhLWZBLUZdezEsNH06KXsxLDR9OigoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKSkkLztcblx0Ly8gcmVmZXJlbmNlOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwNjE3OS9yZWd1bGFyLWV4cHJlc3Npb24tdG8tbWF0Y2gtZG5zLWhvc3RuYW1lLW9yLWlwLWFkZHJlc3MjYW5zd2VyLTM4MjQxMDVcblx0Zm9ybWF0cy5ob3N0bmFtZSA9IC9eKFthLXpBLVowLTldfFthLXpBLVowLTldW2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pKFxcLihbYS16QS1aMC05XXxbYS16QS1aMC05XVthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKSkqJC87XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZvcm1hdHM7XG5cbi8qKiovIH0sXG4vKiAxNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xyXG5cdCAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcclxuXHQgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcblx0ICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuXHR9O1xyXG5cdHZhciBlbWJlZCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcblx0dmFyIFJlcG9ydCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcblx0ICAgIF9fZXh0ZW5kcyhSZXBvcnQsIF9zdXBlcik7XHJcblx0ICAgIGZ1bmN0aW9uIFJlcG9ydCgpIHtcclxuXHQgICAgICAgIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdCAgICB9XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBBZGQgZmlsdGVyIHRvIHJlcG9ydFxyXG5cdCAgICAgKiBBbiBvcHRpb25hbCB0YXJnZXQgbWF5IGJlIHBhc3NlZCB0byBhcHBseSB0aGUgZmlsdGVyIHRvIHNwZWNpZmljIHBhZ2Ugb3IgdmlzdWFsLlxyXG5cdCAgICAgKlxyXG5cdCAgICAgKiBgYGBqYXZhc2NyaXB0XHJcblx0ICAgICAqIC8vIEFkZCBmaWx0ZXIgdG8gcmVwb3J0XHJcblx0ICAgICAqIGNvbnN0IGZpbHRlciA9IG5ldyBmaWx0ZXJzLkJhc2ljRmlsdGVyKC4uLik7XHJcblx0ICAgICAqIHJlcG9ydC5hZGRGaWx0ZXIoZmlsdGVyKTtcclxuXHQgICAgICpcclxuXHQgICAgICogLy8gQWRkIGFkdmFuY2VkIGZpbHRlciB0byBzcGVjaWZpYyB2aXN1YWw7XHJcblx0ICAgICAqIGNvbnN0IHRhcmdldCA9IC4uLlxyXG5cdCAgICAgKiBjb25zdCBmaWx0ZXIgPSBuZXcgZmlsdGVycy5BZHZhbmNlZEZpbHRlciguLi4pO1xyXG5cdCAgICAgKiByZXBvcnQuYWRkRmlsdGVyKGZpbHRlciwgdGFyZ2V0KTtcclxuXHQgICAgICogYGBgXHJcblx0ICAgICAqL1xyXG5cdCAgICBSZXBvcnQucHJvdG90eXBlLmFkZEZpbHRlciA9IGZ1bmN0aW9uIChmaWx0ZXIsIHRhcmdldCkge1xyXG5cdCAgICAgICAgdmFyIHRhcmdldFVybCA9IHRoaXMuZ2V0VGFyZ2V0VXJsKHRhcmdldCk7XHJcblx0ICAgICAgICByZXR1cm4gdGhpcy5ocG0ucG9zdCh0YXJnZXRVcmwgKyBcIi9maWx0ZXJzXCIsIGZpbHRlcilcclxuXHQgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0ICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2UuYm9keTtcclxuXHQgICAgICAgIH0pO1xyXG5cdCAgICB9O1xyXG5cdCAgICAvKipcclxuXHQgICAgICogR2V0IGZpbHRlcnMgdGhhdCBhcmUgYXBwbGllZCB0byB0aGUgcmVwb3J0XHJcblx0ICAgICAqIEFuIG9wdGlvbmFsIHRhcmdldCBtYXkgYmUgcGFzc2VkIHRvIGdldCBmaWx0ZXJzIGFwcGxpZWQgdG8gYSBzcGVjaWZpYyBwYWdlIG9yIHZpc3VhbFxyXG5cdCAgICAgKlxyXG5cdCAgICAgKiBgYGBqYXZhc2NyaXB0XHJcblx0ICAgICAqIC8vIEdldCBmaWx0ZXJzIGFwcGxpZWQgYXQgcmVwb3J0IGxldmVsXHJcblx0ICAgICAqIHJlcG9ydC5nZXRGaWx0ZXJzKClcclxuXHQgICAgICogICAgICAudGhlbihmaWx0ZXJzID0+IHtcclxuXHQgICAgICogICAgICAgICAgLi4uXHJcblx0ICAgICAqICAgICAgfSk7XHJcblx0ICAgICAqXHJcblx0ICAgICAqIC8vIEdldCBmaWx0ZXJzIGFwcGxpZWQgYXQgcGFnZSBsZXZlbFxyXG5cdCAgICAgKiBjb25zdCBwYWdlVGFyZ2V0ID0ge1xyXG5cdCAgICAgKiAgIHR5cGU6IFwicGFnZVwiLFxyXG5cdCAgICAgKiAgIG5hbWU6IFwicmVwb3J0U2VjdGlvbjFcIlxyXG5cdCAgICAgKiB9O1xyXG5cdCAgICAgKlxyXG5cdCAgICAgKiByZXBvcnQuZ2V0RmlsdGVycyhwYWdlVGFyZ2V0KVxyXG5cdCAgICAgKiAgICAgIC50aGVuKGZpbHRlcnMgPT4ge1xyXG5cdCAgICAgKiAgICAgICAgICAuLi5cclxuXHQgICAgICogICAgICB9KTtcclxuXHQgICAgICogYGBgXHJcblx0ICAgICAqL1xyXG5cdCAgICBSZXBvcnQucHJvdG90eXBlLmdldEZpbHRlcnMgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcblx0ICAgICAgICB2YXIgdGFyZ2V0VXJsID0gdGhpcy5nZXRUYXJnZXRVcmwodGFyZ2V0KTtcclxuXHQgICAgICAgIHJldHVybiB0aGlzLmhwbS5nZXQodGFyZ2V0VXJsICsgXCIvZmlsdGVyc1wiKVxyXG5cdCAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gcmVzcG9uc2UuYm9keTsgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0ICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2UuYm9keTtcclxuXHQgICAgICAgIH0pO1xyXG5cdCAgICB9O1xyXG5cdCAgICAvKipcclxuXHQgICAgICogR2V0IHRoZSBsaXN0IG9mIHBhZ2VzIHdpdGhpbiB0aGUgcmVwb3J0XHJcblx0ICAgICAqXHJcblx0ICAgICAqIGBgYGphdmFzY3JpcHRcclxuXHQgICAgICogcmVwb3J0LmdldFBhZ2VzKClcclxuXHQgICAgICogIC50aGVuKHBhZ2VzID0+IHtcclxuXHQgICAgICogICAgICAuLi5cclxuXHQgICAgICogIH0pO1xyXG5cdCAgICAgKiBgYGBcclxuXHQgICAgICovXHJcblx0ICAgIFJlcG9ydC5wcm90b3R5cGUuZ2V0UGFnZXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICByZXR1cm4gdGhpcy5ocG0uZ2V0KCcvcmVwb3J0L3BhZ2VzJylcclxuXHQgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIHJlc3BvbnNlLmJvZHk7IH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdCAgICAgICAgICAgIHRocm93IHJlc3BvbnNlLmJvZHk7XHJcblx0ICAgICAgICB9KTtcclxuXHQgICAgfTtcclxuXHQgICAgUmVwb3J0LnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGhhbmRsZXIpIHtcclxuXHQgICAgICAgIGlmIChSZXBvcnQuYWxsb3dlZEV2ZW50cy5pbmRleE9mKGV2ZW50TmFtZSkgPT09IC0xKSB7XHJcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZXZlbnROYW1lIGlzIG11c3QgYmUgb25lIG9mIFwiICsgUmVwb3J0LmFsbG93ZWRFdmVudHMgKyBcIi4gWW91IHBhc3NlZDogXCIgKyBldmVudE5hbWUpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgdGhpcy5yb3V0ZXIucG9zdChcIi9yZXBvcnQvZXZlbnRzL1wiICsgZXZlbnROYW1lLCBmdW5jdGlvbiAocmVzLCByZXEpIHtcclxuXHQgICAgICAgICAgICBoYW5kbGVyKHJlcy5ib2R5KTtcclxuXHQgICAgICAgIH0pO1xyXG5cdCAgICB9O1xyXG5cdCAgICAvKipcclxuXHQgICAgICogU2V0IHRoZSBhY3RpdmUgcGFnZVxyXG5cdCAgICAgKi9cclxuXHQgICAgUmVwb3J0LnByb3RvdHlwZS5zZXRQYWdlID0gZnVuY3Rpb24gKHBhZ2VOYW1lKSB7XHJcblx0ICAgICAgICB2YXIgcGFnZSA9IHtcclxuXHQgICAgICAgICAgICBuYW1lOiBwYWdlTmFtZSxcclxuXHQgICAgICAgICAgICBkaXNwbGF5TmFtZTogbnVsbFxyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIHJldHVybiB0aGlzLmhwbS5wdXQoJy9yZXBvcnQvcGFnZXMvYWN0aXZlJywgcGFnZSlcclxuXHQgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0ICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2UuYm9keTtcclxuXHQgICAgICAgIH0pO1xyXG5cdCAgICB9O1xyXG5cdCAgICAvKipcclxuXHQgICAgICogUmVtb3ZlIHNwZWNpZmljIGZpbHRlciBmcm9tIHJlcG9ydCwgcGFnZSwgb3IgdmlzdWFsXHJcblx0ICAgICAqL1xyXG5cdCAgICBSZXBvcnQucHJvdG90eXBlLnJlbW92ZUZpbHRlciA9IGZ1bmN0aW9uIChmaWx0ZXIsIHRhcmdldCkge1xyXG5cdCAgICAgICAgdmFyIHRhcmdldFVybCA9IHRoaXMuZ2V0VGFyZ2V0VXJsKHRhcmdldCk7XHJcblx0ICAgICAgICByZXR1cm4gdGhpcy5ocG0uZGVsZXRlKHRhcmdldFVybCArIFwiL2ZpbHRlcnNcIiwgZmlsdGVyKVxyXG5cdCAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHQgICAgICAgICAgICB0aHJvdyByZXNwb25zZS5ib2R5O1xyXG5cdCAgICAgICAgfSk7XHJcblx0ICAgIH07XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBSZW1vdmUgYWxsIGZpbHRlcnMgYWNyb3NzIHRoZSByZXBvcnQsIHBhZ2VzLCBhbmQgdmlzdWFsc1xyXG5cdCAgICAgKlxyXG5cdCAgICAgKiBgYGBqYXZhc2NyaXB0XHJcblx0ICAgICAqIHJlcG9ydC5yZW1vdmVBbGxGaWx0ZXJzKCk7XHJcblx0ICAgICAqIGBgYFxyXG5cdCAgICAgKi9cclxuXHQgICAgUmVwb3J0LnByb3RvdHlwZS5yZW1vdmVBbGxGaWx0ZXJzID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgcmV0dXJuIHRoaXMuaHBtLmRlbGV0ZSgnL3JlcG9ydC9hbGxmaWx0ZXJzJywgbnVsbClcclxuXHQgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0ICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2UuYm9keTtcclxuXHQgICAgICAgIH0pO1xyXG5cdCAgICB9O1xyXG5cdCAgICAvKipcclxuXHQgICAgICogVXBkYXRlIGV4aXN0aW5nIGZpbHRlciBhcHBsaWVkIHRvIHJlcG9ydCwgcGFnZSwgb3IgdmlzdWFsLlxyXG5cdCAgICAgKlxyXG5cdCAgICAgKiBUaGUgZXhpc3RpbmcgZmlsdGVyIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgbmV3IGZpbHRlci5cclxuXHQgICAgICovXHJcblx0ICAgIFJlcG9ydC5wcm90b3R5cGUudXBkYXRlRmlsdGVyID0gZnVuY3Rpb24gKGZpbHRlciwgdGFyZ2V0KSB7XHJcblx0ICAgICAgICB2YXIgdGFyZ2V0VXJsID0gdGhpcy5nZXRUYXJnZXRVcmwodGFyZ2V0KTtcclxuXHQgICAgICAgIHJldHVybiB0aGlzLmhwbS5wdXQodGFyZ2V0VXJsICsgXCIvZmlsdGVyc1wiLCBmaWx0ZXIpXHJcblx0ICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdCAgICAgICAgICAgIHRocm93IHJlc3BvbnNlLmJvZHk7XHJcblx0ICAgICAgICB9KTtcclxuXHQgICAgfTtcclxuXHQgICAgLyoqXHJcblx0ICAgICAqIFVwZGF0ZSBzZXR0aW5ncyBvZiByZXBvcnQgKGZpbHRlciBwYW5lIHZpc2liaWxpdHksIHBhZ2UgbmF2aWdhdGlvbiB2aXNpYmlsaXR5KVxyXG5cdCAgICAgKi9cclxuXHQgICAgUmVwb3J0LnByb3RvdHlwZS51cGRhdGVTZXR0aW5ncyA9IGZ1bmN0aW9uIChzZXR0aW5ncykge1xyXG5cdCAgICAgICAgcmV0dXJuIHRoaXMuaHBtLnBhdGNoKCcvcmVwb3J0L3NldHRpbmdzJywgc2V0dGluZ3MpXHJcblx0ICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdCAgICAgICAgICAgIHRocm93IHJlc3BvbnNlLmJvZHk7XHJcblx0ICAgICAgICB9KTtcclxuXHQgICAgfTtcclxuXHQgICAgLyoqXHJcblx0ICAgICAqIFRyYW5zbGF0ZSB0YXJnZXQgaW50byB1cmxcclxuXHQgICAgICogVGFyZ2V0IG1heSBiZSB0byB0aGUgd2hvbGUgcmVwb3J0LCBzcGVpZmljIHBhZ2UsIG9yIHNwZWNpZmljIHZpc3VhbFxyXG5cdCAgICAgKi9cclxuXHQgICAgUmVwb3J0LnByb3RvdHlwZS5nZXRUYXJnZXRVcmwgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcblx0ICAgICAgICB2YXIgdGFyZ2V0VXJsO1xyXG5cdCAgICAgICAgLyoqXHJcblx0ICAgICAgICAgKiBUT0RPOiBJIG1lbnRpb25lZCB0aGlzIGlzc3VlIGluIHRoZSBwcm90b2NvbCB0ZXN0LCBidXQgd2UncmUgdHJhbmxhdGluZyB0YXJnZXRzIGZyb20gb2JqZWN0c1xyXG5cdCAgICAgICAgICogaW50byBwYXJ0cyBvZiB0aGUgdXJsLCBhbmQgdGhlbiBiYWNrIHRvIG9iamVjdHMuIEl0IGlzIGEgdHJhZGUgb2ZmIGJldHdlZW4gY29tcGxpeGl0eSBpbiB0aGlzIGNvZGUgdnMgc2VtYW50aWMgVVJJc1xyXG5cdCAgICAgICAgICpcclxuXHQgICAgICAgICAqIFdlIGNvdWxkIGNvbWUgdXAgd2l0aCBhIGRpZmZlcmVudCBpZGVhIHdoaWNoIHBhc3NlZCB0aGUgdGFyZ2V0IGFzIHBhcnQgb2YgdGhlIGJvZHlcclxuXHQgICAgICAgICAqL1xyXG5cdCAgICAgICAgaWYgKCF0YXJnZXQpIHtcclxuXHQgICAgICAgICAgICB0YXJnZXRVcmwgPSAnL3JlcG9ydCc7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBlbHNlIGlmICh0YXJnZXQudHlwZSA9PT0gXCJwYWdlXCIpIHtcclxuXHQgICAgICAgICAgICB0YXJnZXRVcmwgPSBcIi9yZXBvcnQvcGFnZXMvXCIgKyB0YXJnZXQubmFtZTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGVsc2UgaWYgKHRhcmdldC50eXBlID09PSBcInZpc3VhbFwiKSB7XHJcblx0ICAgICAgICAgICAgdGFyZ2V0VXJsID0gXCIvcmVwb3J0L3Zpc3VhbHMvXCIgKyB0YXJnZXQuaWQ7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBlbHNlIHtcclxuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0YXJnZXQudHlwZSBtdXN0IGJlIGVpdGhlciAncGFnZScgb3IgJ3Zpc3VhbCcuIFlvdSBwYXNzZWQ6IFwiICsgdGFyZ2V0LnR5cGUpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgcmV0dXJuIHRhcmdldFVybDtcclxuXHQgICAgfTtcclxuXHQgICAgUmVwb3J0LmFsbG93ZWRFdmVudHMgPSBbXCJkYXRhU2VsZWN0ZWRcIiwgXCJmaWx0ZXJBZGRlZFwiLCBcImZpbHRlclVwZGF0ZWRcIiwgXCJmaWx0ZXJSZW1vdmVkXCIsIFwicGFnZUNoYW5nZWRcIiwgXCJlcnJvclwiXTtcclxuXHQgICAgUmVwb3J0LnR5cGUgPSBcIlJlcG9ydFwiO1xyXG5cdCAgICByZXR1cm4gUmVwb3J0O1xyXG5cdH0oZW1iZWQuRW1iZWQpKTtcclxuXHRleHBvcnRzLlJlcG9ydCA9IFJlcG9ydDtcclxuXG5cbi8qKiovIH0sXG4vKiAxNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xyXG5cdCAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcclxuXHQgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcblx0ICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuXHR9O1xyXG5cdHZhciBlbWJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcclxuXHR2YXIgVGlsZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcblx0ICAgIF9fZXh0ZW5kcyhUaWxlLCBfc3VwZXIpO1xyXG5cdCAgICBmdW5jdGlvbiBUaWxlKCkge1xyXG5cdCAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0ICAgIH1cclxuXHQgICAgVGlsZS50eXBlID0gXCJUaWxlXCI7XHJcblx0ICAgIHJldHVybiBUaWxlO1xyXG5cdH0oZW1iZWRfMS5FbWJlZCkpO1xyXG5cdGV4cG9ydHMuVGlsZSA9IFRpbGU7XHJcblxuXG4vKioqLyB9LFxuLyogMTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciB3cG1wID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XHJcblx0dmFyIGhwbSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xyXG5cdHZhciByb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcclxuXHRleHBvcnRzLmhwbUZhY3RvcnkgPSBmdW5jdGlvbiAod3BtcCwgc2RrVmVyc2lvbiwgc2RrVHlwZSwgb3JpZ2luKSB7XHJcblx0ICAgIGlmIChzZGtWZXJzaW9uID09PSB2b2lkIDApIHsgc2RrVmVyc2lvbiA9ICcyLjAuMCc7IH1cclxuXHQgICAgaWYgKHNka1R5cGUgPT09IHZvaWQgMCkgeyBzZGtUeXBlID0gJ2pzJzsgfVxyXG5cdCAgICBpZiAob3JpZ2luID09PSB2b2lkIDApIHsgb3JpZ2luID0gJ3Nkayc7IH1cclxuXHQgICAgcmV0dXJuIG5ldyBocG0uSHR0cFBvc3RNZXNzYWdlKHdwbXAsIHtcclxuXHQgICAgICAgICdvcmlnaW4nOiBvcmlnaW4sXHJcblx0ICAgICAgICAneC1zZGstdHlwZSc6IHNka1R5cGUsXHJcblx0ICAgICAgICAneC1zZGstdmVyc2lvbic6IHNka1ZlcnNpb25cclxuXHQgICAgfSk7XHJcblx0fTtcclxuXHRleHBvcnRzLndwbXBGYWN0b3J5ID0gZnVuY3Rpb24gKHdpbmRvdywgbmFtZSwgbG9nTWVzc2FnZXMpIHtcclxuXHQgICAgcmV0dXJuIG5ldyB3cG1wLldpbmRvd1Bvc3RNZXNzYWdlUHJveHkod2luZG93LCB7XHJcblx0ICAgICAgICBwcm9jZXNzVHJhY2tpbmdQcm9wZXJ0aWVzOiB7XHJcblx0ICAgICAgICAgICAgYWRkVHJhY2tpbmdQcm9wZXJ0aWVzOiBocG0uSHR0cFBvc3RNZXNzYWdlLmFkZFRyYWNraW5nUHJvcGVydGllcyxcclxuXHQgICAgICAgICAgICBnZXRUcmFja2luZ1Byb3BlcnRpZXM6IGhwbS5IdHRwUG9zdE1lc3NhZ2UuZ2V0VHJhY2tpbmdQcm9wZXJ0aWVzLFxyXG5cdCAgICAgICAgfSxcclxuXHQgICAgICAgIGlzRXJyb3JNZXNzYWdlOiBocG0uSHR0cFBvc3RNZXNzYWdlLmlzRXJyb3JNZXNzYWdlLFxyXG5cdCAgICAgICAgbmFtZTogbmFtZSxcclxuXHQgICAgICAgIGxvZ01lc3NhZ2VzOiBsb2dNZXNzYWdlc1xyXG5cdCAgICB9KTtcclxuXHR9O1xyXG5cdGV4cG9ydHMucm91dGVyRmFjdG9yeSA9IGZ1bmN0aW9uICh3cG1wKSB7XHJcblx0ICAgIHJldHVybiBuZXcgcm91dGVyLlJvdXRlcih3cG1wKTtcclxuXHR9O1xyXG5cblxuLyoqKi8gfSxcbi8qIDE3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsoZnVuY3Rpb24gKGZhY3RvcnkpIHtcclxuXHQgICAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcclxuXHQgICAgICAgIHZhciB2ID0gZmFjdG9yeShfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSwgZXhwb3J0cyk7IGlmICh2ICE9PSB1bmRlZmluZWQpIG1vZHVsZS5leHBvcnRzID0gdjtcclxuXHQgICAgfVxyXG5cdCAgICBlbHNlIGlmICh0cnVlKSB7XHJcblx0ICAgICAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbX193ZWJwYWNrX3JlcXVpcmVfXywgZXhwb3J0c10sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xyXG5cdCAgICB9XHJcblx0fSkoZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMpIHtcclxuXHQgICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblx0ICAgIHZhciBXaW5kb3dQb3N0TWVzc2FnZVByb3h5ID0gKGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIGZ1bmN0aW9uIFdpbmRvd1Bvc3RNZXNzYWdlUHJveHkoY29udGVudFdpbmRvdywgb3B0aW9ucykge1xyXG5cdCAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblx0ICAgICAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge1xyXG5cdCAgICAgICAgICAgICAgICBwcm9jZXNzVHJhY2tpbmdQcm9wZXJ0aWVzOiB7XHJcblx0ICAgICAgICAgICAgICAgICAgICBhZGRUcmFja2luZ1Byb3BlcnRpZXM6IFdpbmRvd1Bvc3RNZXNzYWdlUHJveHkuZGVmYXVsdEFkZFRyYWNraW5nUHJvcGVydGllcyxcclxuXHQgICAgICAgICAgICAgICAgICAgIGdldFRyYWNraW5nUHJvcGVydGllczogV2luZG93UG9zdE1lc3NhZ2VQcm94eS5kZWZhdWx0R2V0VHJhY2tpbmdQcm9wZXJ0aWVzXHJcblx0ICAgICAgICAgICAgICAgIH0sXHJcblx0ICAgICAgICAgICAgICAgIGlzRXJyb3JNZXNzYWdlOiBXaW5kb3dQb3N0TWVzc2FnZVByb3h5LmRlZmF1bHRJc0Vycm9yTWVzc2FnZSxcclxuXHQgICAgICAgICAgICAgICAgcmVjZWl2ZVdpbmRvdzogd2luZG93LFxyXG5cdCAgICAgICAgICAgICAgICBuYW1lOiBXaW5kb3dQb3N0TWVzc2FnZVByb3h5LmNyZWF0ZVJhbmRvbVN0cmluZygpXHJcblx0ICAgICAgICAgICAgfTsgfVxyXG5cdCAgICAgICAgICAgIHRoaXMucGVuZGluZ1JlcXVlc3RQcm9taXNlcyA9IHt9O1xyXG5cdCAgICAgICAgICAgIC8vIHNhdmUgY29udGVudFdpbmRvd1xyXG5cdCAgICAgICAgICAgIHRoaXMuY29udGVudFdpbmRvdyA9IGNvbnRlbnRXaW5kb3c7XHJcblx0ICAgICAgICAgICAgLy8gc2F2ZSBvcHRpb25zIHdpdGggZGVmYXVsdHNcclxuXHQgICAgICAgICAgICB0aGlzLmFkZFRyYWNraW5nUHJvcGVydGllcyA9IChvcHRpb25zLnByb2Nlc3NUcmFja2luZ1Byb3BlcnRpZXMgJiYgb3B0aW9ucy5wcm9jZXNzVHJhY2tpbmdQcm9wZXJ0aWVzLmFkZFRyYWNraW5nUHJvcGVydGllcykgfHwgV2luZG93UG9zdE1lc3NhZ2VQcm94eS5kZWZhdWx0QWRkVHJhY2tpbmdQcm9wZXJ0aWVzO1xyXG5cdCAgICAgICAgICAgIHRoaXMuZ2V0VHJhY2tpbmdQcm9wZXJ0aWVzID0gKG9wdGlvbnMucHJvY2Vzc1RyYWNraW5nUHJvcGVydGllcyAmJiBvcHRpb25zLnByb2Nlc3NUcmFja2luZ1Byb3BlcnRpZXMuZ2V0VHJhY2tpbmdQcm9wZXJ0aWVzKSB8fCBXaW5kb3dQb3N0TWVzc2FnZVByb3h5LmRlZmF1bHRHZXRUcmFja2luZ1Byb3BlcnRpZXM7XHJcblx0ICAgICAgICAgICAgdGhpcy5pc0Vycm9yTWVzc2FnZSA9IG9wdGlvbnMuaXNFcnJvck1lc3NhZ2UgfHwgV2luZG93UG9zdE1lc3NhZ2VQcm94eS5kZWZhdWx0SXNFcnJvck1lc3NhZ2U7XHJcblx0ICAgICAgICAgICAgdGhpcy5yZWNlaXZlV2luZG93ID0gb3B0aW9ucy5yZWNlaXZlV2luZG93IHx8IHdpbmRvdztcclxuXHQgICAgICAgICAgICB0aGlzLm5hbWUgPSBvcHRpb25zLm5hbWUgfHwgV2luZG93UG9zdE1lc3NhZ2VQcm94eS5jcmVhdGVSYW5kb21TdHJpbmcoKTtcclxuXHQgICAgICAgICAgICB0aGlzLmxvZ01lc3NhZ2VzID0gb3B0aW9ucy5sb2dNZXNzYWdlcyB8fCBmYWxzZTtcclxuXHQgICAgICAgICAgICAvLyBJbml0aWFsaXplXHJcblx0ICAgICAgICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xyXG5cdCAgICAgICAgICAgIHRoaXMud2luZG93TWVzc2FnZUhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIF90aGlzLm9uTWVzc2FnZVJlY2VpdmVkKGV2ZW50KTsgfTtcclxuXHQgICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICAvLyBTdGF0aWNcclxuXHQgICAgICAgIFdpbmRvd1Bvc3RNZXNzYWdlUHJveHkuZGVmYXVsdEFkZFRyYWNraW5nUHJvcGVydGllcyA9IGZ1bmN0aW9uIChtZXNzYWdlLCB0cmFja2luZ1Byb3BlcnRpZXMpIHtcclxuXHQgICAgICAgICAgICBtZXNzYWdlW1dpbmRvd1Bvc3RNZXNzYWdlUHJveHkubWVzc2FnZVByb3BlcnR5TmFtZV0gPSB0cmFja2luZ1Byb3BlcnRpZXM7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgV2luZG93UG9zdE1lc3NhZ2VQcm94eS5kZWZhdWx0R2V0VHJhY2tpbmdQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuXHQgICAgICAgICAgICByZXR1cm4gbWVzc2FnZVtXaW5kb3dQb3N0TWVzc2FnZVByb3h5Lm1lc3NhZ2VQcm9wZXJ0eU5hbWVdO1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIFdpbmRvd1Bvc3RNZXNzYWdlUHJveHkuZGVmYXVsdElzRXJyb3JNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuXHQgICAgICAgICAgICByZXR1cm4gISFtZXNzYWdlLmVycm9yO1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIC8qKlxyXG5cdCAgICAgICAgICogQWRkcyBoYW5kbGVyLlxyXG5cdCAgICAgICAgICogSWYgdGhlIGZpcnN0IGhhbmRsZXIgd2hvc2UgdGVzdCBtZXRob2QgcmV0dXJucyB0cnVlIHdpbGwgaGFuZGxlIHRoZSBtZXNzYWdlIGFuZCBwcm92aWRlIGEgcmVzcG9uc2UuXHJcblx0ICAgICAgICAgKi9cclxuXHQgICAgICAgIFdpbmRvd1Bvc3RNZXNzYWdlUHJveHkucHJvdG90eXBlLmFkZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xyXG5cdCAgICAgICAgICAgIHRoaXMuaGFuZGxlcnMucHVzaChoYW5kbGVyKTtcclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgICAvKipcclxuXHQgICAgICAgICAqIFJlbW92ZXMgaGFuZGxlci5cclxuXHQgICAgICAgICAqIFRoZSByZWZlcmVuY2UgbXVzdCBtYXRjaCB0aGUgb3JpZ2luYWwgb2JqZWN0IHRoYXQgd2FzIHByb3ZpZGVkIHdoZW4gYWRkaW5nIHRoZSBoYW5kbGVyLlxyXG5cdCAgICAgICAgICovXHJcblx0ICAgICAgICBXaW5kb3dQb3N0TWVzc2FnZVByb3h5LnByb3RvdHlwZS5yZW1vdmVIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcclxuXHQgICAgICAgICAgICB2YXIgaGFuZGxlckluZGV4ID0gdGhpcy5oYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xyXG5cdCAgICAgICAgICAgIGlmIChoYW5kbGVySW5kZXggPT0gLTEpIHtcclxuXHQgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGF0dGVtcHRlZCB0byByZW1vdmUgYSBoYW5kbGVyIGJ1dCBubyBtYXRjaGluZyBoYW5kbGVyIHdhcyBmb3VuZC5cIik7XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIHRoaXMuaGFuZGxlcnMuc3BsaWNlKGhhbmRsZXJJbmRleCwgMSk7XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgLyoqXHJcblx0ICAgICAgICAgKiBTdGFydCBsaXN0ZW5pbmcgdG8gbWVzc2FnZSBldmVudHMuXHJcblx0ICAgICAgICAgKi9cclxuXHQgICAgICAgIFdpbmRvd1Bvc3RNZXNzYWdlUHJveHkucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgICAgIHRoaXMucmVjZWl2ZVdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy53aW5kb3dNZXNzYWdlSGFuZGxlcik7XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgLyoqXHJcblx0ICAgICAgICAgKiBTdG9wcyBsaXN0ZW5pbmcgdG8gbWVzc2FnZSBldmVudHMuXHJcblx0ICAgICAgICAgKi9cclxuXHQgICAgICAgIFdpbmRvd1Bvc3RNZXNzYWdlUHJveHkucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5yZWNlaXZlV2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLndpbmRvd01lc3NhZ2VIYW5kbGVyKTtcclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgICAvKipcclxuXHQgICAgICAgICAqIFBvc3QgbWVzc2FnZSB0byB0YXJnZXQgd2luZG93IHdpdGggdHJhY2tpbmcgcHJvcGVydGllcyBhZGRlZCBhbmQgc2F2ZSBkZWZlcnJlZCBvYmplY3QgcmVmZXJlbmNlZCBieSB0cmFja2luZyBpZC5cclxuXHQgICAgICAgICAqL1xyXG5cdCAgICAgICAgV2luZG93UG9zdE1lc3NhZ2VQcm94eS5wcm90b3R5cGUucG9zdE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG5cdCAgICAgICAgICAgIC8vIEFkZCB0cmFja2luZyBwcm9wZXJ0aWVzIHRvIGluZGljYXRlIG1lc3NhZ2UgY2FtZSBmcm9tIHRoaXMgcHJveHlcclxuXHQgICAgICAgICAgICB2YXIgdHJhY2tpbmdQcm9wZXJ0aWVzID0geyBpZDogV2luZG93UG9zdE1lc3NhZ2VQcm94eS5jcmVhdGVSYW5kb21TdHJpbmcoKSB9O1xyXG5cdCAgICAgICAgICAgIHRoaXMuYWRkVHJhY2tpbmdQcm9wZXJ0aWVzKG1lc3NhZ2UsIHRyYWNraW5nUHJvcGVydGllcyk7XHJcblx0ICAgICAgICAgICAgaWYgKHRoaXMubG9nTWVzc2FnZXMpIHtcclxuXHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5uYW1lICsgXCIgUG9zdGluZyBtZXNzYWdlOlwiKTtcclxuXHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkobWVzc2FnZSwgbnVsbCwgJyAgJykpO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICB0aGlzLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UobWVzc2FnZSwgXCIqXCIpO1xyXG5cdCAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9IFdpbmRvd1Bvc3RNZXNzYWdlUHJveHkuY3JlYXRlRGVmZXJyZWQoKTtcclxuXHQgICAgICAgICAgICB0aGlzLnBlbmRpbmdSZXF1ZXN0UHJvbWlzZXNbdHJhY2tpbmdQcm9wZXJ0aWVzLmlkXSA9IGRlZmVycmVkO1xyXG5cdCAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIC8qKlxyXG5cdCAgICAgICAgICogU2VuZCByZXNwb25zZSBtZXNzYWdlIHRvIHRhcmdldCB3aW5kb3cuXHJcblx0ICAgICAgICAgKiBSZXNwb25zZSBtZXNzYWdlcyByZS11c2UgdHJhY2tpbmcgcHJvcGVydGllcyBmcm9tIGEgcHJldmlvdXMgcmVxdWVzdCBtZXNzYWdlLlxyXG5cdCAgICAgICAgICovXHJcblx0ICAgICAgICBXaW5kb3dQb3N0TWVzc2FnZVByb3h5LnByb3RvdHlwZS5zZW5kUmVzcG9uc2UgPSBmdW5jdGlvbiAobWVzc2FnZSwgdHJhY2tpbmdQcm9wZXJ0aWVzKSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5hZGRUcmFja2luZ1Byb3BlcnRpZXMobWVzc2FnZSwgdHJhY2tpbmdQcm9wZXJ0aWVzKTtcclxuXHQgICAgICAgICAgICBpZiAodGhpcy5sb2dNZXNzYWdlcykge1xyXG5cdCAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm5hbWUgKyBcIiBTZW5kaW5nIHJlc3BvbnNlOlwiKTtcclxuXHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkobWVzc2FnZSwgbnVsbCwgJyAgJykpO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICB0aGlzLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UobWVzc2FnZSwgXCIqXCIpO1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIC8qKlxyXG5cdCAgICAgICAgICogTWVzc2FnZSBoYW5kbGVyLlxyXG5cdCAgICAgICAgICovXHJcblx0ICAgICAgICBXaW5kb3dQb3N0TWVzc2FnZVByb3h5LnByb3RvdHlwZS5vbk1lc3NhZ2VSZWNlaXZlZCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG5cdCAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblx0ICAgICAgICAgICAgaWYgKHRoaXMubG9nTWVzc2FnZXMpIHtcclxuXHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5uYW1lICsgXCIgUmVjZWl2ZWQgbWVzc2FnZTpcIik7XHJcblx0ICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidHlwZTogXCIgKyBldmVudC50eXBlKTtcclxuXHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZXZlbnQuZGF0YSwgbnVsbCwgJyAgJykpO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IGV2ZW50LmRhdGE7XHJcblx0ICAgICAgICAgICAgdmFyIHRyYWNraW5nUHJvcGVydGllcyA9IHRoaXMuZ2V0VHJhY2tpbmdQcm9wZXJ0aWVzKG1lc3NhZ2UpO1xyXG5cdCAgICAgICAgICAgIC8vIElmIHRoaXMgcHJveHkgaW5zdGFuY2UgY291bGQgbm90IGZpbmQgdHJhY2tpbmcgcHJvcGVydGllcyB0aGVuIGRpc3JlZ2FyZCBtZXNzYWdlIHNpbmNlIHdlIGNhbid0IHJlbGlhYmx5IHJlc3BvbmRcclxuXHQgICAgICAgICAgICBpZiAoIXRyYWNraW5nUHJvcGVydGllcykge1xyXG5cdCAgICAgICAgICAgICAgICByZXR1cm47XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMucGVuZGluZ1JlcXVlc3RQcm9taXNlc1t0cmFja2luZ1Byb3BlcnRpZXMuaWRdO1xyXG5cdCAgICAgICAgICAgIC8vIElmIG1lc3NhZ2UgZG9lcyBub3QgaGF2ZSBhIGtub3duIElELCB0cmVhdCBpdCBhcyBhIHJlcXVlc3RcclxuXHQgICAgICAgICAgICAvLyBPdGhlcndpc2UsIHRyZWF0IG1lc3NhZ2UgYXMgcmVzcG9uc2VcclxuXHQgICAgICAgICAgICBpZiAoIWRlZmVycmVkKSB7XHJcblx0ICAgICAgICAgICAgICAgIHZhciBoYW5kbGVkID0gdGhpcy5oYW5kbGVycy5zb21lKGZ1bmN0aW9uIChoYW5kbGVyKSB7XHJcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlci50ZXN0KG1lc3NhZ2UpKSB7XHJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKGhhbmRsZXIuaGFuZGxlKG1lc3NhZ2UpKVxyXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2VNZXNzYWdlKSB7XHJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZU1lc3NhZ2UsIHRyYWNraW5nUHJvcGVydGllcyk7XHJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcblx0ICAgICAgICAgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgICAgIH0pO1xyXG5cdCAgICAgICAgICAgICAgICAvKipcclxuXHQgICAgICAgICAgICAgICAgICogVE9ETzogQ29uc2lkZXIgcmV0dXJuaW5nIGFuIGVycm9yIG1lc3NhZ2UgaWYgbm90aGluZyBoYW5kbGVkIHRoZSBtZXNzYWdlLlxyXG5cdCAgICAgICAgICAgICAgICAgKiBJbiB0aGUgY2FzZSBvZiB0aGUgUmVwb3J0IHJlY2VpdmluZyBtZXNzYWdlcyBhbGwgb2YgdGhlbSBzaG91bGQgYmUgaGFuZGxlZCxcclxuXHQgICAgICAgICAgICAgICAgICogaG93ZXZlciwgaW4gdGhlIGNhc2Ugb2YgdGhlIFNESyByZWNlaXZpbmcgbWVzc2FnZXMgaXQncyBsaWtlbHkgaXQgd29uJ3QgcmVnaXN0ZXIgaGFuZGxlcnNcclxuXHQgICAgICAgICAgICAgICAgICogZm9yIGFsbCBldmVudHMuIFBlcmhhcHMgbWFrZSB0aGlzIGFuIG9wdGlvbiBhdCBjb25zdHJ1Y3Rpb24gdGltZS5cclxuXHQgICAgICAgICAgICAgICAgICovXHJcblx0ICAgICAgICAgICAgICAgIGlmICghaGFuZGxlZCkge1xyXG5cdCAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUHJveHkoXCIgKyB0aGlzLm5hbWUgKyBcIikgZGlkIG5vdCBoYW5kbGUgbWVzc2FnZS4gSGFuZGxlcnM6IFwiICsgdGhpcy5oYW5kbGVycy5sZW5ndGggKyBcIiAgTWVzc2FnZTogXCIgKyBKU09OLnN0cmluZ2lmeShtZXNzYWdlLCBudWxsLCAnJykgKyBcIi5cIik7XHJcblx0ICAgICAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgZWxzZSB7XHJcblx0ICAgICAgICAgICAgICAgIC8qKlxyXG5cdCAgICAgICAgICAgICAgICAgKiBJZiBlcnJvciBtZXNzYWdlIHJlamVjdCBwcm9taXNlLFxyXG5cdCAgICAgICAgICAgICAgICAgKiBPdGhlcndpc2UsIHJlc29sdmUgcHJvbWlzZVxyXG5cdCAgICAgICAgICAgICAgICAgKi9cclxuXHQgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNFcnJvck1lc3NhZ2UobWVzc2FnZSkpIHtcclxuXHQgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChtZXNzYWdlKTtcclxuXHQgICAgICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgICAgICBlbHNlIHtcclxuXHQgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUobWVzc2FnZSk7XHJcblx0ICAgICAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICAgICAgLy8gVE9ETzogTW92ZSB0byAuZmluYWxseSBjbGF1c2UgdXAgd2hlcmUgcHJvbWlzZSBpcyBjcmVhdGVkIGZvciBiZXR0ZXIgbWFpdGVuYW5jZSBsaWtlIG9yaWdpbmFsIHByb3h5IGNvZGUuXHJcblx0ICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBlbmRpbmdSZXF1ZXN0UHJvbWlzZXNbdHJhY2tpbmdQcm9wZXJ0aWVzLmlkXTtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgLyoqXHJcblx0ICAgICAgICAgKiBVdGlsaXR5IHRvIGNyZWF0ZSBhIGRlZmVycmVkIG9iamVjdC5cclxuXHQgICAgICAgICAqL1xyXG5cdCAgICAgICAgLy8gVE9ETzogTG9vayB0byB1c2UgUlNWUCBsaWJyYXJ5IGluc3RlYWQgb2YgZG9pbmcgdGhpcyBtYW51YWxseS5cclxuXHQgICAgICAgIC8vIEZyb20gd2hhdCBJIHNlYXJjaGVkIFJTVlAgd291bGQgd29yayBiZXR0ZXIgYmVjYXVzZSBpdCBoYXMgLmZpbmFsbHkgYW5kIC5kZWZlcnJlZDsgaG93ZXZlciwgaXQgZG9lc24ndCBoYXZlIFR5cGluZ3MgaW5mb3JtYXRpb24uIFxyXG5cdCAgICAgICAgV2luZG93UG9zdE1lc3NhZ2VQcm94eS5jcmVhdGVEZWZlcnJlZCA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSB7XHJcblx0ICAgICAgICAgICAgICAgIHJlc29sdmU6IG51bGwsXHJcblx0ICAgICAgICAgICAgICAgIHJlamVjdDogbnVsbCxcclxuXHQgICAgICAgICAgICAgICAgcHJvbWlzZTogbnVsbFxyXG5cdCAgICAgICAgICAgIH07XHJcblx0ICAgICAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcblx0ICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUgPSByZXNvbHZlO1xyXG5cdCAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QgPSByZWplY3Q7XHJcblx0ICAgICAgICAgICAgfSk7XHJcblx0ICAgICAgICAgICAgZGVmZXJyZWQucHJvbWlzZSA9IHByb21pc2U7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkO1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIC8qKlxyXG5cdCAgICAgICAgICogVXRpbGl0eSB0byBnZW5lcmF0ZSByYW5kb20gc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyB1c2VkIGFzIHRyYWNraW5nIGlkIGZvciBwcm9taXNlcy5cclxuXHQgICAgICAgICAqL1xyXG5cdCAgICAgICAgV2luZG93UG9zdE1lc3NhZ2VQcm94eS5jcmVhdGVSYW5kb21TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIChNYXRoLnJhbmRvbSgpICsgMSkudG9TdHJpbmcoMzYpLnN1YnN0cmluZyg3KTtcclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgICBXaW5kb3dQb3N0TWVzc2FnZVByb3h5Lm1lc3NhZ2VQcm9wZXJ0eU5hbWUgPSBcIndpbmRvd1Bvc3RNZXNzYWdlUHJveHlcIjtcclxuXHQgICAgICAgIHJldHVybiBXaW5kb3dQb3N0TWVzc2FnZVByb3h5O1xyXG5cdCAgICB9KCkpO1xyXG5cdCAgICBleHBvcnRzLldpbmRvd1Bvc3RNZXNzYWdlUHJveHkgPSBXaW5kb3dQb3N0TWVzc2FnZVByb3h5O1xyXG5cdH0pO1xyXG5cdC8vIyBzb3VyY2VNYXBwaW5nVVJMPXdpbmRvd1Bvc3RNZXNzYWdlUHJveHkuanMubWFwXG5cbi8qKiovIH0sXG4vKiAxOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIG1hcCA9IHtcblx0XHRcIi4vd2luZG93UG9zdE1lc3NhZ2VQcm94eVwiOiAxNyxcblx0XHRcIi4vd2luZG93UG9zdE1lc3NhZ2VQcm94eS5kXCI6IDE5LFxuXHRcdFwiLi93aW5kb3dQb3N0TWVzc2FnZVByb3h5LmQudHNcIjogMTksXG5cdFx0XCIuL3dpbmRvd1Bvc3RNZXNzYWdlUHJveHkuanNcIjogMTcsXG5cdFx0XCIuL3dpbmRvd1Bvc3RNZXNzYWdlUHJveHkuanMubWFwXCI6IDIwXG5cdH07XG5cdGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpKTtcblx0fTtcblx0ZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRcdHJldHVybiBtYXBbcmVxXSB8fCAoZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIicuXCIpIH0oKSk7XG5cdH07XG5cdHdlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdFx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG5cdH07XG5cdHdlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5cdG1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG5cdHdlYnBhY2tDb250ZXh0LmlkID0gMTg7XG5cblxuLyoqKi8gfSxcbi8qIDE5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXG5cbi8qKiovIH0sXG4vKiAyMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblxuXG4vKioqLyB9LFxuLyogMjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOyhmdW5jdGlvbiAoZmFjdG9yeSkge1xyXG5cdCAgICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0Jykge1xyXG5cdCAgICAgICAgdmFyIHYgPSBmYWN0b3J5KF9fd2VicGFja19yZXF1aXJlX18oMjIpLCBleHBvcnRzKTsgaWYgKHYgIT09IHVuZGVmaW5lZCkgbW9kdWxlLmV4cG9ydHMgPSB2O1xyXG5cdCAgICB9XHJcblx0ICAgIGVsc2UgaWYgKHRydWUpIHtcclxuXHQgICAgICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtfX3dlYnBhY2tfcmVxdWlyZV9fLCBleHBvcnRzXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XHJcblx0ICAgIH1cclxuXHR9KShmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cykge1xyXG5cdCAgICBcInVzZSBzdHJpY3RcIjtcclxuXHQgICAgdmFyIEh0dHBQb3N0TWVzc2FnZSA9IChmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICBmdW5jdGlvbiBIdHRwUG9zdE1lc3NhZ2Uod2luZG93UG9zdE1lc3NhZ2VQcm94eSwgZGVmYXVsdEhlYWRlcnMpIHtcclxuXHQgICAgICAgICAgICBpZiAoZGVmYXVsdEhlYWRlcnMgPT09IHZvaWQgMCkgeyBkZWZhdWx0SGVhZGVycyA9IHt9OyB9XHJcblx0ICAgICAgICAgICAgdGhpcy5kZWZhdWx0SGVhZGVycyA9IGRlZmF1bHRIZWFkZXJzO1xyXG5cdCAgICAgICAgICAgIHRoaXMud2luZG93UG9zdE1lc3NhZ2VQcm94eSA9IHdpbmRvd1Bvc3RNZXNzYWdlUHJveHk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICAvLyBUT0RPOiBJIHRoZSByZXNwb25zaWJpbGl0eSBvZiBrbm93aW5nIGhvdyB0byBjb25maWd1cmUgd2luZG93UG9zdE1lc3NhZ2VQcm94eSBzaG91bGRcclxuXHQgICAgICAgIC8vIGxpdmUgaW4gdGhpcyBjbGFzcywgYnV0IHRoZW4gd2UgaGF2ZSB0byBoYXZlIGhhcmQgZGVwZW5kZW5jeSBmb3IgdGhpbmdzIGxpa2UgSVRyYWNraW5nUHJvcGVydGllc1xyXG5cdCAgICAgICAgSHR0cFBvc3RNZXNzYWdlLmFkZFRyYWNraW5nUHJvcGVydGllcyA9IGZ1bmN0aW9uIChtZXNzYWdlLCB0cmFja2luZ1Byb3BlcnRpZXMpIHtcclxuXHQgICAgICAgICAgICBtZXNzYWdlLmhlYWRlcnMgPSBtZXNzYWdlLmhlYWRlcnMgfHwge307XHJcblx0ICAgICAgICAgICAgbWVzc2FnZS5oZWFkZXJzLmlkID0gdHJhY2tpbmdQcm9wZXJ0aWVzLmlkO1xyXG5cdCAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIEh0dHBQb3N0TWVzc2FnZS5nZXRUcmFja2luZ1Byb3BlcnRpZXMgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG5cdCAgICAgICAgICAgIHJldHVybiB7XHJcblx0ICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmhlYWRlcnMuaWRcclxuXHQgICAgICAgICAgICB9O1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIEh0dHBQb3N0TWVzc2FnZS5pc0Vycm9yTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuICEoMjAwIDw9IG1lc3NhZ2Uuc3RhdHVzQ29kZSAmJiBtZXNzYWdlLnN0YXR1c0NvZGUgPCAzMDApO1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIEh0dHBQb3N0TWVzc2FnZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHVybCwgaGVhZGVycykge1xyXG5cdCAgICAgICAgICAgIGlmIChoZWFkZXJzID09PSB2b2lkIDApIHsgaGVhZGVycyA9IHt9OyB9XHJcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VuZCh7XHJcblx0ICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuXHQgICAgICAgICAgICAgICAgdXJsOiB1cmwsXHJcblx0ICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNcclxuXHQgICAgICAgICAgICB9KTtcclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgICBIdHRwUG9zdE1lc3NhZ2UucHJvdG90eXBlLnBvc3QgPSBmdW5jdGlvbiAodXJsLCBib2R5LCBoZWFkZXJzKSB7XHJcblx0ICAgICAgICAgICAgaWYgKGhlYWRlcnMgPT09IHZvaWQgMCkgeyBoZWFkZXJzID0ge307IH1cclxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kKHtcclxuXHQgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuXHQgICAgICAgICAgICAgICAgdXJsOiB1cmwsXHJcblx0ICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXHJcblx0ICAgICAgICAgICAgICAgIGJvZHk6IGJvZHlcclxuXHQgICAgICAgICAgICB9KTtcclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgICBIdHRwUG9zdE1lc3NhZ2UucHJvdG90eXBlLnB1dCA9IGZ1bmN0aW9uICh1cmwsIGJvZHksIGhlYWRlcnMpIHtcclxuXHQgICAgICAgICAgICBpZiAoaGVhZGVycyA9PT0gdm9pZCAwKSB7IGhlYWRlcnMgPSB7fTsgfVxyXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmQoe1xyXG5cdCAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcblx0ICAgICAgICAgICAgICAgIHVybDogdXJsLFxyXG5cdCAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxyXG5cdCAgICAgICAgICAgICAgICBib2R5OiBib2R5XHJcblx0ICAgICAgICAgICAgfSk7XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgSHR0cFBvc3RNZXNzYWdlLnByb3RvdHlwZS5wYXRjaCA9IGZ1bmN0aW9uICh1cmwsIGJvZHksIGhlYWRlcnMpIHtcclxuXHQgICAgICAgICAgICBpZiAoaGVhZGVycyA9PT0gdm9pZCAwKSB7IGhlYWRlcnMgPSB7fTsgfVxyXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmQoe1xyXG5cdCAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuXHQgICAgICAgICAgICAgICAgdXJsOiB1cmwsXHJcblx0ICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXHJcblx0ICAgICAgICAgICAgICAgIGJvZHk6IGJvZHlcclxuXHQgICAgICAgICAgICB9KTtcclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgICBIdHRwUG9zdE1lc3NhZ2UucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICh1cmwsIGJvZHksIGhlYWRlcnMpIHtcclxuXHQgICAgICAgICAgICBpZiAoaGVhZGVycyA9PT0gdm9pZCAwKSB7IGhlYWRlcnMgPSB7fTsgfVxyXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmQoe1xyXG5cdCAgICAgICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcblx0ICAgICAgICAgICAgICAgIHVybDogdXJsLFxyXG5cdCAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxyXG5cdCAgICAgICAgICAgICAgICBib2R5OiBib2R5XHJcblx0ICAgICAgICAgICAgfSk7XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgSHR0cFBvc3RNZXNzYWdlLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuXHQgICAgICAgICAgICB0aGlzLmFzc2lnbihyZXF1ZXN0LmhlYWRlcnMsIHRoaXMuZGVmYXVsdEhlYWRlcnMpO1xyXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLndpbmRvd1Bvc3RNZXNzYWdlUHJveHkucG9zdE1lc3NhZ2UocmVxdWVzdCk7XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgLyoqXHJcblx0ICAgICAgICAgKiBPYmplY3QuYXNzaWduKCkgcG9seWZpbGxcclxuXHQgICAgICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ25cclxuXHQgICAgICAgICAqL1xyXG5cdCAgICAgICAgSHR0cFBvc3RNZXNzYWdlLnByb3RvdHlwZS5hc3NpZ24gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcblx0ICAgICAgICAgICAgdmFyIHNvdXJjZXMgPSBbXTtcclxuXHQgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG5cdCAgICAgICAgICAgICAgICBzb3VyY2VzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0ID09PSBudWxsKSB7XHJcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICB2YXIgb3V0cHV0ID0gT2JqZWN0KHRhcmdldCk7XHJcblx0ICAgICAgICAgICAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2UpIHtcclxuXHQgICAgICAgICAgICAgICAgaWYgKHNvdXJjZSAhPT0gdW5kZWZpbmVkICYmIHNvdXJjZSAhPT0gbnVsbCkge1xyXG5cdCAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbmV4dEtleSBpbiBzb3VyY2UpIHtcclxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwgbmV4dEtleSkpIHtcclxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W25leHRLZXldID0gc291cmNlW25leHRLZXldO1xyXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIH0pO1xyXG5cdCAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgcmV0dXJuIEh0dHBQb3N0TWVzc2FnZTtcclxuXHQgICAgfSgpKTtcclxuXHQgICAgZXhwb3J0cy5IdHRwUG9zdE1lc3NhZ2UgPSBIdHRwUG9zdE1lc3NhZ2U7XHJcblx0fSk7XHJcblx0Ly8jIHNvdXJjZU1hcHBpbmdVUkw9aHR0cFBvc3RNZXNzYWdlLmpzLm1hcFxuXG4vKioqLyB9LFxuLyogMjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBtYXAgPSB7XG5cdFx0XCIuL2h0dHBQb3N0TWVzc2FnZVwiOiAyMSxcblx0XHRcIi4vaHR0cFBvc3RNZXNzYWdlLmRcIjogMjMsXG5cdFx0XCIuL2h0dHBQb3N0TWVzc2FnZS5kLnRzXCI6IDIzLFxuXHRcdFwiLi9odHRwUG9zdE1lc3NhZ2UuanNcIjogMjEsXG5cdFx0XCIuL2h0dHBQb3N0TWVzc2FnZS5qcy5tYXBcIjogMjRcblx0fTtcblx0ZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18od2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkpO1xuXHR9O1xuXHRmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdFx0cmV0dXJuIG1hcFtyZXFdIHx8IChmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJy5cIikgfSgpKTtcblx0fTtcblx0d2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0XHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcblx0fTtcblx0d2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcblx0bW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcblx0d2VicGFja0NvbnRleHQuaWQgPSAyMjtcblxuXG4vKioqLyB9LFxuLyogMjMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cblxuLyoqKi8gfSxcbi8qIDI0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXG5cbi8qKiovIH0sXG4vKiAyNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0KGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0XHRpZih0cnVlKVxuXHRcdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdFx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRcdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdFx0ZXhwb3J0c1tcInBvd2VyYmktcm91dGVyXCJdID0gZmFjdG9yeSgpO1xuXHRcdGVsc2Vcblx0XHRcdHJvb3RbXCJwb3dlcmJpLXJvdXRlclwiXSA9IGZhY3RvcnkoKTtcblx0fSkodGhpcywgZnVuY3Rpb24oKSB7XG5cdHJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG5cdC8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuXHQvKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cblx0LyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0LyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuXHQvKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdC8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG5cdC8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuXHQvKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG5cdC8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcblx0LyoqKioqKi8gXHRcdH07XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0LyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHQvKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHQvKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuXHQvKioqKioqLyBcdH1cblx0LyoqKioqKi9cblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuXHQvKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcblx0LyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG5cdC8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcblx0LyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblx0LyoqKioqKi8gfSlcblx0LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblx0LyoqKioqKi8gKFtcblx0LyogMCAqL1xuXHQvKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblx0XG5cdFx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0XHR2YXIgUm91dGVSZWNvZ25pemVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcclxuXHRcdHZhciBSb3V0ZXIgPSAoZnVuY3Rpb24gKCkge1xyXG5cdFx0ICAgIGZ1bmN0aW9uIFJvdXRlcihoYW5kbGVycykge1xyXG5cdFx0ICAgICAgICB0aGlzLmhhbmRsZXJzID0gaGFuZGxlcnM7XHJcblx0XHQgICAgICAgIC8qKlxyXG5cdFx0ICAgICAgICAgKiBUT0RPOiBsb29rIGF0IGdlbmVyYXRpbmcgdGhlIHJvdXRlciBkeW5hbWljYWxseSBiYXNlZCBvbiBsaXN0IG9mIHN1cHBvcnRlZCBodHRwIG1ldGhvZHNcclxuXHRcdCAgICAgICAgICogaW5zdGVhZCBvZiBoYXJkY29kaW5nIHRoZSBjcmVhdGlvbiBvZiB0aGVzZSBhbmQgdGhlIG1ldGhvZHMuXHJcblx0XHQgICAgICAgICAqL1xyXG5cdFx0ICAgICAgICB0aGlzLmdldFJvdXRlUmVjb2duaXplciA9IG5ldyBSb3V0ZVJlY29nbml6ZXIoKTtcclxuXHRcdCAgICAgICAgdGhpcy5wYXRjaFJvdXRlUmVjb2duaXplciA9IG5ldyBSb3V0ZVJlY29nbml6ZXIoKTtcclxuXHRcdCAgICAgICAgdGhpcy5wb3N0Um91dGVSZWNvZ25pemVyID0gbmV3IFJvdXRlUmVjb2duaXplcigpO1xyXG5cdFx0ICAgICAgICB0aGlzLnB1dFJvdXRlUmVjb2duaXplciA9IG5ldyBSb3V0ZVJlY29nbml6ZXIoKTtcclxuXHRcdCAgICAgICAgdGhpcy5kZWxldGVSb3V0ZVJlY29nbml6ZXIgPSBuZXcgUm91dGVSZWNvZ25pemVyKCk7XHJcblx0XHQgICAgfVxyXG5cdFx0ICAgIFJvdXRlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHVybCwgaGFuZGxlcikge1xyXG5cdFx0ICAgICAgICB0aGlzLnJlZ2lzdGVySGFuZGxlcih0aGlzLmdldFJvdXRlUmVjb2duaXplciwgXCJHRVRcIiwgdXJsLCBoYW5kbGVyKTtcclxuXHRcdCAgICAgICAgcmV0dXJuIHRoaXM7XHJcblx0XHQgICAgfTtcclxuXHRcdCAgICBSb3V0ZXIucHJvdG90eXBlLnBhdGNoID0gZnVuY3Rpb24gKHVybCwgaGFuZGxlcikge1xyXG5cdFx0ICAgICAgICB0aGlzLnJlZ2lzdGVySGFuZGxlcih0aGlzLnBhdGNoUm91dGVSZWNvZ25pemVyLCBcIlBBVENIXCIsIHVybCwgaGFuZGxlcik7XHJcblx0XHQgICAgICAgIHJldHVybiB0aGlzO1xyXG5cdFx0ICAgIH07XHJcblx0XHQgICAgUm91dGVyLnByb3RvdHlwZS5wb3N0ID0gZnVuY3Rpb24gKHVybCwgaGFuZGxlcikge1xyXG5cdFx0ICAgICAgICB0aGlzLnJlZ2lzdGVySGFuZGxlcih0aGlzLnBvc3RSb3V0ZVJlY29nbml6ZXIsIFwiUE9TVFwiLCB1cmwsIGhhbmRsZXIpO1xyXG5cdFx0ICAgICAgICByZXR1cm4gdGhpcztcclxuXHRcdCAgICB9O1xyXG5cdFx0ICAgIFJvdXRlci5wcm90b3R5cGUucHV0ID0gZnVuY3Rpb24gKHVybCwgaGFuZGxlcikge1xyXG5cdFx0ICAgICAgICB0aGlzLnJlZ2lzdGVySGFuZGxlcih0aGlzLnB1dFJvdXRlUmVjb2duaXplciwgXCJQVVRcIiwgdXJsLCBoYW5kbGVyKTtcclxuXHRcdCAgICAgICAgcmV0dXJuIHRoaXM7XHJcblx0XHQgICAgfTtcclxuXHRcdCAgICBSb3V0ZXIucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICh1cmwsIGhhbmRsZXIpIHtcclxuXHRcdCAgICAgICAgdGhpcy5yZWdpc3RlckhhbmRsZXIodGhpcy5kZWxldGVSb3V0ZVJlY29nbml6ZXIsIFwiREVMRVRFXCIsIHVybCwgaGFuZGxlcik7XHJcblx0XHQgICAgICAgIHJldHVybiB0aGlzO1xyXG5cdFx0ICAgIH07XHJcblx0XHQgICAgLyoqXHJcblx0XHQgICAgICogVE9ETzogVGhpcyBtZXRob2QgY291bGQgdXNlIHNvbWUgcmVmYWN0b3JpbmcuICBUaGVyZSBpcyBjb25mbGljdCBvZiBpbnRlcmVzdCBiZXR3ZWVuIGtlZXBpbmcgY2xlYW4gc2VwYXJhdGlvbiBvZiB0ZXN0IGFuZCBoYW5kbGUgbWV0aG9kXHJcblx0XHQgICAgICogVGVzdCBtZXRob2Qgb25seSByZXR1cm5zIGJvb2xlYW4gaW5kaWNhdGluZyBpZiByZXF1ZXN0IGNhbiBiZSBoYW5kbGVkLCBhbmQgaGFuZGxlIG1ldGhvZCBoYXMgb3Bwb3J0dW5pdHkgdG8gbW9kaWZ5IHJlc3BvbnNlIGFuZCByZXR1cm4gcHJvbWlzZSBvZiBpdC5cclxuXHRcdCAgICAgKiBJbiB0aGUgY2FzZSBvZiB0aGUgcm91dGVyIHdpdGggcm91dGUtcmVjb2duaXplciB3aGVyZSBoYW5kbGVycyBhcmUgYXNzb2NpYXRlZCB3aXRoIHJvdXRlcywgdGhpcyBhbHJlYWR5IGd1YXJhbnRlZXMgdGhhdCBvbmx5IG9uZSBoYW5kbGVyIGlzIHNlbGVjdGVkIGFuZCBtYWtlcyB0aGUgdGVzdCBtZXRob2QgZmVlbCBjb21wbGljYXRlZFxyXG5cdFx0ICAgICAqIFdpbGwgbGVhdmUgYXMgaXMgYW4gaW52ZXN0aWdhdGUgY2xlYW5lciB3YXlzIGF0IGxhdGVyIHRpbWUuXHJcblx0XHQgICAgICovXHJcblx0XHQgICAgUm91dGVyLnByb3RvdHlwZS5yZWdpc3RlckhhbmRsZXIgPSBmdW5jdGlvbiAocm91dGVSZWNvZ25pemVyLCBtZXRob2QsIHVybCwgaGFuZGxlcikge1xyXG5cdFx0ICAgICAgICB2YXIgcm91dGVSZWNvZ25pemVySGFuZGxlciA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcblx0XHQgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoKTtcclxuXHRcdCAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaGFuZGxlcihyZXF1ZXN0LCByZXNwb25zZSkpXHJcblx0XHQgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHJlc3BvbnNlOyB9KTtcclxuXHRcdCAgICAgICAgfTtcclxuXHRcdCAgICAgICAgcm91dGVSZWNvZ25pemVyLmFkZChbXHJcblx0XHQgICAgICAgICAgICB7IHBhdGg6IHVybCwgaGFuZGxlcjogcm91dGVSZWNvZ25pemVySGFuZGxlciB9XHJcblx0XHQgICAgICAgIF0pO1xyXG5cdFx0ICAgICAgICB2YXIgaW50ZXJuYWxIYW5kbGVyID0ge1xyXG5cdFx0ICAgICAgICAgICAgdGVzdDogZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuXHRcdCAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5tZXRob2QgIT09IG1ldGhvZCkge1xyXG5cdFx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblx0XHQgICAgICAgICAgICAgICAgfVxyXG5cdFx0ICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZ1JvdXRlcyA9IHJvdXRlUmVjb2duaXplci5yZWNvZ25pemUocmVxdWVzdC51cmwpO1xyXG5cdFx0ICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ1JvdXRlcyA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHRcdCAgICAgICAgICAgICAgICB9XHJcblx0XHQgICAgICAgICAgICAgICAgLyoqXHJcblx0XHQgICAgICAgICAgICAgICAgICogQ29weSBwYXJhbWV0ZXJzIGZyb20gcmVjb2duaXplZCByb3V0ZSB0byB0aGUgcmVxdWVzdCBzbyB0aGV5IGNhbiBiZSB1c2VkIHdpdGhpbiB0aGUgaGFuZGxlciBmdW5jdGlvblxyXG5cdFx0ICAgICAgICAgICAgICAgICAqIFRoaXMgaXNuJ3QgaWRlYWwgYmVjYXVzZSBpdCBpcyBzaWRlIGFmZmVjdCB3aGljaCBtb2RpZmllcyB0aGUgcmVxdWVzdCBpbnN0ZWFkIG9mIHN0cmljdGx5IHRlc3RpbmcgZm9yIHRydWUgb3IgZmFsc2VcclxuXHRcdCAgICAgICAgICAgICAgICAgKiBidXQgSSBkb24ndCBzZWUgYSBiZXR0ZXIgcGxhY2UgdG8gcHV0IHRoaXMuICBJZiB3ZSBtb3ZlIGl0IGJldHdlZW4gdGhlIGNhbGwgdG8gdGVzdCBhbmQgdGhlIGhhbmRsZSBpdCBiZWNvbWVzIHBhcnQgb2YgdGhlIHdpbmRvdyBwb3N0IG1lc3NhZ2UgcHJveHlcclxuXHRcdCAgICAgICAgICAgICAgICAgKiBldmVuIHRob3VnaCBpdCdzIHJlc3BvbnNpYmlsaXR5IGlzIHJlbGF0ZWQgdG8gcm91dGluZy5cclxuXHRcdCAgICAgICAgICAgICAgICAgKi9cclxuXHRcdCAgICAgICAgICAgICAgICB2YXIgcm91dGUgPSBtYXRjaGluZ1JvdXRlc1swXTtcclxuXHRcdCAgICAgICAgICAgICAgICByZXF1ZXN0LnBhcmFtcyA9IHJvdXRlLnBhcmFtcztcclxuXHRcdCAgICAgICAgICAgICAgICByZXF1ZXN0LnF1ZXJ5UGFyYW1zID0gbWF0Y2hpbmdSb3V0ZXMucXVlcnlQYXJhbXM7XHJcblx0XHQgICAgICAgICAgICAgICAgcmVxdWVzdC5oYW5kbGVyID0gcm91dGUuaGFuZGxlcjtcclxuXHRcdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHRcdCAgICAgICAgICAgIH0sXHJcblx0XHQgICAgICAgICAgICBoYW5kbGU6IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcblx0XHQgICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QuaGFuZGxlcihyZXF1ZXN0KTtcclxuXHRcdCAgICAgICAgICAgIH1cclxuXHRcdCAgICAgICAgfTtcclxuXHRcdCAgICAgICAgdGhpcy5oYW5kbGVycy5hZGRIYW5kbGVyKGludGVybmFsSGFuZGxlcik7XHJcblx0XHQgICAgfTtcclxuXHRcdCAgICByZXR1cm4gUm91dGVyO1xyXG5cdFx0fSgpKTtcclxuXHRcdGV4cG9ydHMuUm91dGVyID0gUm91dGVyO1xyXG5cdFx0dmFyIFJlc3BvbnNlID0gKGZ1bmN0aW9uICgpIHtcclxuXHRcdCAgICBmdW5jdGlvbiBSZXNwb25zZSgpIHtcclxuXHRcdCAgICAgICAgdGhpcy5zdGF0dXNDb2RlID0gMjAwO1xyXG5cdFx0ICAgICAgICB0aGlzLmhlYWRlcnMgPSB7fTtcclxuXHRcdCAgICAgICAgdGhpcy5ib2R5ID0gbnVsbDtcclxuXHRcdCAgICB9XHJcblx0XHQgICAgUmVzcG9uc2UucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAoc3RhdHVzQ29kZSwgYm9keSkge1xyXG5cdFx0ICAgICAgICB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xyXG5cdFx0ICAgICAgICB0aGlzLmJvZHkgPSBib2R5O1xyXG5cdFx0ICAgIH07XHJcblx0XHQgICAgcmV0dXJuIFJlc3BvbnNlO1xyXG5cdFx0fSgpKTtcclxuXHRcdGV4cG9ydHMuUmVzcG9uc2UgPSBSZXNwb25zZTtcclxuXHRcblx0XG5cdC8qKiovIH0sXG5cdC8qIDEgKi9cblx0LyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cdFxuXHRcdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24obW9kdWxlKSB7KGZ1bmN0aW9uKCkge1xuXHRcdCAgICBcInVzZSBzdHJpY3RcIjtcblx0XHQgICAgZnVuY3Rpb24gJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkVGFyZ2V0KHBhdGgsIG1hdGNoZXIsIGRlbGVnYXRlKSB7XG5cdFx0ICAgICAgdGhpcy5wYXRoID0gcGF0aDtcblx0XHQgICAgICB0aGlzLm1hdGNoZXIgPSBtYXRjaGVyO1xuXHRcdCAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcblx0XHQgICAgfVxuXHRcdFxuXHRcdCAgICAkJHJvdXRlJHJlY29nbml6ZXIkZHNsJCRUYXJnZXQucHJvdG90eXBlID0ge1xuXHRcdCAgICAgIHRvOiBmdW5jdGlvbih0YXJnZXQsIGNhbGxiYWNrKSB7XG5cdFx0ICAgICAgICB2YXIgZGVsZWdhdGUgPSB0aGlzLmRlbGVnYXRlO1xuXHRcdFxuXHRcdCAgICAgICAgaWYgKGRlbGVnYXRlICYmIGRlbGVnYXRlLndpbGxBZGRSb3V0ZSkge1xuXHRcdCAgICAgICAgICB0YXJnZXQgPSBkZWxlZ2F0ZS53aWxsQWRkUm91dGUodGhpcy5tYXRjaGVyLnRhcmdldCwgdGFyZ2V0KTtcblx0XHQgICAgICAgIH1cblx0XHRcblx0XHQgICAgICAgIHRoaXMubWF0Y2hlci5hZGQodGhpcy5wYXRoLCB0YXJnZXQpO1xuXHRcdFxuXHRcdCAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG5cdFx0ICAgICAgICAgIGlmIChjYWxsYmFjay5sZW5ndGggPT09IDApIHsgdGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3QgaGF2ZSBhbiBhcmd1bWVudCBpbiB0aGUgZnVuY3Rpb24gcGFzc2VkIHRvIGB0b2BcIik7IH1cblx0XHQgICAgICAgICAgdGhpcy5tYXRjaGVyLmFkZENoaWxkKHRoaXMucGF0aCwgdGFyZ2V0LCBjYWxsYmFjaywgdGhpcy5kZWxlZ2F0ZSk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgICByZXR1cm4gdGhpcztcblx0XHQgICAgICB9XG5cdFx0ICAgIH07XG5cdFx0XG5cdFx0ICAgIGZ1bmN0aW9uICQkcm91dGUkcmVjb2duaXplciRkc2wkJE1hdGNoZXIodGFyZ2V0KSB7XG5cdFx0ICAgICAgdGhpcy5yb3V0ZXMgPSB7fTtcblx0XHQgICAgICB0aGlzLmNoaWxkcmVuID0ge307XG5cdFx0ICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG5cdFx0ICAgIH1cblx0XHRcblx0XHQgICAgJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkTWF0Y2hlci5wcm90b3R5cGUgPSB7XG5cdFx0ICAgICAgYWRkOiBmdW5jdGlvbihwYXRoLCBoYW5kbGVyKSB7XG5cdFx0ICAgICAgICB0aGlzLnJvdXRlc1twYXRoXSA9IGhhbmRsZXI7XG5cdFx0ICAgICAgfSxcblx0XHRcblx0XHQgICAgICBhZGRDaGlsZDogZnVuY3Rpb24ocGF0aCwgdGFyZ2V0LCBjYWxsYmFjaywgZGVsZWdhdGUpIHtcblx0XHQgICAgICAgIHZhciBtYXRjaGVyID0gbmV3ICQkcm91dGUkcmVjb2duaXplciRkc2wkJE1hdGNoZXIodGFyZ2V0KTtcblx0XHQgICAgICAgIHRoaXMuY2hpbGRyZW5bcGF0aF0gPSBtYXRjaGVyO1xuXHRcdFxuXHRcdCAgICAgICAgdmFyIG1hdGNoID0gJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkZ2VuZXJhdGVNYXRjaChwYXRoLCBtYXRjaGVyLCBkZWxlZ2F0ZSk7XG5cdFx0XG5cdFx0ICAgICAgICBpZiAoZGVsZWdhdGUgJiYgZGVsZWdhdGUuY29udGV4dEVudGVyZWQpIHtcblx0XHQgICAgICAgICAgZGVsZWdhdGUuY29udGV4dEVudGVyZWQodGFyZ2V0LCBtYXRjaCk7XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICBjYWxsYmFjayhtYXRjaCk7XG5cdFx0ICAgICAgfVxuXHRcdCAgICB9O1xuXHRcdFxuXHRcdCAgICBmdW5jdGlvbiAkJHJvdXRlJHJlY29nbml6ZXIkZHNsJCRnZW5lcmF0ZU1hdGNoKHN0YXJ0aW5nUGF0aCwgbWF0Y2hlciwgZGVsZWdhdGUpIHtcblx0XHQgICAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCwgbmVzdGVkQ2FsbGJhY2spIHtcblx0XHQgICAgICAgIHZhciBmdWxsUGF0aCA9IHN0YXJ0aW5nUGF0aCArIHBhdGg7XG5cdFx0XG5cdFx0ICAgICAgICBpZiAobmVzdGVkQ2FsbGJhY2spIHtcblx0XHQgICAgICAgICAgbmVzdGVkQ2FsbGJhY2soJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkZ2VuZXJhdGVNYXRjaChmdWxsUGF0aCwgbWF0Y2hlciwgZGVsZWdhdGUpKTtcblx0XHQgICAgICAgIH0gZWxzZSB7XG5cdFx0ICAgICAgICAgIHJldHVybiBuZXcgJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkVGFyZ2V0KHN0YXJ0aW5nUGF0aCArIHBhdGgsIG1hdGNoZXIsIGRlbGVnYXRlKTtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9O1xuXHRcdCAgICB9XG5cdFx0XG5cdFx0ICAgIGZ1bmN0aW9uICQkcm91dGUkcmVjb2duaXplciRkc2wkJGFkZFJvdXRlKHJvdXRlQXJyYXksIHBhdGgsIGhhbmRsZXIpIHtcblx0XHQgICAgICB2YXIgbGVuID0gMDtcblx0XHQgICAgICBmb3IgKHZhciBpPTA7IGk8cm91dGVBcnJheS5sZW5ndGg7IGkrKykge1xuXHRcdCAgICAgICAgbGVuICs9IHJvdXRlQXJyYXlbaV0ucGF0aC5sZW5ndGg7XG5cdFx0ICAgICAgfVxuXHRcdFxuXHRcdCAgICAgIHBhdGggPSBwYXRoLnN1YnN0cihsZW4pO1xuXHRcdCAgICAgIHZhciByb3V0ZSA9IHsgcGF0aDogcGF0aCwgaGFuZGxlcjogaGFuZGxlciB9O1xuXHRcdCAgICAgIHJvdXRlQXJyYXkucHVzaChyb3V0ZSk7XG5cdFx0ICAgIH1cblx0XHRcblx0XHQgICAgZnVuY3Rpb24gJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkZWFjaFJvdXRlKGJhc2VSb3V0ZSwgbWF0Y2hlciwgY2FsbGJhY2ssIGJpbmRpbmcpIHtcblx0XHQgICAgICB2YXIgcm91dGVzID0gbWF0Y2hlci5yb3V0ZXM7XG5cdFx0XG5cdFx0ICAgICAgZm9yICh2YXIgcGF0aCBpbiByb3V0ZXMpIHtcblx0XHQgICAgICAgIGlmIChyb3V0ZXMuaGFzT3duUHJvcGVydHkocGF0aCkpIHtcblx0XHQgICAgICAgICAgdmFyIHJvdXRlQXJyYXkgPSBiYXNlUm91dGUuc2xpY2UoKTtcblx0XHQgICAgICAgICAgJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkYWRkUm91dGUocm91dGVBcnJheSwgcGF0aCwgcm91dGVzW3BhdGhdKTtcblx0XHRcblx0XHQgICAgICAgICAgaWYgKG1hdGNoZXIuY2hpbGRyZW5bcGF0aF0pIHtcblx0XHQgICAgICAgICAgICAkJHJvdXRlJHJlY29nbml6ZXIkZHNsJCRlYWNoUm91dGUocm91dGVBcnJheSwgbWF0Y2hlci5jaGlsZHJlbltwYXRoXSwgY2FsbGJhY2ssIGJpbmRpbmcpO1xuXHRcdCAgICAgICAgICB9IGVsc2Uge1xuXHRcdCAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoYmluZGluZywgcm91dGVBcnJheSk7XG5cdFx0ICAgICAgICAgIH1cblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9XG5cdFx0ICAgIH1cblx0XHRcblx0XHQgICAgdmFyICQkcm91dGUkcmVjb2duaXplciRkc2wkJGRlZmF1bHQgPSBmdW5jdGlvbihjYWxsYmFjaywgYWRkUm91dGVDYWxsYmFjaykge1xuXHRcdCAgICAgIHZhciBtYXRjaGVyID0gbmV3ICQkcm91dGUkcmVjb2duaXplciRkc2wkJE1hdGNoZXIoKTtcblx0XHRcblx0XHQgICAgICBjYWxsYmFjaygkJHJvdXRlJHJlY29nbml6ZXIkZHNsJCRnZW5lcmF0ZU1hdGNoKFwiXCIsIG1hdGNoZXIsIHRoaXMuZGVsZWdhdGUpKTtcblx0XHRcblx0XHQgICAgICAkJHJvdXRlJHJlY29nbml6ZXIkZHNsJCRlYWNoUm91dGUoW10sIG1hdGNoZXIsIGZ1bmN0aW9uKHJvdXRlKSB7XG5cdFx0ICAgICAgICBpZiAoYWRkUm91dGVDYWxsYmFjaykgeyBhZGRSb3V0ZUNhbGxiYWNrKHRoaXMsIHJvdXRlKTsgfVxuXHRcdCAgICAgICAgZWxzZSB7IHRoaXMuYWRkKHJvdXRlKTsgfVxuXHRcdCAgICAgIH0sIHRoaXMpO1xuXHRcdCAgICB9O1xuXHRcdFxuXHRcdCAgICB2YXIgJCRyb3V0ZSRyZWNvZ25pemVyJCRzcGVjaWFscyA9IFtcblx0XHQgICAgICAnLycsICcuJywgJyonLCAnKycsICc/JywgJ3wnLFxuXHRcdCAgICAgICcoJywgJyknLCAnWycsICddJywgJ3snLCAnfScsICdcXFxcJ1xuXHRcdCAgICBdO1xuXHRcdFxuXHRcdCAgICB2YXIgJCRyb3V0ZSRyZWNvZ25pemVyJCRlc2NhcGVSZWdleCA9IG5ldyBSZWdFeHAoJyhcXFxcJyArICQkcm91dGUkcmVjb2duaXplciQkc3BlY2lhbHMuam9pbignfFxcXFwnKSArICcpJywgJ2cnKTtcblx0XHRcblx0XHQgICAgZnVuY3Rpb24gJCRyb3V0ZSRyZWNvZ25pemVyJCRpc0FycmF5KHRlc3QpIHtcblx0XHQgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRlc3QpID09PSBcIltvYmplY3QgQXJyYXldXCI7XG5cdFx0ICAgIH1cblx0XHRcblx0XHQgICAgLy8gQSBTZWdtZW50IHJlcHJlc2VudHMgYSBzZWdtZW50IGluIHRoZSBvcmlnaW5hbCByb3V0ZSBkZXNjcmlwdGlvbi5cblx0XHQgICAgLy8gRWFjaCBTZWdtZW50IHR5cGUgcHJvdmlkZXMgYW4gYGVhY2hDaGFyYCBhbmQgYHJlZ2V4YCBtZXRob2QuXG5cdFx0ICAgIC8vXG5cdFx0ICAgIC8vIFRoZSBgZWFjaENoYXJgIG1ldGhvZCBpbnZva2VzIHRoZSBjYWxsYmFjayB3aXRoIG9uZSBvciBtb3JlIGNoYXJhY3RlclxuXHRcdCAgICAvLyBzcGVjaWZpY2F0aW9ucy4gQSBjaGFyYWN0ZXIgc3BlY2lmaWNhdGlvbiBjb25zdW1lcyBvbmUgb3IgbW9yZSBpbnB1dFxuXHRcdCAgICAvLyBjaGFyYWN0ZXJzLlxuXHRcdCAgICAvL1xuXHRcdCAgICAvLyBUaGUgYHJlZ2V4YCBtZXRob2QgcmV0dXJucyBhIHJlZ2V4IGZyYWdtZW50IGZvciB0aGUgc2VnbWVudC4gSWYgdGhlXG5cdFx0ICAgIC8vIHNlZ21lbnQgaXMgYSBkeW5hbWljIG9mIHN0YXIgc2VnbWVudCwgdGhlIHJlZ2V4IGZyYWdtZW50IGFsc28gaW5jbHVkZXNcblx0XHQgICAgLy8gYSBjYXB0dXJlLlxuXHRcdCAgICAvL1xuXHRcdCAgICAvLyBBIGNoYXJhY3RlciBzcGVjaWZpY2F0aW9uIGNvbnRhaW5zOlxuXHRcdCAgICAvL1xuXHRcdCAgICAvLyAqIGB2YWxpZENoYXJzYDogYSBTdHJpbmcgd2l0aCBhIGxpc3Qgb2YgYWxsIHZhbGlkIGNoYXJhY3RlcnMsIG9yXG5cdFx0ICAgIC8vICogYGludmFsaWRDaGFyc2A6IGEgU3RyaW5nIHdpdGggYSBsaXN0IG9mIGFsbCBpbnZhbGlkIGNoYXJhY3RlcnNcblx0XHQgICAgLy8gKiBgcmVwZWF0YDogdHJ1ZSBpZiB0aGUgY2hhcmFjdGVyIHNwZWNpZmljYXRpb24gY2FuIHJlcGVhdFxuXHRcdFxuXHRcdCAgICBmdW5jdGlvbiAkJHJvdXRlJHJlY29nbml6ZXIkJFN0YXRpY1NlZ21lbnQoc3RyaW5nKSB7IHRoaXMuc3RyaW5nID0gc3RyaW5nOyB9XG5cdFx0ICAgICQkcm91dGUkcmVjb2duaXplciQkU3RhdGljU2VnbWVudC5wcm90b3R5cGUgPSB7XG5cdFx0ICAgICAgZWFjaENoYXI6IGZ1bmN0aW9uKGN1cnJlbnRTdGF0ZSkge1xuXHRcdCAgICAgICAgdmFyIHN0cmluZyA9IHRoaXMuc3RyaW5nLCBjaDtcblx0XHRcblx0XHQgICAgICAgIGZvciAodmFyIGk9MDsgaTxzdHJpbmcubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgICAgICAgY2ggPSBzdHJpbmcuY2hhckF0KGkpO1xuXHRcdCAgICAgICAgICBjdXJyZW50U3RhdGUgPSBjdXJyZW50U3RhdGUucHV0KHsgaW52YWxpZENoYXJzOiB1bmRlZmluZWQsIHJlcGVhdDogZmFsc2UsIHZhbGlkQ2hhcnM6IGNoIH0pO1xuXHRcdCAgICAgICAgfVxuXHRcdFxuXHRcdCAgICAgICAgcmV0dXJuIGN1cnJlbnRTdGF0ZTtcblx0XHQgICAgICB9LFxuXHRcdFxuXHRcdCAgICAgIHJlZ2V4OiBmdW5jdGlvbigpIHtcblx0XHQgICAgICAgIHJldHVybiB0aGlzLnN0cmluZy5yZXBsYWNlKCQkcm91dGUkcmVjb2duaXplciQkZXNjYXBlUmVnZXgsICdcXFxcJDEnKTtcblx0XHQgICAgICB9LFxuXHRcdFxuXHRcdCAgICAgIGdlbmVyYXRlOiBmdW5jdGlvbigpIHtcblx0XHQgICAgICAgIHJldHVybiB0aGlzLnN0cmluZztcblx0XHQgICAgICB9XG5cdFx0ICAgIH07XG5cdFx0XG5cdFx0ICAgIGZ1bmN0aW9uICQkcm91dGUkcmVjb2duaXplciQkRHluYW1pY1NlZ21lbnQobmFtZSkgeyB0aGlzLm5hbWUgPSBuYW1lOyB9XG5cdFx0ICAgICQkcm91dGUkcmVjb2duaXplciQkRHluYW1pY1NlZ21lbnQucHJvdG90eXBlID0ge1xuXHRcdCAgICAgIGVhY2hDaGFyOiBmdW5jdGlvbihjdXJyZW50U3RhdGUpIHtcblx0XHQgICAgICAgIHJldHVybiBjdXJyZW50U3RhdGUucHV0KHsgaW52YWxpZENoYXJzOiBcIi9cIiwgcmVwZWF0OiB0cnVlLCB2YWxpZENoYXJzOiB1bmRlZmluZWQgfSk7XG5cdFx0ICAgICAgfSxcblx0XHRcblx0XHQgICAgICByZWdleDogZnVuY3Rpb24oKSB7XG5cdFx0ICAgICAgICByZXR1cm4gXCIoW14vXSspXCI7XG5cdFx0ICAgICAgfSxcblx0XHRcblx0XHQgICAgICBnZW5lcmF0ZTogZnVuY3Rpb24ocGFyYW1zKSB7XG5cdFx0ICAgICAgICByZXR1cm4gcGFyYW1zW3RoaXMubmFtZV07XG5cdFx0ICAgICAgfVxuXHRcdCAgICB9O1xuXHRcdFxuXHRcdCAgICBmdW5jdGlvbiAkJHJvdXRlJHJlY29nbml6ZXIkJFN0YXJTZWdtZW50KG5hbWUpIHsgdGhpcy5uYW1lID0gbmFtZTsgfVxuXHRcdCAgICAkJHJvdXRlJHJlY29nbml6ZXIkJFN0YXJTZWdtZW50LnByb3RvdHlwZSA9IHtcblx0XHQgICAgICBlYWNoQ2hhcjogZnVuY3Rpb24oY3VycmVudFN0YXRlKSB7XG5cdFx0ICAgICAgICByZXR1cm4gY3VycmVudFN0YXRlLnB1dCh7IGludmFsaWRDaGFyczogXCJcIiwgcmVwZWF0OiB0cnVlLCB2YWxpZENoYXJzOiB1bmRlZmluZWQgfSk7XG5cdFx0ICAgICAgfSxcblx0XHRcblx0XHQgICAgICByZWdleDogZnVuY3Rpb24oKSB7XG5cdFx0ICAgICAgICByZXR1cm4gXCIoLispXCI7XG5cdFx0ICAgICAgfSxcblx0XHRcblx0XHQgICAgICBnZW5lcmF0ZTogZnVuY3Rpb24ocGFyYW1zKSB7XG5cdFx0ICAgICAgICByZXR1cm4gcGFyYW1zW3RoaXMubmFtZV07XG5cdFx0ICAgICAgfVxuXHRcdCAgICB9O1xuXHRcdFxuXHRcdCAgICBmdW5jdGlvbiAkJHJvdXRlJHJlY29nbml6ZXIkJEVwc2lsb25TZWdtZW50KCkge31cblx0XHQgICAgJCRyb3V0ZSRyZWNvZ25pemVyJCRFcHNpbG9uU2VnbWVudC5wcm90b3R5cGUgPSB7XG5cdFx0ICAgICAgZWFjaENoYXI6IGZ1bmN0aW9uKGN1cnJlbnRTdGF0ZSkge1xuXHRcdCAgICAgICAgcmV0dXJuIGN1cnJlbnRTdGF0ZTtcblx0XHQgICAgICB9LFxuXHRcdCAgICAgIHJlZ2V4OiBmdW5jdGlvbigpIHsgcmV0dXJuIFwiXCI7IH0sXG5cdFx0ICAgICAgZ2VuZXJhdGU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gXCJcIjsgfVxuXHRcdCAgICB9O1xuXHRcdFxuXHRcdCAgICBmdW5jdGlvbiAkJHJvdXRlJHJlY29nbml6ZXIkJHBhcnNlKHJvdXRlLCBuYW1lcywgc3BlY2lmaWNpdHkpIHtcblx0XHQgICAgICAvLyBub3JtYWxpemUgcm91dGUgYXMgbm90IHN0YXJ0aW5nIHdpdGggYSBcIi9cIi4gUmVjb2duaXRpb24gd2lsbFxuXHRcdCAgICAgIC8vIGFsc28gbm9ybWFsaXplLlxuXHRcdCAgICAgIGlmIChyb3V0ZS5jaGFyQXQoMCkgPT09IFwiL1wiKSB7IHJvdXRlID0gcm91dGUuc3Vic3RyKDEpOyB9XG5cdFx0XG5cdFx0ICAgICAgdmFyIHNlZ21lbnRzID0gcm91dGUuc3BsaXQoXCIvXCIpO1xuXHRcdCAgICAgIHZhciByZXN1bHRzID0gbmV3IEFycmF5KHNlZ21lbnRzLmxlbmd0aCk7XG5cdFx0XG5cdFx0ICAgICAgLy8gQSByb3V0ZXMgaGFzIHNwZWNpZmljaXR5IGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoYXQgaXRzIGRpZmZlcmVudCBzZWdtZW50c1xuXHRcdCAgICAgIC8vIGFwcGVhciBpbi4gVGhpcyBzeXN0ZW0gbWlycm9ycyBob3cgdGhlIG1hZ25pdHVkZSBvZiBudW1iZXJzIHdyaXR0ZW4gYXMgc3RyaW5nc1xuXHRcdCAgICAgIC8vIHdvcmtzLlxuXHRcdCAgICAgIC8vIENvbnNpZGVyIGEgbnVtYmVyIHdyaXR0ZW4gYXM6IFwiYWJjXCIuIEFuIGV4YW1wbGUgd291bGQgYmUgXCIyMDBcIi4gQW55IG90aGVyIG51bWJlciB3cml0dGVuXG5cdFx0ICAgICAgLy8gXCJ4eXpcIiB3aWxsIGJlIHNtYWxsZXIgdGhhbiBcImFiY1wiIHNvIGxvbmcgYXMgYGEgPiB6YC4gRm9yIGluc3RhbmNlLCBcIjE5OVwiIGlzIHNtYWxsZXJcblx0XHQgICAgICAvLyB0aGVuIFwiMjAwXCIsIGV2ZW4gdGhvdWdoIFwieVwiIGFuZCBcInpcIiAod2hpY2ggYXJlIGJvdGggOSkgYXJlIGxhcmdlciB0aGFuIFwiMFwiICh0aGUgdmFsdWVcblx0XHQgICAgICAvLyBvZiAoYGJgIGFuZCBgY2ApLiBUaGlzIGlzIGJlY2F1c2UgdGhlIGxlYWRpbmcgc3ltYm9sLCBcIjJcIiwgaXMgbGFyZ2VyIHRoYW4gdGhlIG90aGVyXG5cdFx0ICAgICAgLy8gbGVhZGluZyBzeW1ib2wsIFwiMVwiLlxuXHRcdCAgICAgIC8vIFRoZSBydWxlIGlzIHRoYXQgc3ltYm9scyB0byB0aGUgbGVmdCBjYXJyeSBtb3JlIHdlaWdodCB0aGFuIHN5bWJvbHMgdG8gdGhlIHJpZ2h0XG5cdFx0ICAgICAgLy8gd2hlbiBhIG51bWJlciBpcyB3cml0dGVuIG91dCBhcyBhIHN0cmluZy4gSW4gdGhlIGFib3ZlIHN0cmluZ3MsIHRoZSBsZWFkaW5nIGRpZ2l0XG5cdFx0ICAgICAgLy8gcmVwcmVzZW50cyBob3cgbWFueSAxMDAncyBhcmUgaW4gdGhlIG51bWJlciwgYW5kIGl0IGNhcnJpZXMgbW9yZSB3ZWlnaHQgdGhhbiB0aGUgbWlkZGxlXG5cdFx0ICAgICAgLy8gbnVtYmVyIHdoaWNoIHJlcHJlc2VudHMgaG93IG1hbnkgMTAncyBhcmUgaW4gdGhlIG51bWJlci5cblx0XHQgICAgICAvLyBUaGlzIHN5c3RlbSBvZiBudW1iZXIgbWFnbml0dWRlIHdvcmtzIHdlbGwgZm9yIHJvdXRlIHNwZWNpZmljaXR5LCB0b28uIEEgcm91dGUgd3JpdHRlbiBhc1xuXHRcdCAgICAgIC8vIGBhL2IvY2Agd2lsbCBiZSBtb3JlIHNwZWNpZmljIHRoYW4gYHgveS96YCBhcyBsb25nIGFzIGBhYCBpcyBtb3JlIHNwZWNpZmljIHRoYW5cblx0XHQgICAgICAvLyBgeGAsIGlycmVzcGVjdGl2ZSBvZiB0aGUgb3RoZXIgcGFydHMuXG5cdFx0ICAgICAgLy8gQmVjYXVzZSBvZiB0aGlzIHNpbWlsYXJpdHksIHdlIGFzc2lnbiBlYWNoIHR5cGUgb2Ygc2VnbWVudCBhIG51bWJlciB2YWx1ZSB3cml0dGVuIGFzIGFcblx0XHQgICAgICAvLyBzdHJpbmcuIFdlIGNhbiBmaW5kIHRoZSBzcGVjaWZpY2l0eSBvZiBjb21wb3VuZCByb3V0ZXMgYnkgY29uY2F0ZW5hdGluZyB0aGVzZSBzdHJpbmdzXG5cdFx0ICAgICAgLy8gdG9nZXRoZXIsIGZyb20gbGVmdCB0byByaWdodC4gQWZ0ZXIgd2UgaGF2ZSBsb29wZWQgdGhyb3VnaCBhbGwgb2YgdGhlIHNlZ21lbnRzLFxuXHRcdCAgICAgIC8vIHdlIGNvbnZlcnQgdGhlIHN0cmluZyB0byBhIG51bWJlci5cblx0XHQgICAgICBzcGVjaWZpY2l0eS52YWwgPSAnJztcblx0XHRcblx0XHQgICAgICBmb3IgKHZhciBpPTA7IGk8c2VnbWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgICAgIHZhciBzZWdtZW50ID0gc2VnbWVudHNbaV0sIG1hdGNoO1xuXHRcdFxuXHRcdCAgICAgICAgaWYgKG1hdGNoID0gc2VnbWVudC5tYXRjaCgvXjooW15cXC9dKykkLykpIHtcblx0XHQgICAgICAgICAgcmVzdWx0c1tpXSA9IG5ldyAkJHJvdXRlJHJlY29nbml6ZXIkJER5bmFtaWNTZWdtZW50KG1hdGNoWzFdKTtcblx0XHQgICAgICAgICAgbmFtZXMucHVzaChtYXRjaFsxXSk7XG5cdFx0ICAgICAgICAgIHNwZWNpZmljaXR5LnZhbCArPSAnMyc7XG5cdFx0ICAgICAgICB9IGVsc2UgaWYgKG1hdGNoID0gc2VnbWVudC5tYXRjaCgvXlxcKihbXlxcL10rKSQvKSkge1xuXHRcdCAgICAgICAgICByZXN1bHRzW2ldID0gbmV3ICQkcm91dGUkcmVjb2duaXplciQkU3RhclNlZ21lbnQobWF0Y2hbMV0pO1xuXHRcdCAgICAgICAgICBzcGVjaWZpY2l0eS52YWwgKz0gJzEnO1xuXHRcdCAgICAgICAgICBuYW1lcy5wdXNoKG1hdGNoWzFdKTtcblx0XHQgICAgICAgIH0gZWxzZSBpZihzZWdtZW50ID09PSBcIlwiKSB7XG5cdFx0ICAgICAgICAgIHJlc3VsdHNbaV0gPSBuZXcgJCRyb3V0ZSRyZWNvZ25pemVyJCRFcHNpbG9uU2VnbWVudCgpO1xuXHRcdCAgICAgICAgICBzcGVjaWZpY2l0eS52YWwgKz0gJzInO1xuXHRcdCAgICAgICAgfSBlbHNlIHtcblx0XHQgICAgICAgICAgcmVzdWx0c1tpXSA9IG5ldyAkJHJvdXRlJHJlY29nbml6ZXIkJFN0YXRpY1NlZ21lbnQoc2VnbWVudCk7XG5cdFx0ICAgICAgICAgIHNwZWNpZmljaXR5LnZhbCArPSAnNCc7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgfVxuXHRcdFxuXHRcdCAgICAgIHNwZWNpZmljaXR5LnZhbCA9ICtzcGVjaWZpY2l0eS52YWw7XG5cdFx0XG5cdFx0ICAgICAgcmV0dXJuIHJlc3VsdHM7XG5cdFx0ICAgIH1cblx0XHRcblx0XHQgICAgLy8gQSBTdGF0ZSBoYXMgYSBjaGFyYWN0ZXIgc3BlY2lmaWNhdGlvbiBhbmQgKGBjaGFyU3BlY2ApIGFuZCBhIGxpc3Qgb2YgcG9zc2libGVcblx0XHQgICAgLy8gc3Vic2VxdWVudCBzdGF0ZXMgKGBuZXh0U3RhdGVzYCkuXG5cdFx0ICAgIC8vXG5cdFx0ICAgIC8vIElmIGEgU3RhdGUgaXMgYW4gYWNjZXB0aW5nIHN0YXRlLCBpdCB3aWxsIGFsc28gaGF2ZSBzZXZlcmFsIGFkZGl0aW9uYWxcblx0XHQgICAgLy8gcHJvcGVydGllczpcblx0XHQgICAgLy9cblx0XHQgICAgLy8gKiBgcmVnZXhgOiBBIHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgdG8gZXh0cmFjdCBwYXJhbWV0ZXJzIGZyb20gcGF0aHNcblx0XHQgICAgLy8gICB0aGF0IHJlYWNoZWQgdGhpcyBhY2NlcHRpbmcgc3RhdGUuXG5cdFx0ICAgIC8vICogYGhhbmRsZXJzYDogSW5mb3JtYXRpb24gb24gaG93IHRvIGNvbnZlcnQgdGhlIGxpc3Qgb2YgY2FwdHVyZXMgaW50byBjYWxsc1xuXHRcdCAgICAvLyAgIHRvIHJlZ2lzdGVyZWQgaGFuZGxlcnMgd2l0aCB0aGUgc3BlY2lmaWVkIHBhcmFtZXRlcnNcblx0XHQgICAgLy8gKiBgdHlwZXNgOiBIb3cgbWFueSBzdGF0aWMsIGR5bmFtaWMgb3Igc3RhciBzZWdtZW50cyBpbiB0aGlzIHJvdXRlLiBVc2VkIHRvXG5cdFx0ICAgIC8vICAgZGVjaWRlIHdoaWNoIHJvdXRlIHRvIHVzZSBpZiBtdWx0aXBsZSByZWdpc3RlcmVkIHJvdXRlcyBtYXRjaCBhIHBhdGguXG5cdFx0ICAgIC8vXG5cdFx0ICAgIC8vIEN1cnJlbnRseSwgU3RhdGUgaXMgaW1wbGVtZW50ZWQgbmFpdmVseSBieSBsb29waW5nIG92ZXIgYG5leHRTdGF0ZXNgIGFuZFxuXHRcdCAgICAvLyBjb21wYXJpbmcgYSBjaGFyYWN0ZXIgc3BlY2lmaWNhdGlvbiBhZ2FpbnN0IGEgY2hhcmFjdGVyLiBBIG1vcmUgZWZmaWNpZW50XG5cdFx0ICAgIC8vIGltcGxlbWVudGF0aW9uIHdvdWxkIHVzZSBhIGhhc2ggb2Yga2V5cyBwb2ludGluZyBhdCBvbmUgb3IgbW9yZSBuZXh0IHN0YXRlcy5cblx0XHRcblx0XHQgICAgZnVuY3Rpb24gJCRyb3V0ZSRyZWNvZ25pemVyJCRTdGF0ZShjaGFyU3BlYykge1xuXHRcdCAgICAgIHRoaXMuY2hhclNwZWMgPSBjaGFyU3BlYztcblx0XHQgICAgICB0aGlzLm5leHRTdGF0ZXMgPSBbXTtcblx0XHQgICAgICB0aGlzLmNoYXJTcGVjcyA9IHt9O1xuXHRcdCAgICAgIHRoaXMucmVnZXggPSB1bmRlZmluZWQ7XG5cdFx0ICAgICAgdGhpcy5oYW5kbGVycyA9IHVuZGVmaW5lZDtcblx0XHQgICAgICB0aGlzLnNwZWNpZmljaXR5ID0gdW5kZWZpbmVkO1xuXHRcdCAgICB9XG5cdFx0XG5cdFx0ICAgICQkcm91dGUkcmVjb2duaXplciQkU3RhdGUucHJvdG90eXBlID0ge1xuXHRcdCAgICAgIGdldDogZnVuY3Rpb24oY2hhclNwZWMpIHtcblx0XHQgICAgICAgIGlmICh0aGlzLmNoYXJTcGVjc1tjaGFyU3BlYy52YWxpZENoYXJzXSkge1xuXHRcdCAgICAgICAgICByZXR1cm4gdGhpcy5jaGFyU3BlY3NbY2hhclNwZWMudmFsaWRDaGFyc107XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICB2YXIgbmV4dFN0YXRlcyA9IHRoaXMubmV4dFN0YXRlcztcblx0XHRcblx0XHQgICAgICAgIGZvciAodmFyIGk9MDsgaTxuZXh0U3RhdGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0ICAgICAgICAgIHZhciBjaGlsZCA9IG5leHRTdGF0ZXNbaV07XG5cdFx0XG5cdFx0ICAgICAgICAgIHZhciBpc0VxdWFsID0gY2hpbGQuY2hhclNwZWMudmFsaWRDaGFycyA9PT0gY2hhclNwZWMudmFsaWRDaGFycztcblx0XHQgICAgICAgICAgaXNFcXVhbCA9IGlzRXF1YWwgJiYgY2hpbGQuY2hhclNwZWMuaW52YWxpZENoYXJzID09PSBjaGFyU3BlYy5pbnZhbGlkQ2hhcnM7XG5cdFx0XG5cdFx0ICAgICAgICAgIGlmIChpc0VxdWFsKSB7XG5cdFx0ICAgICAgICAgICAgdGhpcy5jaGFyU3BlY3NbY2hhclNwZWMudmFsaWRDaGFyc10gPSBjaGlsZDtcblx0XHQgICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG5cdFx0ICAgICAgICAgIH1cblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9LFxuXHRcdFxuXHRcdCAgICAgIHB1dDogZnVuY3Rpb24oY2hhclNwZWMpIHtcblx0XHQgICAgICAgIHZhciBzdGF0ZTtcblx0XHRcblx0XHQgICAgICAgIC8vIElmIHRoZSBjaGFyYWN0ZXIgc3BlY2lmaWNhdGlvbiBhbHJlYWR5IGV4aXN0cyBpbiBhIGNoaWxkIG9mIHRoZSBjdXJyZW50XG5cdFx0ICAgICAgICAvLyBzdGF0ZSwganVzdCByZXR1cm4gdGhhdCBzdGF0ZS5cblx0XHQgICAgICAgIGlmIChzdGF0ZSA9IHRoaXMuZ2V0KGNoYXJTcGVjKSkgeyByZXR1cm4gc3RhdGU7IH1cblx0XHRcblx0XHQgICAgICAgIC8vIE1ha2UgYSBuZXcgc3RhdGUgZm9yIHRoZSBjaGFyYWN0ZXIgc3BlY1xuXHRcdCAgICAgICAgc3RhdGUgPSBuZXcgJCRyb3V0ZSRyZWNvZ25pemVyJCRTdGF0ZShjaGFyU3BlYyk7XG5cdFx0XG5cdFx0ICAgICAgICAvLyBJbnNlcnQgdGhlIG5ldyBzdGF0ZSBhcyBhIGNoaWxkIG9mIHRoZSBjdXJyZW50IHN0YXRlXG5cdFx0ICAgICAgICB0aGlzLm5leHRTdGF0ZXMucHVzaChzdGF0ZSk7XG5cdFx0XG5cdFx0ICAgICAgICAvLyBJZiB0aGlzIGNoYXJhY3RlciBzcGVjaWZpY2F0aW9uIHJlcGVhdHMsIGluc2VydCB0aGUgbmV3IHN0YXRlIGFzIGEgY2hpbGRcblx0XHQgICAgICAgIC8vIG9mIGl0c2VsZi4gTm90ZSB0aGF0IHRoaXMgd2lsbCBub3QgdHJpZ2dlciBhbiBpbmZpbml0ZSBsb29wIGJlY2F1c2UgZWFjaFxuXHRcdCAgICAgICAgLy8gdHJhbnNpdGlvbiBkdXJpbmcgcmVjb2duaXRpb24gY29uc3VtZXMgYSBjaGFyYWN0ZXIuXG5cdFx0ICAgICAgICBpZiAoY2hhclNwZWMucmVwZWF0KSB7XG5cdFx0ICAgICAgICAgIHN0YXRlLm5leHRTdGF0ZXMucHVzaChzdGF0ZSk7XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICAvLyBSZXR1cm4gdGhlIG5ldyBzdGF0ZVxuXHRcdCAgICAgICAgcmV0dXJuIHN0YXRlO1xuXHRcdCAgICAgIH0sXG5cdFx0XG5cdFx0ICAgICAgLy8gRmluZCBhIGxpc3Qgb2YgY2hpbGQgc3RhdGVzIG1hdGNoaW5nIHRoZSBuZXh0IGNoYXJhY3RlclxuXHRcdCAgICAgIG1hdGNoOiBmdW5jdGlvbihjaCkge1xuXHRcdCAgICAgICAgdmFyIG5leHRTdGF0ZXMgPSB0aGlzLm5leHRTdGF0ZXMsXG5cdFx0ICAgICAgICAgICAgY2hpbGQsIGNoYXJTcGVjLCBjaGFycztcblx0XHRcblx0XHQgICAgICAgIHZhciByZXR1cm5lZCA9IFtdO1xuXHRcdFxuXHRcdCAgICAgICAgZm9yICh2YXIgaT0wOyBpPG5leHRTdGF0ZXMubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgICAgICAgY2hpbGQgPSBuZXh0U3RhdGVzW2ldO1xuXHRcdFxuXHRcdCAgICAgICAgICBjaGFyU3BlYyA9IGNoaWxkLmNoYXJTcGVjO1xuXHRcdFxuXHRcdCAgICAgICAgICBpZiAodHlwZW9mIChjaGFycyA9IGNoYXJTcGVjLnZhbGlkQ2hhcnMpICE9PSAndW5kZWZpbmVkJykge1xuXHRcdCAgICAgICAgICAgIGlmIChjaGFycy5pbmRleE9mKGNoKSAhPT0gLTEpIHsgcmV0dXJuZWQucHVzaChjaGlsZCk7IH1cblx0XHQgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKGNoYXJzID0gY2hhclNwZWMuaW52YWxpZENoYXJzKSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHQgICAgICAgICAgICBpZiAoY2hhcnMuaW5kZXhPZihjaCkgPT09IC0xKSB7IHJldHVybmVkLnB1c2goY2hpbGQpOyB9XG5cdFx0ICAgICAgICAgIH1cblx0XHQgICAgICAgIH1cblx0XHRcblx0XHQgICAgICAgIHJldHVybiByZXR1cm5lZDtcblx0XHQgICAgICB9XG5cdFx0ICAgIH07XG5cdFx0XG5cdFx0ICAgIC8vIFNvcnQgdGhlIHJvdXRlcyBieSBzcGVjaWZpY2l0eVxuXHRcdCAgICBmdW5jdGlvbiAkJHJvdXRlJHJlY29nbml6ZXIkJHNvcnRTb2x1dGlvbnMoc3RhdGVzKSB7XG5cdFx0ICAgICAgcmV0dXJuIHN0YXRlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcblx0XHQgICAgICAgIHJldHVybiBiLnNwZWNpZmljaXR5LnZhbCAtIGEuc3BlY2lmaWNpdHkudmFsO1xuXHRcdCAgICAgIH0pO1xuXHRcdCAgICB9XG5cdFx0XG5cdFx0ICAgIGZ1bmN0aW9uICQkcm91dGUkcmVjb2duaXplciQkcmVjb2duaXplQ2hhcihzdGF0ZXMsIGNoKSB7XG5cdFx0ICAgICAgdmFyIG5leHRTdGF0ZXMgPSBbXTtcblx0XHRcblx0XHQgICAgICBmb3IgKHZhciBpPTAsIGw9c3RhdGVzLmxlbmd0aDsgaTxsOyBpKyspIHtcblx0XHQgICAgICAgIHZhciBzdGF0ZSA9IHN0YXRlc1tpXTtcblx0XHRcblx0XHQgICAgICAgIG5leHRTdGF0ZXMgPSBuZXh0U3RhdGVzLmNvbmNhdChzdGF0ZS5tYXRjaChjaCkpO1xuXHRcdCAgICAgIH1cblx0XHRcblx0XHQgICAgICByZXR1cm4gbmV4dFN0YXRlcztcblx0XHQgICAgfVxuXHRcdFxuXHRcdCAgICB2YXIgJCRyb3V0ZSRyZWNvZ25pemVyJCRvQ3JlYXRlID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbihwcm90bykge1xuXHRcdCAgICAgIGZ1bmN0aW9uIEYoKSB7fVxuXHRcdCAgICAgIEYucHJvdG90eXBlID0gcHJvdG87XG5cdFx0ICAgICAgcmV0dXJuIG5ldyBGKCk7XG5cdFx0ICAgIH07XG5cdFx0XG5cdFx0ICAgIGZ1bmN0aW9uICQkcm91dGUkcmVjb2duaXplciQkUmVjb2duaXplUmVzdWx0cyhxdWVyeVBhcmFtcykge1xuXHRcdCAgICAgIHRoaXMucXVlcnlQYXJhbXMgPSBxdWVyeVBhcmFtcyB8fCB7fTtcblx0XHQgICAgfVxuXHRcdCAgICAkJHJvdXRlJHJlY29nbml6ZXIkJFJlY29nbml6ZVJlc3VsdHMucHJvdG90eXBlID0gJCRyb3V0ZSRyZWNvZ25pemVyJCRvQ3JlYXRlKHtcblx0XHQgICAgICBzcGxpY2U6IEFycmF5LnByb3RvdHlwZS5zcGxpY2UsXG5cdFx0ICAgICAgc2xpY2U6ICBBcnJheS5wcm90b3R5cGUuc2xpY2UsXG5cdFx0ICAgICAgcHVzaDogICBBcnJheS5wcm90b3R5cGUucHVzaCxcblx0XHQgICAgICBsZW5ndGg6IDAsXG5cdFx0ICAgICAgcXVlcnlQYXJhbXM6IG51bGxcblx0XHQgICAgfSk7XG5cdFx0XG5cdFx0ICAgIGZ1bmN0aW9uICQkcm91dGUkcmVjb2duaXplciQkZmluZEhhbmRsZXIoc3RhdGUsIHBhdGgsIHF1ZXJ5UGFyYW1zKSB7XG5cdFx0ICAgICAgdmFyIGhhbmRsZXJzID0gc3RhdGUuaGFuZGxlcnMsIHJlZ2V4ID0gc3RhdGUucmVnZXg7XG5cdFx0ICAgICAgdmFyIGNhcHR1cmVzID0gcGF0aC5tYXRjaChyZWdleCksIGN1cnJlbnRDYXB0dXJlID0gMTtcblx0XHQgICAgICB2YXIgcmVzdWx0ID0gbmV3ICQkcm91dGUkcmVjb2duaXplciQkUmVjb2duaXplUmVzdWx0cyhxdWVyeVBhcmFtcyk7XG5cdFx0XG5cdFx0ICAgICAgcmVzdWx0Lmxlbmd0aCA9IGhhbmRsZXJzLmxlbmd0aDtcblx0XHRcblx0XHQgICAgICBmb3IgKHZhciBpPTA7IGk8aGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgICAgIHZhciBoYW5kbGVyID0gaGFuZGxlcnNbaV0sIG5hbWVzID0gaGFuZGxlci5uYW1lcywgcGFyYW1zID0ge307XG5cdFx0XG5cdFx0ICAgICAgICBmb3IgKHZhciBqPTA7IGo8bmFtZXMubGVuZ3RoOyBqKyspIHtcblx0XHQgICAgICAgICAgcGFyYW1zW25hbWVzW2pdXSA9IGNhcHR1cmVzW2N1cnJlbnRDYXB0dXJlKytdO1xuXHRcdCAgICAgICAgfVxuXHRcdFxuXHRcdCAgICAgICAgcmVzdWx0W2ldID0geyBoYW5kbGVyOiBoYW5kbGVyLmhhbmRsZXIsIHBhcmFtczogcGFyYW1zLCBpc0R5bmFtaWM6ICEhbmFtZXMubGVuZ3RoIH07XG5cdFx0ICAgICAgfVxuXHRcdFxuXHRcdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdFx0ICAgIH1cblx0XHRcblx0XHQgICAgZnVuY3Rpb24gJCRyb3V0ZSRyZWNvZ25pemVyJCRkZWNvZGVRdWVyeVBhcmFtUGFydChwYXJ0KSB7XG5cdFx0ICAgICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDQwMS9pbnRlcmFjdC9mb3Jtcy5odG1sI2gtMTcuMTMuNC4xXG5cdFx0ICAgICAgcGFydCA9IHBhcnQucmVwbGFjZSgvXFwrL2dtLCAnJTIwJyk7XG5cdFx0ICAgICAgdmFyIHJlc3VsdDtcblx0XHQgICAgICB0cnkge1xuXHRcdCAgICAgICAgcmVzdWx0ID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhcnQpO1xuXHRcdCAgICAgIH0gY2F0Y2goZXJyb3IpIHtyZXN1bHQgPSAnJzt9XG5cdFx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0XHQgICAgfVxuXHRcdFxuXHRcdCAgICAvLyBUaGUgbWFpbiBpbnRlcmZhY2Vcblx0XHRcblx0XHQgICAgdmFyICQkcm91dGUkcmVjb2duaXplciQkUm91dGVSZWNvZ25pemVyID0gZnVuY3Rpb24oKSB7XG5cdFx0ICAgICAgdGhpcy5yb290U3RhdGUgPSBuZXcgJCRyb3V0ZSRyZWNvZ25pemVyJCRTdGF0ZSgpO1xuXHRcdCAgICAgIHRoaXMubmFtZXMgPSB7fTtcblx0XHQgICAgfTtcblx0XHRcblx0XHRcblx0XHQgICAgJCRyb3V0ZSRyZWNvZ25pemVyJCRSb3V0ZVJlY29nbml6ZXIucHJvdG90eXBlID0ge1xuXHRcdCAgICAgIGFkZDogZnVuY3Rpb24ocm91dGVzLCBvcHRpb25zKSB7XG5cdFx0ICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gdGhpcy5yb290U3RhdGUsIHJlZ2V4ID0gXCJeXCIsXG5cdFx0ICAgICAgICAgICAgc3BlY2lmaWNpdHkgPSB7fSxcblx0XHQgICAgICAgICAgICBoYW5kbGVycyA9IG5ldyBBcnJheShyb3V0ZXMubGVuZ3RoKSwgYWxsU2VnbWVudHMgPSBbXSwgbmFtZTtcblx0XHRcblx0XHQgICAgICAgIHZhciBpc0VtcHR5ID0gdHJ1ZTtcblx0XHRcblx0XHQgICAgICAgIGZvciAodmFyIGk9MDsgaTxyb3V0ZXMubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgICAgICAgdmFyIHJvdXRlID0gcm91dGVzW2ldLCBuYW1lcyA9IFtdO1xuXHRcdFxuXHRcdCAgICAgICAgICB2YXIgc2VnbWVudHMgPSAkJHJvdXRlJHJlY29nbml6ZXIkJHBhcnNlKHJvdXRlLnBhdGgsIG5hbWVzLCBzcGVjaWZpY2l0eSk7XG5cdFx0XG5cdFx0ICAgICAgICAgIGFsbFNlZ21lbnRzID0gYWxsU2VnbWVudHMuY29uY2F0KHNlZ21lbnRzKTtcblx0XHRcblx0XHQgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPHNlZ21lbnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0ICAgICAgICAgICAgdmFyIHNlZ21lbnQgPSBzZWdtZW50c1tqXTtcblx0XHRcblx0XHQgICAgICAgICAgICBpZiAoc2VnbWVudCBpbnN0YW5jZW9mICQkcm91dGUkcmVjb2duaXplciQkRXBzaWxvblNlZ21lbnQpIHsgY29udGludWU7IH1cblx0XHRcblx0XHQgICAgICAgICAgICBpc0VtcHR5ID0gZmFsc2U7XG5cdFx0XG5cdFx0ICAgICAgICAgICAgLy8gQWRkIGEgXCIvXCIgZm9yIHRoZSBuZXcgc2VnbWVudFxuXHRcdCAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRTdGF0ZS5wdXQoeyBpbnZhbGlkQ2hhcnM6IHVuZGVmaW5lZCwgcmVwZWF0OiBmYWxzZSwgdmFsaWRDaGFyczogXCIvXCIgfSk7XG5cdFx0ICAgICAgICAgICAgcmVnZXggKz0gXCIvXCI7XG5cdFx0XG5cdFx0ICAgICAgICAgICAgLy8gQWRkIGEgcmVwcmVzZW50YXRpb24gb2YgdGhlIHNlZ21lbnQgdG8gdGhlIE5GQSBhbmQgcmVnZXhcblx0XHQgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSBzZWdtZW50LmVhY2hDaGFyKGN1cnJlbnRTdGF0ZSk7XG5cdFx0ICAgICAgICAgICAgcmVnZXggKz0gc2VnbWVudC5yZWdleCgpO1xuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICAgIHZhciBoYW5kbGVyID0geyBoYW5kbGVyOiByb3V0ZS5oYW5kbGVyLCBuYW1lczogbmFtZXMgfTtcblx0XHQgICAgICAgICAgaGFuZGxlcnNbaV0gPSBoYW5kbGVyO1xuXHRcdCAgICAgICAgfVxuXHRcdFxuXHRcdCAgICAgICAgaWYgKGlzRW1wdHkpIHtcblx0XHQgICAgICAgICAgY3VycmVudFN0YXRlID0gY3VycmVudFN0YXRlLnB1dCh7IGludmFsaWRDaGFyczogdW5kZWZpbmVkLCByZXBlYXQ6IGZhbHNlLCB2YWxpZENoYXJzOiBcIi9cIiB9KTtcblx0XHQgICAgICAgICAgcmVnZXggKz0gXCIvXCI7XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICBjdXJyZW50U3RhdGUuaGFuZGxlcnMgPSBoYW5kbGVycztcblx0XHQgICAgICAgIGN1cnJlbnRTdGF0ZS5yZWdleCA9IG5ldyBSZWdFeHAocmVnZXggKyBcIiRcIik7XG5cdFx0ICAgICAgICBjdXJyZW50U3RhdGUuc3BlY2lmaWNpdHkgPSBzcGVjaWZpY2l0eTtcblx0XHRcblx0XHQgICAgICAgIGlmIChuYW1lID0gb3B0aW9ucyAmJiBvcHRpb25zLmFzKSB7XG5cdFx0ICAgICAgICAgIHRoaXMubmFtZXNbbmFtZV0gPSB7XG5cdFx0ICAgICAgICAgICAgc2VnbWVudHM6IGFsbFNlZ21lbnRzLFxuXHRcdCAgICAgICAgICAgIGhhbmRsZXJzOiBoYW5kbGVyc1xuXHRcdCAgICAgICAgICB9O1xuXHRcdCAgICAgICAgfVxuXHRcdCAgICAgIH0sXG5cdFx0XG5cdFx0ICAgICAgaGFuZGxlcnNGb3I6IGZ1bmN0aW9uKG5hbWUpIHtcblx0XHQgICAgICAgIHZhciByb3V0ZSA9IHRoaXMubmFtZXNbbmFtZV07XG5cdFx0XG5cdFx0ICAgICAgICBpZiAoIXJvdXRlKSB7IHRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIG5vIHJvdXRlIG5hbWVkIFwiICsgbmFtZSk7IH1cblx0XHRcblx0XHQgICAgICAgIHZhciByZXN1bHQgPSBuZXcgQXJyYXkocm91dGUuaGFuZGxlcnMubGVuZ3RoKTtcblx0XHRcblx0XHQgICAgICAgIGZvciAodmFyIGk9MDsgaTxyb3V0ZS5oYW5kbGVycy5sZW5ndGg7IGkrKykge1xuXHRcdCAgICAgICAgICByZXN1bHRbaV0gPSByb3V0ZS5oYW5kbGVyc1tpXTtcblx0XHQgICAgICAgIH1cblx0XHRcblx0XHQgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdFx0ICAgICAgfSxcblx0XHRcblx0XHQgICAgICBoYXNSb3V0ZTogZnVuY3Rpb24obmFtZSkge1xuXHRcdCAgICAgICAgcmV0dXJuICEhdGhpcy5uYW1lc1tuYW1lXTtcblx0XHQgICAgICB9LFxuXHRcdFxuXHRcdCAgICAgIGdlbmVyYXRlOiBmdW5jdGlvbihuYW1lLCBwYXJhbXMpIHtcblx0XHQgICAgICAgIHZhciByb3V0ZSA9IHRoaXMubmFtZXNbbmFtZV0sIG91dHB1dCA9IFwiXCI7XG5cdFx0ICAgICAgICBpZiAoIXJvdXRlKSB7IHRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIG5vIHJvdXRlIG5hbWVkIFwiICsgbmFtZSk7IH1cblx0XHRcblx0XHQgICAgICAgIHZhciBzZWdtZW50cyA9IHJvdXRlLnNlZ21lbnRzO1xuXHRcdFxuXHRcdCAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0ICAgICAgICAgIHZhciBzZWdtZW50ID0gc2VnbWVudHNbaV07XG5cdFx0XG5cdFx0ICAgICAgICAgIGlmIChzZWdtZW50IGluc3RhbmNlb2YgJCRyb3V0ZSRyZWNvZ25pemVyJCRFcHNpbG9uU2VnbWVudCkgeyBjb250aW51ZTsgfVxuXHRcdFxuXHRcdCAgICAgICAgICBvdXRwdXQgKz0gXCIvXCI7XG5cdFx0ICAgICAgICAgIG91dHB1dCArPSBzZWdtZW50LmdlbmVyYXRlKHBhcmFtcyk7XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICBpZiAob3V0cHV0LmNoYXJBdCgwKSAhPT0gJy8nKSB7IG91dHB1dCA9ICcvJyArIG91dHB1dDsgfVxuXHRcdFxuXHRcdCAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMucXVlcnlQYXJhbXMpIHtcblx0XHQgICAgICAgICAgb3V0cHV0ICs9IHRoaXMuZ2VuZXJhdGVRdWVyeVN0cmluZyhwYXJhbXMucXVlcnlQYXJhbXMsIHJvdXRlLmhhbmRsZXJzKTtcblx0XHQgICAgICAgIH1cblx0XHRcblx0XHQgICAgICAgIHJldHVybiBvdXRwdXQ7XG5cdFx0ICAgICAgfSxcblx0XHRcblx0XHQgICAgICBnZW5lcmF0ZVF1ZXJ5U3RyaW5nOiBmdW5jdGlvbihwYXJhbXMsIGhhbmRsZXJzKSB7XG5cdFx0ICAgICAgICB2YXIgcGFpcnMgPSBbXTtcblx0XHQgICAgICAgIHZhciBrZXlzID0gW107XG5cdFx0ICAgICAgICBmb3IodmFyIGtleSBpbiBwYXJhbXMpIHtcblx0XHQgICAgICAgICAgaWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0ICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG5cdFx0ICAgICAgICAgIH1cblx0XHQgICAgICAgIH1cblx0XHQgICAgICAgIGtleXMuc29ydCgpO1xuXHRcdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0ICAgICAgICAgIGtleSA9IGtleXNbaV07XG5cdFx0ICAgICAgICAgIHZhciB2YWx1ZSA9IHBhcmFtc1trZXldO1xuXHRcdCAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuXHRcdCAgICAgICAgICAgIGNvbnRpbnVlO1xuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICAgIHZhciBwYWlyID0gZW5jb2RlVVJJQ29tcG9uZW50KGtleSk7XG5cdFx0ICAgICAgICAgIGlmICgkJHJvdXRlJHJlY29nbml6ZXIkJGlzQXJyYXkodmFsdWUpKSB7XG5cdFx0ICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWx1ZS5sZW5ndGg7IGorKykge1xuXHRcdCAgICAgICAgICAgICAgdmFyIGFycmF5UGFpciA9IGtleSArICdbXScgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWVbal0pO1xuXHRcdCAgICAgICAgICAgICAgcGFpcnMucHVzaChhcnJheVBhaXIpO1xuXHRcdCAgICAgICAgICAgIH1cblx0XHQgICAgICAgICAgfSBlbHNlIHtcblx0XHQgICAgICAgICAgICBwYWlyICs9IFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcblx0XHQgICAgICAgICAgICBwYWlycy5wdXNoKHBhaXIpO1xuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICBpZiAocGFpcnMubGVuZ3RoID09PSAwKSB7IHJldHVybiAnJzsgfVxuXHRcdFxuXHRcdCAgICAgICAgcmV0dXJuIFwiP1wiICsgcGFpcnMuam9pbihcIiZcIik7XG5cdFx0ICAgICAgfSxcblx0XHRcblx0XHQgICAgICBwYXJzZVF1ZXJ5U3RyaW5nOiBmdW5jdGlvbihxdWVyeVN0cmluZykge1xuXHRcdCAgICAgICAgdmFyIHBhaXJzID0gcXVlcnlTdHJpbmcuc3BsaXQoXCImXCIpLCBxdWVyeVBhcmFtcyA9IHt9O1xuXHRcdCAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuXHRcdCAgICAgICAgICB2YXIgcGFpciAgICAgID0gcGFpcnNbaV0uc3BsaXQoJz0nKSxcblx0XHQgICAgICAgICAgICAgIGtleSAgICAgICA9ICQkcm91dGUkcmVjb2duaXplciQkZGVjb2RlUXVlcnlQYXJhbVBhcnQocGFpclswXSksXG5cdFx0ICAgICAgICAgICAgICBrZXlMZW5ndGggPSBrZXkubGVuZ3RoLFxuXHRcdCAgICAgICAgICAgICAgaXNBcnJheSA9IGZhbHNlLFxuXHRcdCAgICAgICAgICAgICAgdmFsdWU7XG5cdFx0ICAgICAgICAgIGlmIChwYWlyLmxlbmd0aCA9PT0gMSkge1xuXHRcdCAgICAgICAgICAgIHZhbHVlID0gJ3RydWUnO1xuXHRcdCAgICAgICAgICB9IGVsc2Uge1xuXHRcdCAgICAgICAgICAgIC8vSGFuZGxlIGFycmF5c1xuXHRcdCAgICAgICAgICAgIGlmIChrZXlMZW5ndGggPiAyICYmIGtleS5zbGljZShrZXlMZW5ndGggLTIpID09PSAnW10nKSB7XG5cdFx0ICAgICAgICAgICAgICBpc0FycmF5ID0gdHJ1ZTtcblx0XHQgICAgICAgICAgICAgIGtleSA9IGtleS5zbGljZSgwLCBrZXlMZW5ndGggLSAyKTtcblx0XHQgICAgICAgICAgICAgIGlmKCFxdWVyeVBhcmFtc1trZXldKSB7XG5cdFx0ICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1zW2tleV0gPSBbXTtcblx0XHQgICAgICAgICAgICAgIH1cblx0XHQgICAgICAgICAgICB9XG5cdFx0ICAgICAgICAgICAgdmFsdWUgPSBwYWlyWzFdID8gJCRyb3V0ZSRyZWNvZ25pemVyJCRkZWNvZGVRdWVyeVBhcmFtUGFydChwYWlyWzFdKSA6ICcnO1xuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICAgIGlmIChpc0FycmF5KSB7XG5cdFx0ICAgICAgICAgICAgcXVlcnlQYXJhbXNba2V5XS5wdXNoKHZhbHVlKTtcblx0XHQgICAgICAgICAgfSBlbHNlIHtcblx0XHQgICAgICAgICAgICBxdWVyeVBhcmFtc1trZXldID0gdmFsdWU7XG5cdFx0ICAgICAgICAgIH1cblx0XHQgICAgICAgIH1cblx0XHQgICAgICAgIHJldHVybiBxdWVyeVBhcmFtcztcblx0XHQgICAgICB9LFxuXHRcdFxuXHRcdCAgICAgIHJlY29nbml6ZTogZnVuY3Rpb24ocGF0aCkge1xuXHRcdCAgICAgICAgdmFyIHN0YXRlcyA9IFsgdGhpcy5yb290U3RhdGUgXSxcblx0XHQgICAgICAgICAgICBwYXRoTGVuLCBpLCBsLCBxdWVyeVN0YXJ0LCBxdWVyeVBhcmFtcyA9IHt9LFxuXHRcdCAgICAgICAgICAgIGlzU2xhc2hEcm9wcGVkID0gZmFsc2U7XG5cdFx0XG5cdFx0ICAgICAgICBxdWVyeVN0YXJ0ID0gcGF0aC5pbmRleE9mKCc/Jyk7XG5cdFx0ICAgICAgICBpZiAocXVlcnlTdGFydCAhPT0gLTEpIHtcblx0XHQgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gcGF0aC5zdWJzdHIocXVlcnlTdGFydCArIDEsIHBhdGgubGVuZ3RoKTtcblx0XHQgICAgICAgICAgcGF0aCA9IHBhdGguc3Vic3RyKDAsIHF1ZXJ5U3RhcnQpO1xuXHRcdCAgICAgICAgICBxdWVyeVBhcmFtcyA9IHRoaXMucGFyc2VRdWVyeVN0cmluZyhxdWVyeVN0cmluZyk7XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICBwYXRoID0gZGVjb2RlVVJJKHBhdGgpO1xuXHRcdFxuXHRcdCAgICAgICAgaWYgKHBhdGguY2hhckF0KDApICE9PSBcIi9cIikgeyBwYXRoID0gXCIvXCIgKyBwYXRoOyB9XG5cdFx0XG5cdFx0ICAgICAgICBwYXRoTGVuID0gcGF0aC5sZW5ndGg7XG5cdFx0ICAgICAgICBpZiAocGF0aExlbiA+IDEgJiYgcGF0aC5jaGFyQXQocGF0aExlbiAtIDEpID09PSBcIi9cIikge1xuXHRcdCAgICAgICAgICBwYXRoID0gcGF0aC5zdWJzdHIoMCwgcGF0aExlbiAtIDEpO1xuXHRcdCAgICAgICAgICBpc1NsYXNoRHJvcHBlZCA9IHRydWU7XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICBmb3IgKGk9MDsgaTxwYXRoLmxlbmd0aDsgaSsrKSB7XG5cdFx0ICAgICAgICAgIHN0YXRlcyA9ICQkcm91dGUkcmVjb2duaXplciQkcmVjb2duaXplQ2hhcihzdGF0ZXMsIHBhdGguY2hhckF0KGkpKTtcblx0XHQgICAgICAgICAgaWYgKCFzdGF0ZXMubGVuZ3RoKSB7IGJyZWFrOyB9XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICB2YXIgc29sdXRpb25zID0gW107XG5cdFx0ICAgICAgICBmb3IgKGk9MDsgaTxzdGF0ZXMubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgICAgICAgaWYgKHN0YXRlc1tpXS5oYW5kbGVycykgeyBzb2x1dGlvbnMucHVzaChzdGF0ZXNbaV0pOyB9XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICBzdGF0ZXMgPSAkJHJvdXRlJHJlY29nbml6ZXIkJHNvcnRTb2x1dGlvbnMoc29sdXRpb25zKTtcblx0XHRcblx0XHQgICAgICAgIHZhciBzdGF0ZSA9IHNvbHV0aW9uc1swXTtcblx0XHRcblx0XHQgICAgICAgIGlmIChzdGF0ZSAmJiBzdGF0ZS5oYW5kbGVycykge1xuXHRcdCAgICAgICAgICAvLyBpZiBhIHRyYWlsaW5nIHNsYXNoIHdhcyBkcm9wcGVkIGFuZCBhIHN0YXIgc2VnbWVudCBpcyB0aGUgbGFzdCBzZWdtZW50XG5cdFx0ICAgICAgICAgIC8vIHNwZWNpZmllZCwgcHV0IHRoZSB0cmFpbGluZyBzbGFzaCBiYWNrXG5cdFx0ICAgICAgICAgIGlmIChpc1NsYXNoRHJvcHBlZCAmJiBzdGF0ZS5yZWdleC5zb3VyY2Uuc2xpY2UoLTUpID09PSBcIiguKykkXCIpIHtcblx0XHQgICAgICAgICAgICBwYXRoID0gcGF0aCArIFwiL1wiO1xuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICAgIHJldHVybiAkJHJvdXRlJHJlY29nbml6ZXIkJGZpbmRIYW5kbGVyKHN0YXRlLCBwYXRoLCBxdWVyeVBhcmFtcyk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgfVxuXHRcdCAgICB9O1xuXHRcdFxuXHRcdCAgICAkJHJvdXRlJHJlY29nbml6ZXIkJFJvdXRlUmVjb2duaXplci5wcm90b3R5cGUubWFwID0gJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkZGVmYXVsdDtcblx0XHRcblx0XHQgICAgJCRyb3V0ZSRyZWNvZ25pemVyJCRSb3V0ZVJlY29nbml6ZXIuVkVSU0lPTiA9ICcwLjEuMTEnO1xuXHRcdFxuXHRcdCAgICB2YXIgJCRyb3V0ZSRyZWNvZ25pemVyJCRkZWZhdWx0ID0gJCRyb3V0ZSRyZWNvZ25pemVyJCRSb3V0ZVJlY29nbml6ZXI7XG5cdFx0XG5cdFx0ICAgIC8qIGdsb2JhbCBkZWZpbmU6dHJ1ZSBtb2R1bGU6dHJ1ZSB3aW5kb3c6IHRydWUgKi9cblx0XHQgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gJ2Z1bmN0aW9uJyAmJiBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpWydhbWQnXSkge1xuXHRcdCAgICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbigpIHsgcmV0dXJuICQkcm91dGUkcmVjb2duaXplciQkZGVmYXVsdDsgfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18sIGV4cG9ydHMsIG1vZHVsZSksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0XHQgICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGVbJ2V4cG9ydHMnXSkge1xuXHRcdCAgICAgIG1vZHVsZVsnZXhwb3J0cyddID0gJCRyb3V0ZSRyZWNvZ25pemVyJCRkZWZhdWx0O1xuXHRcdCAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzICE9PSAndW5kZWZpbmVkJykge1xuXHRcdCAgICAgIHRoaXNbJ1JvdXRlUmVjb2duaXplciddID0gJCRyb3V0ZSRyZWNvZ25pemVyJCRkZWZhdWx0O1xuXHRcdCAgICB9XG5cdFx0fSkuY2FsbCh0aGlzKTtcblx0XHRcblx0XHQvLyMgc291cmNlTWFwcGluZ1VSTD1yb3V0ZS1yZWNvZ25pemVyLmpzLm1hcFxuXHRcdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKG1vZHVsZSkpKVxuXHRcblx0LyoqKi8gfSxcblx0LyogMiAqL1xuXHQvKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblx0XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcclxuXHRcdFx0aWYoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcclxuXHRcdFx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcclxuXHRcdFx0XHRtb2R1bGUucGF0aHMgPSBbXTtcclxuXHRcdFx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcclxuXHRcdFx0XHRtb2R1bGUuY2hpbGRyZW4gPSBbXTtcclxuXHRcdFx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gbW9kdWxlO1xyXG5cdFx0fVxyXG5cdFxuXHRcblx0LyoqKi8gfSxcblx0LyogMyAqL1xuXHQvKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblx0XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiZGVmaW5lIGNhbm5vdCBiZSB1c2VkIGluZGlyZWN0XCIpOyB9O1xyXG5cdFxuXHRcblx0LyoqKi8gfVxuXHQvKioqKioqLyBdKVxuXHR9KTtcblx0O1xuXHQvLyMgc291cmNlTWFwcGluZ1VSTD1yb3V0ZXIuanMubWFwXG5cbi8qKiovIH1cbi8qKioqKiovIF0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG93ZXJiaS5qcy5tYXAiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
