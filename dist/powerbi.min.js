!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){var n=r(1),o=r(6);window.Powerbi=n.PowerBi,window.powerbi=new n.PowerBi(o.hpmFactory,o.wpmpFactory,o.routerFactory)},function(e,t,r){var n=r(2),o=r(4),i=r(5),s=r(3),a=function(){function e(t,r,n,o){void 0===o&&(o={}),this.hpmFactory=t,this.wpmpFactory=r,this.routerFactory=n,this.embeds=[],window.addEventListener("message",this.onReceiveMessage.bind(this),!1),this.config=s.Utils.assign({},e.defaultConfig,o),this.config.autoEmbedOnContentLoaded&&this.enableAutoEmbed()}return e.prototype.init=function(e){var t=this;e=e&&e instanceof HTMLElement?e:document.body;var r=Array.prototype.slice.call(e.querySelectorAll("["+n.Embed.embedUrlAttribute+"]"));r.forEach(function(e){return t.embed(e)})},e.prototype.embed=function(e,t){void 0===t&&(t={});var r,n=e;return r=n.powerBiEmbed?this.embedExisting(n,t):this.embedNew(n,t)},e.prototype.embedNew=function(t,r){var i=this,a=r.type||t.getAttribute(n.Embed.typeAttribute);if(!a)throw new Error("Attempted to embed using config "+JSON.stringify(r)+" on element "+t.outerHTML+", but could not determine what type of component to embed. You must specify a type in the configuration or as an attribute such as '"+n.Embed.typeAttribute+'="'+o.Report.type.toLowerCase()+"\"'.");r.type=a;var u=s.Utils.find(function(e){return a===e.type.toLowerCase()},e.components);if(!u)throw new Error("Attempted to embed component of type: "+a+" but did not find any matching component.  Please verify the type you specified is intended.");r.getGlobalAccessToken=function(){return i.accessToken};var c=new u(this.hpmFactory,this.wpmpFactory,this.routerFactory,t,r);return t.powerBiEmbed=c,this.embeds.push(c),c},e.prototype.embedExisting=function(e,t){var r=s.Utils.find(function(t){return t.element===e},this.embeds);if(!r)throw new Error("Attempted to embed using config "+JSON.stringify(t)+" on element "+e.outerHTML+" which already has embedded comopnent associated, but could not find the existing comopnent in the list of active components. This could indicate the embeds list is out of sync with the DOM, or the component is referencing the incorrect HTML element.");return r.load(t,!0),r},e.prototype.enableAutoEmbed=function(){var e=this;window.addEventListener("DOMContentLoaded",function(t){return e.init(document.body)},!1)},e.prototype.get=function(e){var t=e;if(!t.powerBiEmbed)throw new Error("You attempted to get an instance of powerbi component associated with element: "+e.outerHTML+" but there was no associated instance.");return t.powerBiEmbed},e.prototype.reset=function(e){var t=e;if(t.powerBiEmbed){s.Utils.remove(function(e){return e===t.powerBiEmbed},this.embeds),delete t.powerBiEmbed;var r=e.querySelector("iframe");r&&r.remove()}},e.prototype.onReceiveMessage=function(t){if(t)try{var r=s.Utils.find(function(e){return t.source===e.iframe.contentWindow},this.embeds);if(r){var n="string"==typeof t.data?JSON.parse(t.data):t.data;s.Utils.raiseCustomEvent(r.element,e.eventMap[n.event],n)}}catch(o){if("function"!=typeof this.config.onError)throw o;this.config.onError.call(window,o)}},e.components=[i.Tile,o.Report],e.eventMap={tileClicked:"tile-click",tileLoaded:"tile-load",reportPageLoaded:"report-load"},e.defaultConfig={autoEmbedOnContentLoaded:!1,onError:function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return console.log(e[0],e.slice(1))}},e}();t.PowerBi=a},function(e,t,r){var n=r(3),o=function(){function e(t,r,o,i,s){var a=this;this.element=i,this.options=n.Utils.assign({},e.defaultOptions,s),this.options.accessToken=this.getAccessToken(),this.options.embedUrl=this.getEmbedUrl();var u='<iframe style="width:100%;height:100%;" src="'+this.options.embedUrl+'" scrolling="no" allowfullscreen="true"></iframe>';this.element.innerHTML=u,this.iframe=this.element.childNodes[0],this.iframe.addEventListener("load",function(){return a.load(a.options,!1)},!1),this.wpmp=r(this.iframe.contentWindow,"SdkReportWpmp",!0),this.hpm=t(this.wpmp),this.router=o(this.wpmp)}return e.prototype.load=function(e,t,r){if(void 0===t&&(t=!1),void 0===r&&(r=null),!r)throw new Error("You called load without providing message properties from the concrete embeddable class.");var o={accessToken:e.accessToken};return n.Utils.assign(r,o),this.hpm.post("/report/load",r)["catch"](function(e){throw e.body})},e.prototype.getAccessToken=function(){var t=this.options.accessToken||this.element.getAttribute(e.accessTokenAttribute)||this.options.getGlobalAccessToken();if(!t)throw new Error("No access token was found for element. You must specify an access token directly on the element using attribute '"+e.accessTokenAttribute+"' or specify a global token at: powerbi.accessToken.");return t},e.prototype.getEmbedUrl=function(){var t=this.options.embedUrl||this.element.getAttribute(e.embedUrlAttribute);if("string"!=typeof t||0===t.length)throw new Error("Embed Url is required, but it was not found. You must provide an embed url either as part of embed configuration or as attribute '"+e.embedUrlAttribute+"'.");return t},e.prototype.fullscreen=function(){var e=this.iframe.requestFullscreen||this.iframe.msRequestFullscreen||this.iframe.mozRequestFullScreen||this.iframe.webkitRequestFullscreen;e.call(this.iframe)},e.prototype.exitFullscreen=function(){if(this.isFullscreen(this.iframe)){var e=document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen;e.call(document)}},e.prototype.isFullscreen=function(e){var t=["fullscreenElement","webkitFullscreenElement","mozFullscreenScreenElement","msFullscreenElement"];return t.some(function(t){return document[t]===e})},e.embedUrlAttribute="powerbi-embed-url",e.accessTokenAttribute="powerbi-access-token",e.typeAttribute="powerbi-type",e.defaultOptions={filterPaneEnabled:!0},e}();t.Embed=o},function(e,t){var r=function(){function e(){}return e.raiseCustomEvent=function(e,t,r){var n;if("function"==typeof CustomEvent?n=new CustomEvent(t,{detail:r,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!0,r)),e.dispatchEvent(n),!n.defaultPrevented&&n.returnValue){var o="on"+t.replace("-",""),i=e.getAttribute(o);i&&eval.call(e,i)}},e.findIndex=function(e,t){if(!Array.isArray(t))throw new Error("You attempted to call find with second parameter that was not an array. You passed: "+t);var r;return t.some(function(t,n){return e(t)?(r=n,!0):void 0}),r},e.find=function(t,r){var n=e.findIndex(t,r);return r[n]},e.remove=function(t,r){var n=e.findIndex(t,r);r.splice(n,1)},e.assign=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[0];if(void 0===r||null===r)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(r),o=1;o<arguments.length;o++){var i=arguments[o];if(void 0!==i&&null!==i)for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])}return n},e}();t.Utils=r},function(e,t,r){var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2),i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.addFilter=function(e,t){var r=this.getTargetUrl(t);return this.hpm.post(r+"/filters",e)["catch"](function(e){throw e.body})},t.prototype.getFilters=function(e){var t=this.getTargetUrl(e);return this.hpm.get(t+"/filters").then(function(e){return e.body},function(e){throw e.body})},t.prototype.getPages=function(){return this.hpm.get("/report/pages").then(function(e){return e.body},function(e){throw e.body})},t.prototype.getEmbedUrl=function(){var t=e.prototype.getEmbedUrl.call(this);return this.options.filterPaneEnabled||(t+="&filterPaneEnabled=false"),t},t.prototype.load=function(t,r){if(void 0===r&&(r=!1),r&&"string"!=typeof t.id)throw new Error("id must be specified when loading reports on existing elements.");var n={id:t.id,accessToken:null};return e.prototype.load.call(this,t,r,n)},t.prototype.on=function(e,r){if(-1===t.allowedEvents.indexOf(e))throw new Error("eventName is must be one of "+t.allowedEvents+". You passed: "+e);this.router.post("/report/events/"+e,function(e,t){r(e.body)})},t.prototype.setActivePage=function(e){return this.hpm.put("/report/pages/active",e)["catch"](function(e){throw e.body})},t.prototype.removeFilter=function(e,t){var r=this.getTargetUrl(t);return this.hpm["delete"](r+"/filters",e)["catch"](function(e){throw e.body})},t.prototype.removeAllFilters=function(){return this.hpm["delete"]("/report/filters")["catch"](function(e){throw e.body})},t.prototype.updateFilter=function(e,t){var r=this.getTargetUrl(t);return this.hpm.put(r+"/filters",e)["catch"](function(e){throw e.body})},t.prototype.updateSettings=function(e){return this.hpm.patch("/report/settings",e)["catch"](function(e){throw e.body})},t.prototype.getTargetUrl=function(e){var t;if(e)if("page"===e.type)t="/report/pages/"+e.name;else{if("visual"!==e.type)throw new Error("target.type must be either 'page' or 'visual'. You passed: "+e.type);t="/report/visuals/"+e.id}else t="/report";return t},t.allowedEvents=["dataSelected","filterAdded","filterUpdated","filterRemoved","pageChanged","error"],t.type="Report",t}(o.Embed);t.Report=i},function(e,t,r){var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2),i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.getEmbedUrl=function(){var t=e.prototype.getEmbedUrl.call(this);return t},t.prototype.load=function(t,r){if(void 0===r&&(r=!1),r&&"string"!=typeof t.id)throw new Error("id must be specified when loading reports on existing elements.");var n={id:t.id,accessToken:null};return e.prototype.load.call(this,t,r,n)},t.type="Tile",t}(o.Embed);t.Tile=i},function(e,t,r){var n=r(7),o=r(11),i=r(15);t.hpmFactory=function(e){return new o.HttpPostMessage(e,{origin:"sdk","x-sdk-type":"js","x-sdk-version":"2.0.0"})},t.wpmpFactory=function(e,t,r){return new n.WindowPostMessageProxy(e,{processTrackingProperties:{addTrackingProperties:o.HttpPostMessage.addTrackingProperties,getTrackingProperties:o.HttpPostMessage.getTrackingProperties},isErrorMessage:o.HttpPostMessage.isErrorMessage,name:t,logMessages:r})},t.routerFactory=function(e){return new i.Router(e)}},function(e,t,r){var n,o,i;!function(s){if("object"==typeof e&&"object"==typeof e.exports){var a=s(r(8),t);void 0!==a&&(e.exports=a)}else o=[r,t],n=s,i="function"==typeof n?n.apply(t,o):n,!(void 0!==i&&(e.exports=i))}(function(e,t){"use strict";var r=function(){function e(t,r){var n=this;void 0===r&&(r={processTrackingProperties:{addTrackingProperties:e.defaultAddTrackingProperties,getTrackingProperties:e.defaultGetTrackingProperties},isErrorMessage:e.defaultIsErrorMessage,receiveWindow:window,name:e.createRandomString()}),this.pendingRequestPromises={},this.contentWindow=t,this.addTrackingProperties=r.processTrackingProperties&&r.processTrackingProperties.addTrackingProperties||e.defaultAddTrackingProperties,this.getTrackingProperties=r.processTrackingProperties&&r.processTrackingProperties.getTrackingProperties||e.defaultGetTrackingProperties,this.isErrorMessage=r.isErrorMessage||e.defaultIsErrorMessage,this.receiveWindow=r.receiveWindow||window,this.name=r.name||e.createRandomString(),this.logMessages=r.logMessages||!1,this.handlers=[],this.windowMessageHandler=function(e){return n.onMessageReceived(e)},this.start()}return e.defaultAddTrackingProperties=function(t,r){return t[e.messagePropertyName]=r,t},e.defaultGetTrackingProperties=function(t){return t[e.messagePropertyName]},e.defaultIsErrorMessage=function(e){return!!e.error},e.prototype.addHandler=function(e){this.handlers.push(e)},e.prototype.removeHandler=function(e){var t=this.handlers.indexOf(e);if(-1==t)throw new Error("You attempted to remove a handler but no matching handler was found.");this.handlers.splice(t,1)},e.prototype.start=function(){this.receiveWindow.addEventListener("message",this.windowMessageHandler)},e.prototype.stop=function(){this.receiveWindow.removeEventListener("message",this.windowMessageHandler)},e.prototype.postMessage=function(t){var r={id:e.createRandomString()};this.addTrackingProperties(t,r),this.logMessages&&(console.log(this.name+" Posting message:"),console.log(JSON.stringify(t,null,"  "))),this.contentWindow.postMessage(t,"*");var n=e.createDeferred();return this.pendingRequestPromises[r.id]=n,n.promise},e.prototype.sendResponse=function(e,t){this.addTrackingProperties(e,t),this.logMessages&&(console.log(this.name+" Sending response:"),console.log(JSON.stringify(e,null,"  "))),this.contentWindow.postMessage(e,"*")},e.prototype.onMessageReceived=function(e){var t=this;this.logMessages&&(console.log(this.name+" Received message:"),console.log("type: "+e.type),console.log(JSON.stringify(e.data,null,"  ")));var r=e.data,n=this.getTrackingProperties(r);if(n){var o=this.pendingRequestPromises[n.id];if(o)this.isErrorMessage(r)?o.reject(r):o.resolve(r),delete this.pendingRequestPromises[n.id];else{var i=this.handlers.some(function(e){return e.test(r)?(Promise.resolve(e.handle(r)).then(function(e){t.sendResponse(e,n)}),!0):void 0});i||console.warn("Proxy("+this.name+") did not handle message. Handlers: "+this.handlers.length+"  Message: "+JSON.stringify(r,null,"")+".")}}},e.createDeferred=function(){var e={resolve:null,reject:null,promise:null},t=new Promise(function(t,r){e.resolve=t,e.reject=r});return e.promise=t,e},e.createRandomString=function(){return(Math.random()+1).toString(36).substring(7)},e.messagePropertyName="windowPostMessageProxy",e}();t.WindowPostMessageProxy=r})},function(e,t,r){function n(e){return r(o(e))}function o(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./windowPostMessageProxy":7,"./windowPostMessageProxy.js":7};n.keys=function(){return Object.keys(i)},n.resolve=o,e.exports=n,n.id=8},,,function(e,t,r){var n,o,i;!function(s){if("object"==typeof e&&"object"==typeof e.exports){var a=s(r(12),t);void 0!==a&&(e.exports=a)}else o=[r,t],n=s,i="function"==typeof n?n.apply(t,o):n,!(void 0!==i&&(e.exports=i))}(function(e,t){"use strict";var r=function(){function e(e,t){void 0===t&&(t={}),this.defaultHeaders=t,this.windowPostMessageProxy=e}return e.addTrackingProperties=function(e,t){return e.headers=e.headers||{},e.headers.id=t.id,e},e.getTrackingProperties=function(e){return{id:e.headers.id}},e.isErrorMessage=function(e){return!(200<=e.statusCode&&e.statusCode<300)},e.prototype.get=function(e,t){return void 0===t&&(t={}),this.send({method:"GET",url:e,headers:t})},e.prototype.post=function(e,t,r){return void 0===r&&(r={}),this.send({method:"POST",url:e,headers:r,body:t})},e.prototype.put=function(e,t,r){return void 0===r&&(r={}),this.send({method:"PUT",url:e,headers:r,body:t})},e.prototype.patch=function(e,t,r){return void 0===r&&(r={}),this.send({method:"PATCH",url:e,headers:r,body:t})},e.prototype["delete"]=function(e,t){return void 0===t&&(t={}),this.send({method:"DELETE",url:e,headers:t})},e.prototype.send=function(e){return this.assign(e.headers,this.defaultHeaders),this.windowPostMessageProxy.postMessage(e)},e.prototype.assign=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");var n=Object(e);return t.forEach(function(e){if(void 0!==e&&null!==e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}),n},e}();t.HttpPostMessage=r})},function(e,t,r){function n(e){return r(o(e))}function o(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./httpPostMessage":11,"./httpPostMessage.js":11};n.keys=function(){return Object.keys(i)},n.resolve=o,e.exports=n,n.id=12},,,function(e,t,r){!function(t,r){e.exports=r()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";var n=r(1),o=function(){function e(e){this.handlers=e,this.getRouteRecognizer=new n,this.patchRouteRecognizer=new n,this.postRouteRecognizer=new n,this.putRouteRecognizer=new n,this.deleteRouteRecognizer=new n}return e.prototype.get=function(e,t){return this.registerHandler(this.getRouteRecognizer,"GET",e,t),this},e.prototype.patch=function(e,t){return this.registerHandler(this.patchRouteRecognizer,"PATCH",e,t),this},e.prototype.post=function(e,t){return this.registerHandler(this.postRouteRecognizer,"POST",e,t),this},e.prototype.put=function(e,t){return this.registerHandler(this.putRouteRecognizer,"PUT",e,t),this},e.prototype["delete"]=function(e,t){return this.registerHandler(this.deleteRouteRecognizer,"DELETE",e,t),this},e.prototype.registerHandler=function(e,t,r,n){var o=function(e){var t=new i;return Promise.resolve(n(e,t)).then(function(e){return t})};e.add([{path:r,handler:o}]);var s={test:function(r){if(r.method!==t)return!1;var n=e.recognize(r.url);if(void 0===n)return!1;var o=n[0];return r.params=o.params,r.queryParams=n.queryParams,r.handler=o.handler,!0},handle:function(e){return e.handler(e)}};this.handlers.addHandler(s)},e}();t.Router=o;var i=function(){function e(){this.statusCode=200,this.headers={},this.body=null}return e.prototype.send=function(e,t){this.statusCode=e,this.body=t},e}();t.Response=i},function(e,t,r){var n;(function(e){(function(){"use strict";function o(e,t,r){this.path=e,this.matcher=t,this.delegate=r}function i(e){this.routes={},this.children={},this.target=e}function s(e,t,r){return function(n,i){var a=e+n;return i?void i(s(a,t,r)):new o(e+n,t,r)}}function a(e,t,r){for(var n=0,o=0;o<e.length;o++)n+=e[o].path.length;t=t.substr(n);var i={path:t,handler:r};e.push(i)}function u(e,t,r,n){var o=t.routes;for(var i in o)if(o.hasOwnProperty(i)){var s=e.slice();a(s,i,o[i]),t.children[i]?u(s,t.children[i],r,n):r.call(n,s)}}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e){this.string=e}function p(e){this.name=e}function h(e){this.name=e}function l(){}function f(e,t,r){"/"===e.charAt(0)&&(e=e.substr(1));var n=e.split("/"),o=new Array(n.length);r.val="";for(var i=0;i<n.length;i++){var s,a=n[i];(s=a.match(/^:([^\/]+)$/))?(o[i]=new p(s[1]),t.push(s[1]),r.val+="3"):(s=a.match(/^\*([^\/]+)$/))?(o[i]=new h(s[1]),r.val+="1",t.push(s[1])):""===a?(o[i]=new l,r.val+="2"):(o[i]=new d(a),r.val+="4")}return r.val=+r.val,o}function g(e){this.charSpec=e,this.nextStates=[],this.charSpecs={},this.regex=void 0,this.handlers=void 0,this.specificity=void 0}function m(e){return e.sort(function(e,t){return t.specificity.val-e.specificity.val})}function v(e,t){for(var r=[],n=0,o=e.length;o>n;n++){var i=e[n];r=r.concat(i.match(t))}return r}function y(e){this.queryParams=e||{}}function w(e,t,r){var n=e.handlers,o=e.regex,i=t.match(o),s=1,a=new y(r);a.length=n.length;for(var u=0;u<n.length;u++){for(var c=n[u],d=c.names,p={},h=0;h<d.length;h++)p[d[h]]=i[s++];a[u]={handler:c.handler,params:p,isDynamic:!!d.length}}return a}function b(e){e=e.replace(/\+/gm,"%20");var t;try{t=decodeURIComponent(e)}catch(r){t=""}return t}o.prototype={to:function(e,t){var r=this.delegate;if(r&&r.willAddRoute&&(e=r.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),t){if(0===t.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,e,t,this.delegate)}return this}},i.prototype={add:function(e,t){this.routes[e]=t},addChild:function(e,t,r,n){var o=new i(t);this.children[e]=o;var a=s(e,o,n);n&&n.contextEntered&&n.contextEntered(t,a),r(a)}};var E=function(e,t){var r=new i;e(s("",r,this.delegate)),u([],r,function(e){t?t(this,e):this.add(e)},this)},P=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],x=new RegExp("(\\"+P.join("|\\")+")","g");d.prototype={eachChar:function(e){for(var t,r=this.string,n=0;n<r.length;n++)t=r.charAt(n),e=e.put({invalidChars:void 0,repeat:!1,validChars:t});return e},regex:function(){return this.string.replace(x,"\\$1")},generate:function(){return this.string}},p.prototype={eachChar:function(e){return e.put({invalidChars:"/",repeat:!0,validChars:void 0})},regex:function(){return"([^/]+)"},generate:function(e){return e[this.name]}},h.prototype={eachChar:function(e){return e.put({invalidChars:"",repeat:!0,validChars:void 0})},regex:function(){return"(.+)"},generate:function(e){return e[this.name]}},l.prototype={eachChar:function(e){return e},regex:function(){return""},generate:function(){return""}},g.prototype={get:function(e){if(this.charSpecs[e.validChars])return this.charSpecs[e.validChars];for(var t=this.nextStates,r=0;r<t.length;r++){var n=t[r],o=n.charSpec.validChars===e.validChars;if(o=o&&n.charSpec.invalidChars===e.invalidChars)return this.charSpecs[e.validChars]=n,n}},put:function(e){var t;return(t=this.get(e))?t:(t=new g(e),this.nextStates.push(t),e.repeat&&t.nextStates.push(t),t)},match:function(e){for(var t,r,n,o=this.nextStates,i=[],s=0;s<o.length;s++)t=o[s],r=t.charSpec,"undefined"!=typeof(n=r.validChars)?-1!==n.indexOf(e)&&i.push(t):"undefined"!=typeof(n=r.invalidChars)&&-1===n.indexOf(e)&&i.push(t);return i}};var T=Object.create||function(e){function t(){}return t.prototype=e,new t};y.prototype=T({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var k=function(){this.rootState=new g,this.names={}};k.prototype={add:function(e,t){for(var r,n=this.rootState,o="^",i={},s=new Array(e.length),a=[],u=!0,c=0;c<e.length;c++){var d=e[c],p=[],h=f(d.path,p,i);a=a.concat(h);for(var g=0;g<h.length;g++){var m=h[g];m instanceof l||(u=!1,n=n.put({invalidChars:void 0,repeat:!1,validChars:"/"}),o+="/",n=m.eachChar(n),o+=m.regex())}var v={handler:d.handler,names:p};s[c]=v}u&&(n=n.put({invalidChars:void 0,repeat:!1,validChars:"/"}),o+="/"),n.handlers=s,n.regex=new RegExp(o+"$"),n.specificity=i,(r=t&&t.as)&&(this.names[r]={segments:a,handlers:s})},handlersFor:function(e){var t=this.names[e];if(!t)throw new Error("There is no route named "+e);for(var r=new Array(t.handlers.length),n=0;n<t.handlers.length;n++)r[n]=t.handlers[n];return r},hasRoute:function(e){return!!this.names[e]},generate:function(e,t){var r=this.names[e],n="";if(!r)throw new Error("There is no route named "+e);for(var o=r.segments,i=0;i<o.length;i++){var s=o[i];s instanceof l||(n+="/",n+=s.generate(t))}return"/"!==n.charAt(0)&&(n="/"+n),t&&t.queryParams&&(n+=this.generateQueryString(t.queryParams,r.handlers)),n},generateQueryString:function(e,t){var r=[],n=[];for(var o in e)e.hasOwnProperty(o)&&n.push(o);n.sort();for(var i=0;i<n.length;i++){o=n[i];var s=e[o];if(null!=s){var a=encodeURIComponent(o);if(c(s))for(var u=0;u<s.length;u++){var d=o+"[]="+encodeURIComponent(s[u]);r.push(d)}else a+="="+encodeURIComponent(s),r.push(a)}}return 0===r.length?"":"?"+r.join("&")},parseQueryString:function(e){for(var t=e.split("&"),r={},n=0;n<t.length;n++){var o,i=t[n].split("="),s=b(i[0]),a=s.length,u=!1;1===i.length?o="true":(a>2&&"[]"===s.slice(a-2)&&(u=!0,s=s.slice(0,a-2),r[s]||(r[s]=[])),o=i[1]?b(i[1]):""),u?r[s].push(o):r[s]=o}return r},recognize:function(e){var t,r,n,o=[this.rootState],i={},s=!1;if(n=e.indexOf("?"),-1!==n){var a=e.substr(n+1,e.length);e=e.substr(0,n),i=this.parseQueryString(a)}for(e=decodeURI(e),"/"!==e.charAt(0)&&(e="/"+e),t=e.length,t>1&&"/"===e.charAt(t-1)&&(e=e.substr(0,t-1),s=!0),r=0;r<e.length&&(o=v(o,e.charAt(r)),o.length);r++);var u=[];for(r=0;r<o.length;r++)o[r].handlers&&u.push(o[r]);o=m(u);var c=u[0];return c&&c.handlers?(s&&"(.+)$"===c.regex.source.slice(-5)&&(e+="/"),w(c,e,i)):void 0}},k.prototype.map=E,k.VERSION="0.1.11";var R=k;r(3).amd?(n=function(){return R}.call(t,r,t,e),!(void 0!==n&&(e.exports=n))):"undefined"!=typeof e&&e.exports?e.exports=R:"undefined"!=typeof this&&(this.RouteRecognizer=R)}).call(this)}).call(t,r(2)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}}])})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvd2VyYmkuanMiXSwibmFtZXMiOlsibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJleHBvcnRzIiwibW9kdWxlIiwiaWQiLCJsb2FkZWQiLCJjYWxsIiwibSIsImMiLCJwIiwiY29yZV8xIiwiZmFjdG9yaWVzIiwid2luZG93IiwiUG93ZXJiaSIsIlBvd2VyQmkiLCJwb3dlcmJpIiwiaHBtRmFjdG9yeSIsIndwbXBGYWN0b3J5Iiwicm91dGVyRmFjdG9yeSIsImVtYmVkXzEiLCJyZXBvcnRfMSIsInRpbGVfMSIsInV0aWxfMSIsImNvbmZpZyIsInRoaXMiLCJlbWJlZHMiLCJhZGRFdmVudExpc3RlbmVyIiwib25SZWNlaXZlTWVzc2FnZSIsImJpbmQiLCJVdGlscyIsImFzc2lnbiIsImRlZmF1bHRDb25maWciLCJhdXRvRW1iZWRPbkNvbnRlbnRMb2FkZWQiLCJlbmFibGVBdXRvRW1iZWQiLCJwcm90b3R5cGUiLCJpbml0IiwiY29udGFpbmVyIiwiX3RoaXMiLCJIVE1MRWxlbWVudCIsImRvY3VtZW50IiwiYm9keSIsImVsZW1lbnRzIiwiQXJyYXkiLCJzbGljZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJFbWJlZCIsImVtYmVkVXJsQXR0cmlidXRlIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJlbWJlZCIsImNvbXBvbmVudCIsInBvd2VyQmlFbGVtZW50IiwicG93ZXJCaUVtYmVkIiwiZW1iZWRFeGlzdGluZyIsImVtYmVkTmV3IiwiY29tcG9uZW50VHlwZSIsInR5cGUiLCJnZXRBdHRyaWJ1dGUiLCJ0eXBlQXR0cmlidXRlIiwiRXJyb3IiLCJKU09OIiwic3RyaW5naWZ5Iiwib3V0ZXJIVE1MIiwiUmVwb3J0IiwidG9Mb3dlckNhc2UiLCJDb21wb25lbnQiLCJmaW5kIiwiY29tcG9uZW50cyIsImdldEdsb2JhbEFjY2Vzc1Rva2VuIiwiYWNjZXNzVG9rZW4iLCJwdXNoIiwieCIsImxvYWQiLCJldmVudCIsImdldCIsInJlc2V0IiwicmVtb3ZlIiwiaWZyYW1lIiwicXVlcnlTZWxlY3RvciIsInNvdXJjZSIsImNvbnRlbnRXaW5kb3ciLCJtZXNzYWdlRGF0YSIsImRhdGEiLCJwYXJzZSIsInJhaXNlQ3VzdG9tRXZlbnQiLCJldmVudE1hcCIsImUiLCJvbkVycm9yIiwiVGlsZSIsInRpbGVDbGlja2VkIiwidGlsZUxvYWRlZCIsInJlcG9ydFBhZ2VMb2FkZWQiLCJhcmdzIiwiX2kiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJjb25zb2xlIiwibG9nIiwib3B0aW9ucyIsImRlZmF1bHRPcHRpb25zIiwiZ2V0QWNjZXNzVG9rZW4iLCJlbWJlZFVybCIsImdldEVtYmVkVXJsIiwiaWZyYW1lSHRtbCIsImlubmVySFRNTCIsImNoaWxkTm9kZXMiLCJ3cG1wIiwiaHBtIiwicm91dGVyIiwicmVxdWlyZUlkIiwibWVzc2FnZSIsImJhc2VNZXNzYWdlIiwicG9zdCIsInJlc3BvbnNlIiwiYWNjZXNzVG9rZW5BdHRyaWJ1dGUiLCJmdWxsc2NyZWVuIiwicmVxdWVzdEZ1bGxTY3JlZW4iLCJyZXF1ZXN0RnVsbHNjcmVlbiIsIm1zUmVxdWVzdEZ1bGxzY3JlZW4iLCJtb3pSZXF1ZXN0RnVsbFNjcmVlbiIsIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuIiwiZXhpdEZ1bGxzY3JlZW4iLCJpc0Z1bGxzY3JlZW4iLCJtb3pDYW5jZWxGdWxsU2NyZWVuIiwid2Via2l0RXhpdEZ1bGxzY3JlZW4iLCJtc0V4aXRGdWxsc2NyZWVuIiwic29tZSIsIm9wdGlvbiIsImZpbHRlclBhbmVFbmFibGVkIiwiZXZlbnROYW1lIiwiZXZlbnREYXRhIiwiY3VzdG9tRXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiY3JlYXRlRXZlbnQiLCJpbml0Q3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiZGVmYXVsdFByZXZlbnRlZCIsInJldHVyblZhbHVlIiwiaW5saW5lRXZlbnRBdHRyIiwicmVwbGFjZSIsImlubGluZVNjcmlwdCIsImV2YWwiLCJmaW5kSW5kZXgiLCJwcmVkaWNhdGUiLCJ4cyIsImlzQXJyYXkiLCJpbmRleCIsImkiLCJzcGxpY2UiLCJ0YXJnZXQiLCJ1bmRlZmluZWQiLCJUeXBlRXJyb3IiLCJvdXRwdXQiLCJPYmplY3QiLCJuZXh0S2V5IiwiaGFzT3duUHJvcGVydHkiLCJfX2V4dGVuZHMiLCJkIiwiYiIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJfc3VwZXIiLCJhcHBseSIsImFkZEZpbHRlciIsImZpbHRlciIsInRhcmdldFVybCIsImdldFRhcmdldFVybCIsImdldEZpbHRlcnMiLCJ0aGVuIiwiZ2V0UGFnZXMiLCJvbiIsImhhbmRsZXIiLCJhbGxvd2VkRXZlbnRzIiwiaW5kZXhPZiIsInJlcyIsInJlcSIsInNldEFjdGl2ZVBhZ2UiLCJwYWdlIiwicHV0IiwicmVtb3ZlRmlsdGVyIiwicmVtb3ZlQWxsRmlsdGVycyIsInVwZGF0ZUZpbHRlciIsInVwZGF0ZVNldHRpbmdzIiwic2V0dGluZ3MiLCJwYXRjaCIsIm5hbWUiLCJIdHRwUG9zdE1lc3NhZ2UiLCJvcmlnaW4iLCJ4LXNkay10eXBlIiwieC1zZGstdmVyc2lvbiIsImxvZ01lc3NhZ2VzIiwiV2luZG93UG9zdE1lc3NhZ2VQcm94eSIsInByb2Nlc3NUcmFja2luZ1Byb3BlcnRpZXMiLCJhZGRUcmFja2luZ1Byb3BlcnRpZXMiLCJnZXRUcmFja2luZ1Byb3BlcnRpZXMiLCJpc0Vycm9yTWVzc2FnZSIsIlJvdXRlciIsIl9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsImZhY3RvcnkiLCJ2IiwicmVxdWlyZSIsImRlZmF1bHRBZGRUcmFja2luZ1Byb3BlcnRpZXMiLCJkZWZhdWx0R2V0VHJhY2tpbmdQcm9wZXJ0aWVzIiwiZGVmYXVsdElzRXJyb3JNZXNzYWdlIiwicmVjZWl2ZVdpbmRvdyIsImNyZWF0ZVJhbmRvbVN0cmluZyIsInBlbmRpbmdSZXF1ZXN0UHJvbWlzZXMiLCJoYW5kbGVycyIsIndpbmRvd01lc3NhZ2VIYW5kbGVyIiwib25NZXNzYWdlUmVjZWl2ZWQiLCJzdGFydCIsInRyYWNraW5nUHJvcGVydGllcyIsIm1lc3NhZ2VQcm9wZXJ0eU5hbWUiLCJlcnJvciIsImFkZEhhbmRsZXIiLCJyZW1vdmVIYW5kbGVyIiwiaGFuZGxlckluZGV4Iiwic3RvcCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwb3N0TWVzc2FnZSIsImRlZmVycmVkIiwiY3JlYXRlRGVmZXJyZWQiLCJwcm9taXNlIiwic2VuZFJlc3BvbnNlIiwicmVqZWN0IiwicmVzb2x2ZSIsImhhbmRsZWQiLCJ0ZXN0IiwiUHJvbWlzZSIsImhhbmRsZSIsInJlc3BvbnNlTWVzc2FnZSIsIndhcm4iLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJ3ZWJwYWNrQ29udGV4dCIsIndlYnBhY2tDb250ZXh0UmVzb2x2ZSIsIm1hcCIsIi4vd2luZG93UG9zdE1lc3NhZ2VQcm94eSIsIi4vd2luZG93UG9zdE1lc3NhZ2VQcm94eS5qcyIsImtleXMiLCJ3aW5kb3dQb3N0TWVzc2FnZVByb3h5IiwiZGVmYXVsdEhlYWRlcnMiLCJoZWFkZXJzIiwic3RhdHVzQ29kZSIsInVybCIsInNlbmQiLCJtZXRob2QiLCJyZXF1ZXN0Iiwic291cmNlcyIsIi4vaHR0cFBvc3RNZXNzYWdlIiwiLi9odHRwUG9zdE1lc3NhZ2UuanMiLCJyb290IiwiUm91dGVSZWNvZ25pemVyIiwiZ2V0Um91dGVSZWNvZ25pemVyIiwicGF0Y2hSb3V0ZVJlY29nbml6ZXIiLCJwb3N0Um91dGVSZWNvZ25pemVyIiwicHV0Um91dGVSZWNvZ25pemVyIiwiZGVsZXRlUm91dGVSZWNvZ25pemVyIiwicmVnaXN0ZXJIYW5kbGVyIiwicm91dGVSZWNvZ25pemVyIiwicm91dGVSZWNvZ25pemVySGFuZGxlciIsIlJlc3BvbnNlIiwiYWRkIiwicGF0aCIsImludGVybmFsSGFuZGxlciIsIm1hdGNoaW5nUm91dGVzIiwicmVjb2duaXplIiwicm91dGUiLCJwYXJhbXMiLCJxdWVyeVBhcmFtcyIsIiQkcm91dGUkcmVjb2duaXplciRkc2wkJFRhcmdldCIsIm1hdGNoZXIiLCJkZWxlZ2F0ZSIsIiQkcm91dGUkcmVjb2duaXplciRkc2wkJE1hdGNoZXIiLCJyb3V0ZXMiLCJjaGlsZHJlbiIsIiQkcm91dGUkcmVjb2duaXplciRkc2wkJGdlbmVyYXRlTWF0Y2giLCJzdGFydGluZ1BhdGgiLCJuZXN0ZWRDYWxsYmFjayIsImZ1bGxQYXRoIiwiJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkYWRkUm91dGUiLCJyb3V0ZUFycmF5IiwibGVuIiwic3Vic3RyIiwiJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkZWFjaFJvdXRlIiwiYmFzZVJvdXRlIiwiY2FsbGJhY2siLCJiaW5kaW5nIiwiJCRyb3V0ZSRyZWNvZ25pemVyJCRpc0FycmF5IiwiJCRyb3V0ZSRyZWNvZ25pemVyJCRTdGF0aWNTZWdtZW50Iiwic3RyaW5nIiwiJCRyb3V0ZSRyZWNvZ25pemVyJCREeW5hbWljU2VnbWVudCIsIiQkcm91dGUkcmVjb2duaXplciQkU3RhclNlZ21lbnQiLCIkJHJvdXRlJHJlY29nbml6ZXIkJEVwc2lsb25TZWdtZW50IiwiJCRyb3V0ZSRyZWNvZ25pemVyJCRwYXJzZSIsIm5hbWVzIiwic3BlY2lmaWNpdHkiLCJjaGFyQXQiLCJzZWdtZW50cyIsInNwbGl0IiwicmVzdWx0cyIsInZhbCIsIm1hdGNoIiwic2VnbWVudCIsIiQkcm91dGUkcmVjb2duaXplciQkU3RhdGUiLCJjaGFyU3BlYyIsIm5leHRTdGF0ZXMiLCJjaGFyU3BlY3MiLCJyZWdleCIsIiQkcm91dGUkcmVjb2duaXplciQkc29ydFNvbHV0aW9ucyIsInN0YXRlcyIsInNvcnQiLCJhIiwiJCRyb3V0ZSRyZWNvZ25pemVyJCRyZWNvZ25pemVDaGFyIiwiY2giLCJsIiwic3RhdGUiLCJjb25jYXQiLCIkJHJvdXRlJHJlY29nbml6ZXIkJFJlY29nbml6ZVJlc3VsdHMiLCIkJHJvdXRlJHJlY29nbml6ZXIkJGZpbmRIYW5kbGVyIiwiY2FwdHVyZXMiLCJjdXJyZW50Q2FwdHVyZSIsInJlc3VsdCIsImoiLCJpc0R5bmFtaWMiLCIkJHJvdXRlJHJlY29nbml6ZXIkJGRlY29kZVF1ZXJ5UGFyYW1QYXJ0IiwicGFydCIsImRlY29kZVVSSUNvbXBvbmVudCIsInRvIiwid2lsbEFkZFJvdXRlIiwiYWRkQ2hpbGQiLCJjb250ZXh0RW50ZXJlZCIsIiQkcm91dGUkcmVjb2duaXplciRkc2wkJGRlZmF1bHQiLCJhZGRSb3V0ZUNhbGxiYWNrIiwiJCRyb3V0ZSRyZWNvZ25pemVyJCRzcGVjaWFscyIsIiQkcm91dGUkcmVjb2duaXplciQkZXNjYXBlUmVnZXgiLCJSZWdFeHAiLCJqb2luIiwiZWFjaENoYXIiLCJjdXJyZW50U3RhdGUiLCJpbnZhbGlkQ2hhcnMiLCJyZXBlYXQiLCJ2YWxpZENoYXJzIiwiZ2VuZXJhdGUiLCJjaGlsZCIsImlzRXF1YWwiLCJjaGFycyIsInJldHVybmVkIiwiJCRyb3V0ZSRyZWNvZ25pemVyJCRvQ3JlYXRlIiwicHJvdG8iLCJGIiwiJCRyb3V0ZSRyZWNvZ25pemVyJCRSb3V0ZVJlY29nbml6ZXIiLCJyb290U3RhdGUiLCJhbGxTZWdtZW50cyIsImlzRW1wdHkiLCJhcyIsImhhbmRsZXJzRm9yIiwiaGFzUm91dGUiLCJnZW5lcmF0ZVF1ZXJ5U3RyaW5nIiwicGFpcnMiLCJrZXkiLCJ2YWx1ZSIsInBhaXIiLCJlbmNvZGVVUklDb21wb25lbnQiLCJhcnJheVBhaXIiLCJwYXJzZVF1ZXJ5U3RyaW5nIiwicXVlcnlTdHJpbmciLCJrZXlMZW5ndGgiLCJwYXRoTGVuIiwicXVlcnlTdGFydCIsImlzU2xhc2hEcm9wcGVkIiwiZGVjb2RlVVJJIiwic29sdXRpb25zIiwiVkVSU0lPTiIsIiQkcm91dGUkcmVjb2duaXplciQkZGVmYXVsdCIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsInBhdGhzIl0sIm1hcHBpbmdzIjoiQ0FBUyxTQUFVQSxHQUtULFFBQVNDLEdBQW9CQyxHQUc1QixHQUFHQyxFQUFpQkQsR0FDbkIsTUFBT0MsR0FBaUJELEdBQVVFLE9BR25DLElBQUlDLEdBQVNGLEVBQWlCRCxJQUM3QkUsV0FDQUUsR0FBSUosRUFDSkssUUFBUSxFQVVULE9BTkFQLEdBQVFFLEdBQVVNLEtBQUtILEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNILEdBRy9ESSxFQUFPRSxRQUFTLEVBR1RGLEVBQU9ELFFBdkJmLEdBQUlELEtBcUNKLE9BVEFGLEdBQW9CUSxFQUFJVCxFQUd4QkMsRUFBb0JTLEVBQUlQLEVBR3hCRixFQUFvQlUsRUFBSSxHQUdqQlYsRUFBb0IsS0FLL0IsU0FBU0ksRUFBUUQsRUFBU0gsR0FFL0IsR0FBSVcsR0FBU1gsRUFBb0IsR0FDN0JZLEVBQVlaLEVBQW9CLEVBTXBDYSxRQUFPQyxRQUFVSCxFQUFPSSxRQUN4QkYsT0FBT0csUUFBVSxHQUFJTCxHQUFPSSxRQUFRSCxFQUFVSyxXQUFZTCxFQUFVTSxZQUFhTixFQUFVTyxnQkFLdEYsU0FBU2YsRUFBUUQsRUFBU0gsR0FFL0IsR0FBSW9CLEdBQVVwQixFQUFvQixHQUM5QnFCLEVBQVdyQixFQUFvQixHQUMvQnNCLEVBQVN0QixFQUFvQixHQUM3QnVCLEVBQVN2QixFQUFvQixHQUM3QmUsRUFBVyxXQUNYLFFBQVNBLEdBQVFFLEVBQVlDLEVBQWFDLEVBQWVLLEdBQ3RDLFNBQVhBLElBQXFCQSxNQUN6QkMsS0FBS1IsV0FBYUEsRUFDbEJRLEtBQUtQLFlBQWNBLEVBQ25CTyxLQUFLTixjQUFnQkEsRUFDckJNLEtBQUtDLFVBQ0xiLE9BQU9jLGlCQUFpQixVQUFXRixLQUFLRyxpQkFBaUJDLEtBQUtKLE9BQU8sR0FFckVBLEtBQUtELE9BQVNELEVBQU9PLE1BQU1DLFVBQVdoQixFQUFRaUIsY0FBZVIsR0FDekRDLEtBQUtELE9BQU9TLDBCQUNaUixLQUFLUyxrQkFxS2IsTUE3SkFuQixHQUFRb0IsVUFBVUMsS0FBTyxTQUFVQyxHQUMvQixHQUFJQyxHQUFRYixJQUNaWSxHQUFhQSxHQUFhQSxZQUFxQkUsYUFBZUYsRUFBWUcsU0FBU0MsSUFDbkYsSUFBSUMsR0FBV0MsTUFBTVIsVUFBVVMsTUFBTXJDLEtBQUs4QixFQUFVUSxpQkFBaUIsSUFBTXpCLEVBQVEwQixNQUFNQyxrQkFBb0IsS0FDN0dMLEdBQVNNLFFBQVEsU0FBVUMsR0FBVyxNQUFPWCxHQUFNWSxNQUFNRCxNQU83RGxDLEVBQVFvQixVQUFVZSxNQUFRLFNBQVVELEVBQVN6QixHQUMxQixTQUFYQSxJQUFxQkEsS0FDekIsSUFBSTJCLEdBQ0FDLEVBQWlCSCxDQU9yQixPQUxJRSxHQURBQyxFQUFlQyxhQUNINUIsS0FBSzZCLGNBQWNGLEVBQWdCNUIsR0FHbkNDLEtBQUs4QixTQUFTSCxFQUFnQjVCLElBUWxEVCxFQUFRb0IsVUFBVW9CLFNBQVcsU0FBVU4sRUFBU3pCLEdBQzVDLEdBQUljLEdBQVFiLEtBQ1IrQixFQUFnQmhDLEVBQU9pQyxNQUFRUixFQUFRUyxhQUFhdEMsRUFBUTBCLE1BQU1hLGNBQ3RFLEtBQUtILEVBQ0QsS0FBTSxJQUFJSSxPQUFNLG1DQUFxQ0MsS0FBS0MsVUFBVXRDLEdBQVUsZUFBaUJ5QixFQUFRYyxVQUFZLHVJQUF5STNDLEVBQVEwQixNQUFNYSxjQUFnQixLQUFRdEMsRUFBUzJDLE9BQU9QLEtBQUtRLGNBQWdCLE9BRzNVekMsR0FBT2lDLEtBQU9ELENBQ2QsSUFBSVUsR0FBWTNDLEVBQU9PLE1BQU1xQyxLQUFLLFNBQVVoQixHQUFhLE1BQU9LLEtBQWtCTCxFQUFVTSxLQUFLUSxlQUFrQmxELEVBQVFxRCxXQUMzSCxLQUFLRixFQUNELEtBQU0sSUFBSU4sT0FBTSx5Q0FBMkNKLEVBQWdCLCtGQUsvRWhDLEdBQU82QyxxQkFBdUIsV0FBYyxNQUFPL0IsR0FBTWdDLFlBQ3pELElBQUluQixHQUFZLEdBQUllLEdBQVV6QyxLQUFLUixXQUFZUSxLQUFLUCxZQUFhTyxLQUFLTixjQUFlOEIsRUFBU3pCLEVBRzlGLE9BRkF5QixHQUFRSSxhQUFlRixFQUN2QjFCLEtBQUtDLE9BQU82QyxLQUFLcEIsR0FDVkEsR0FFWHBDLEVBQVFvQixVQUFVbUIsY0FBZ0IsU0FBVUwsRUFBU3pCLEdBQ2pELEdBQUkyQixHQUFZNUIsRUFBT08sTUFBTXFDLEtBQUssU0FBVUssR0FBSyxNQUFPQSxHQUFFdkIsVUFBWUEsR0FBWXhCLEtBQUtDLE9BQ3ZGLEtBQUt5QixFQUNELEtBQU0sSUFBSVMsT0FBTSxtQ0FBcUNDLEtBQUtDLFVBQVV0QyxHQUFVLGVBQWlCeUIsRUFBUWMsVUFBWSw2UEFHdkgsT0FEQVosR0FBVXNCLEtBQUtqRCxHQUFRLEdBQ2hCMkIsR0FPWHBDLEVBQVFvQixVQUFVRCxnQkFBa0IsV0FDaEMsR0FBSUksR0FBUWIsSUFDWlosUUFBT2MsaUJBQWlCLG1CQUFvQixTQUFVK0MsR0FBUyxNQUFPcEMsR0FBTUYsS0FBS0ksU0FBU0MsUUFBVSxJQUt4RzFCLEVBQVFvQixVQUFVd0MsSUFBTSxTQUFVMUIsR0FDOUIsR0FBSUcsR0FBaUJILENBQ3JCLEtBQUtHLEVBQWVDLGFBQ2hCLEtBQU0sSUFBSU8sT0FBTSxrRkFBb0ZYLEVBQVFjLFVBQVkseUNBRTVILE9BQU9YLEdBQWVDLGNBSzFCdEMsRUFBUW9CLFVBQVV5QyxNQUFRLFNBQVUzQixHQUNoQyxHQUFJRyxHQUFpQkgsQ0FDckIsSUFBS0csRUFBZUMsYUFBcEIsQ0FJQTlCLEVBQU9PLE1BQU0rQyxPQUFPLFNBQVVMLEdBQUssTUFBT0EsS0FBTXBCLEVBQWVDLGNBQWlCNUIsS0FBS0MsY0FFOUUwQixHQUFlQyxZQUV0QixJQUFJeUIsR0FBUzdCLEVBQVE4QixjQUFjLFNBQy9CRCxJQUNBQSxFQUFPRCxXQVVmOUQsRUFBUW9CLFVBQVVQLGlCQUFtQixTQUFVOEMsR0FDM0MsR0FBS0EsRUFHTCxJQUVJLEdBQUl4QixHQUFRM0IsRUFBT08sTUFBTXFDLEtBQUssU0FBVWpCLEdBQVMsTUFBT3dCLEdBQU1NLFNBQVc5QixFQUFNNEIsT0FBT0csZUFBa0J4RCxLQUFLQyxPQUM3RyxJQUFJd0IsRUFBTyxDQUNQLEdBQUlnQyxHQUFvQyxnQkFBZlIsR0FBTVMsS0FBb0J0QixLQUFLdUIsTUFBTVYsRUFBTVMsTUFBUVQsRUFBTVMsSUFDbEY1RCxHQUFPTyxNQUFNdUQsaUJBQWlCbkMsRUFBTUQsUUFBU2xDLEVBQVF1RSxTQUFTSixFQUFZUixPQUFRUSxJQUcxRixNQUFPSyxHQUNILEdBQW1DLGtCQUF4QjlELE1BQUtELE9BQU9nRSxRQUluQixLQUFNRCxFQUhOOUQsTUFBS0QsT0FBT2dFLFFBQVFqRixLQUFLTSxPQUFRMEUsS0FjN0N4RSxFQUFRcUQsWUFDSjlDLEVBQU9tRSxLQUNQcEUsRUFBUzJDLFFBU2JqRCxFQUFRdUUsVUFDSkksWUFBZSxhQUNmQyxXQUFjLFlBQ2RDLGlCQUFvQixlQUt4QjdFLEVBQVFpQixlQUNKQywwQkFBMEIsRUFDMUJ1RCxRQUFTLFdBRUwsSUFBSyxHQURESyxNQUNLQyxFQUFLLEVBQUdBLEVBQUtDLFVBQVVDLE9BQVFGLElBQ3BDRCxFQUFLQyxFQUFLLEdBQUtDLFVBQVVELEVBRTdCLE9BQU9HLFNBQVFDLElBQUlMLEVBQUssR0FBSUEsRUFBS2pELE1BQU0sTUFHeEM3QixJQUVYWixHQUFRWSxRQUFVQSxHQUtiLFNBQVNYLEVBQVFELEVBQVNILEdBRS9CLEdBQUl1QixHQUFTdkIsRUFBb0IsR0FDN0I4QyxFQUFTLFdBQ1QsUUFBU0EsR0FBTTdCLEVBQVlDLEVBQWFDLEVBQWU4QixFQUFTa0QsR0FDNUQsR0FBSTdELEdBQVFiLElBQ1pBLE1BQUt3QixRQUFVQSxFQUVmeEIsS0FBSzBFLFFBQVU1RSxFQUFPTyxNQUFNQyxVQUFXZSxFQUFNc0QsZUFBZ0JELEdBQzdEMUUsS0FBSzBFLFFBQVE3QixZQUFjN0MsS0FBSzRFLGlCQUNoQzVFLEtBQUswRSxRQUFRRyxTQUFXN0UsS0FBSzhFLGFBQzdCLElBQUlDLEdBQWEsZ0RBQXFEL0UsS0FBSzBFLFFBQVFHLFNBQVcsbURBQzlGN0UsTUFBS3dCLFFBQVF3RCxVQUFZRCxFQUN6Qi9FLEtBQUtxRCxPQUFTckQsS0FBS3dCLFFBQVF5RCxXQUFXLEdBQ3RDakYsS0FBS3FELE9BQU9uRCxpQkFBaUIsT0FBUSxXQUFjLE1BQU9XLEdBQU1tQyxLQUFLbkMsRUFBTTZELFNBQVMsS0FBVyxHQUMvRjFFLEtBQUtrRixLQUFPekYsRUFBWU8sS0FBS3FELE9BQU9HLGNBQWUsaUJBQWlCLEdBQ3BFeEQsS0FBS21GLElBQU0zRixFQUFXUSxLQUFLa0YsTUFDM0JsRixLQUFLb0YsT0FBUzFGLEVBQWNNLEtBQUtrRixNQTRFckMsTUFyRUE3RCxHQUFNWCxVQUFVc0MsS0FBTyxTQUFVMEIsRUFBU1csRUFBV0MsR0FHakQsR0FGa0IsU0FBZEQsSUFBd0JBLEdBQVksR0FDeEIsU0FBWkMsSUFBc0JBLEVBQVUsT0FDL0JBLEVBQ0QsS0FBTSxJQUFJbkQsT0FBTSwyRkFFcEIsSUFBSW9ELElBQ0ExQyxZQUFhNkIsRUFBUTdCLFlBR3pCLE9BREEvQyxHQUFPTyxNQUFNQyxPQUFPZ0YsRUFBU0MsR0FDdEJ2RixLQUFLbUYsSUFBSUssS0FBSyxlQUFnQkYsR0FBOUJ0RixTQUNJLFNBQVV5RixHQUNqQixLQUFNQSxHQUFTekUsUUFNdkJLLEVBQU1YLFVBQVVrRSxlQUFpQixXQUM3QixHQUFJL0IsR0FBYzdDLEtBQUswRSxRQUFRN0IsYUFBZTdDLEtBQUt3QixRQUFRUyxhQUFhWixFQUFNcUUsdUJBQXlCMUYsS0FBSzBFLFFBQVE5QixzQkFDcEgsS0FBS0MsRUFDRCxLQUFNLElBQUlWLE9BQU0sb0hBQXNIZCxFQUFNcUUscUJBQXVCLHVEQUV2SyxPQUFPN0MsSUFLWHhCLEVBQU1YLFVBQVVvRSxZQUFjLFdBQzFCLEdBQUlELEdBQVc3RSxLQUFLMEUsUUFBUUcsVUFBWTdFLEtBQUt3QixRQUFRUyxhQUFhWixFQUFNQyxrQkFDeEUsSUFBd0IsZ0JBQWJ1RCxJQUE2QyxJQUFwQkEsRUFBU04sT0FDekMsS0FBTSxJQUFJcEMsT0FBTSxxSUFBdUlkLEVBQU1DLGtCQUFvQixLQUVyTCxPQUFPdUQsSUFLWHhELEVBQU1YLFVBQVVpRixXQUFhLFdBQ3pCLEdBQUlDLEdBQW9CNUYsS0FBS3FELE9BQU93QyxtQkFBcUI3RixLQUFLcUQsT0FBT3lDLHFCQUF1QjlGLEtBQUtxRCxPQUFPMEMsc0JBQXdCL0YsS0FBS3FELE9BQU8yQyx1QkFDNUlKLEdBQWtCOUcsS0FBS2tCLEtBQUtxRCxTQUtoQ2hDLEVBQU1YLFVBQVV1RixlQUFpQixXQUM3QixHQUFLakcsS0FBS2tHLGFBQWFsRyxLQUFLcUQsUUFBNUIsQ0FHQSxHQUFJNEMsR0FBaUJsRixTQUFTa0YsZ0JBQWtCbEYsU0FBU29GLHFCQUF1QnBGLFNBQVNxRixzQkFBd0JyRixTQUFTc0YsZ0JBQzFISixHQUFlbkgsS0FBS2lDLFlBTXhCTSxFQUFNWCxVQUFVd0YsYUFBZSxTQUFVN0MsR0FDckMsR0FBSXFCLElBQVcsb0JBQXFCLDBCQUEyQiw2QkFBOEIsc0JBQzdGLE9BQU9BLEdBQVE0QixLQUFLLFNBQVVDLEdBQVUsTUFBT3hGLFVBQVN3RixLQUFZbEQsS0FFeEVoQyxFQUFNQyxrQkFBb0Isb0JBQzFCRCxFQUFNcUUscUJBQXVCLHVCQUM3QnJFLEVBQU1hLGNBQWdCLGVBSXRCYixFQUFNc0QsZ0JBQ0Y2QixtQkFBbUIsR0FFaEJuRixJQUVYM0MsR0FBUTJDLE1BQVFBLEdBS1gsU0FBUzFDLEVBQVFELEdBRXRCLEdBQUkyQixHQUFTLFdBQ1QsUUFBU0EsTUF5RVQsTUF2RUFBLEdBQU11RCxpQkFBbUIsU0FBVXBDLEVBQVNpRixFQUFXQyxHQUNuRCxHQUFJQyxFQWFKLElBWjJCLGtCQUFoQkMsYUFDUEQsRUFBYyxHQUFJQyxhQUFZSCxHQUMxQkksT0FBUUgsRUFDUkksU0FBUyxFQUNUQyxZQUFZLEtBSWhCSixFQUFjNUYsU0FBU2lHLFlBQVksZUFDbkNMLEVBQVlNLGdCQUFnQlIsR0FBVyxHQUFNLEVBQU1DLElBRXZEbEYsRUFBUTBGLGNBQWNQLElBQ2xCQSxFQUFZUSxrQkFBcUJSLEVBQVlTLFlBQWpELENBS0EsR0FBSUMsR0FBa0IsS0FBT1osRUFBVWEsUUFBUSxJQUFLLElBQ2hEQyxFQUFlL0YsRUFBUVMsYUFBYW9GLEVBQ3BDRSxJQUNBQyxLQUFLMUksS0FBSzBDLEVBQVMrRixLQUczQmxILEVBQU1vSCxVQUFZLFNBQVVDLEVBQVdDLEdBQ25DLElBQUt6RyxNQUFNMEcsUUFBUUQsR0FDZixLQUFNLElBQUl4RixPQUFNLHVGQUF5RndGLEVBRTdHLElBQUlFLEVBT0osT0FOQUYsR0FBR3JCLEtBQUssU0FBVXZELEVBQUcrRSxHQUNqQixNQUFJSixHQUFVM0UsSUFDVjhFLEVBQVFDLEdBQ0QsR0FGWCxTQUtHRCxHQUVYeEgsRUFBTXFDLEtBQU8sU0FBVWdGLEVBQVdDLEdBQzlCLEdBQUlFLEdBQVF4SCxFQUFNb0gsVUFBVUMsRUFBV0MsRUFDdkMsT0FBT0EsR0FBR0UsSUFFZHhILEVBQU0rQyxPQUFTLFNBQVVzRSxFQUFXQyxHQUNoQyxHQUFJRSxHQUFReEgsRUFBTW9ILFVBQVVDLEVBQVdDLEVBQ3ZDQSxHQUFHSSxPQUFPRixFQUFPLElBSXJCeEgsRUFBTUMsT0FBUyxXQUVYLElBQUssR0FERDhELE1BQ0tDLEVBQUssRUFBR0EsRUFBS0MsVUFBVUMsT0FBUUYsSUFDcENELEVBQUtDLEVBQUssR0FBS0MsVUFBVUQsRUFFN0IsSUFBSTJELEdBQVM1RCxFQUFLLEVBRWxCLElBQWU2RCxTQUFYRCxHQUFtQyxPQUFYQSxFQUN4QixLQUFNLElBQUlFLFdBQVUsNkNBR3hCLEtBQUssR0FEREMsR0FBU0MsT0FBT0osR0FDWEgsRUFBUSxFQUFHQSxFQUFRdkQsVUFBVUMsT0FBUXNELElBQVMsQ0FDbkQsR0FBSXRFLEdBQVNlLFVBQVV1RCxFQUN2QixJQUFlSSxTQUFYMUUsR0FBbUMsT0FBWEEsRUFDeEIsSUFBSyxHQUFJOEUsS0FBVzlFLEdBQ1pBLEVBQU8rRSxlQUFlRCxLQUN0QkYsRUFBT0UsR0FBVzlFLEVBQU84RSxJQUt6QyxNQUFPRixJQUVKOUgsSUFFWDNCLEdBQVEyQixNQUFRQSxHQUtYLFNBQVMxQixFQUFRRCxFQUFTSCxHQUUvQixHQUFJZ0ssR0FBYXZJLE1BQVFBLEtBQUt1SSxXQUFjLFNBQVVDLEVBQUdDLEdBRXJELFFBQVNDLEtBQU8xSSxLQUFLMkksWUFBY0gsRUFEbkMsSUFBSyxHQUFJdkosS0FBS3dKLEdBQU9BLEVBQUVILGVBQWVySixLQUFJdUosRUFBRXZKLEdBQUt3SixFQUFFeEosR0FFbkR1SixHQUFFOUgsVUFBa0IsT0FBTitILEVBQWFMLE9BQU9RLE9BQU9ILElBQU1DLEVBQUdoSSxVQUFZK0gsRUFBRS9ILFVBQVcsR0FBSWdJLEtBRS9FL0ksRUFBVXBCLEVBQW9CLEdBQzlCZ0UsRUFBVSxTQUFVc0csR0FFcEIsUUFBU3RHLEtBQ0xzRyxFQUFPQyxNQUFNOUksS0FBTXNFLFdBb0x2QixNQXRMQWlFLEdBQVVoRyxFQUFRc0csR0FtQmxCdEcsRUFBTzdCLFVBQVVxSSxVQUFZLFNBQVVDLEVBQVFoQixHQUMzQyxHQUFJaUIsR0FBWWpKLEtBQUtrSixhQUFhbEIsRUFDbEMsT0FBT2hJLE1BQUttRixJQUFJSyxLQUFLeUQsRUFBWSxXQUFZRCxHQUF0Q2hKLFNBQ0ksU0FBVXlGLEdBQ2pCLEtBQU1BLEdBQVN6RSxRQTBCdkJ1QixFQUFPN0IsVUFBVXlJLFdBQWEsU0FBVW5CLEdBQ3BDLEdBQUlpQixHQUFZakosS0FBS2tKLGFBQWFsQixFQUNsQyxPQUFPaEksTUFBS21GLElBQUlqQyxJQUFJK0YsRUFBWSxZQUMzQkcsS0FBSyxTQUFVM0QsR0FBWSxNQUFPQSxHQUFTekUsTUFBUyxTQUFVeUUsR0FDL0QsS0FBTUEsR0FBU3pFLFFBYXZCdUIsRUFBTzdCLFVBQVUySSxTQUFXLFdBQ3hCLE1BQU9ySixNQUFLbUYsSUFBSWpDLElBQUksaUJBQ2ZrRyxLQUFLLFNBQVUzRCxHQUFZLE1BQU9BLEdBQVN6RSxNQUFTLFNBQVV5RSxHQUMvRCxLQUFNQSxHQUFTekUsUUFHdkJ1QixFQUFPN0IsVUFBVW9FLFlBQWMsV0FDM0IsR0FBSUQsR0FBV2dFLEVBQU9uSSxVQUFVb0UsWUFBWWhHLEtBQUtrQixLQU9qRCxPQUhLQSxNQUFLMEUsUUFBUThCLG9CQUNkM0IsR0FBWSw0QkFFVEEsR0FFWHRDLEVBQU83QixVQUFVc0MsS0FBTyxTQUFVMEIsRUFBU1csR0FFdkMsR0FEa0IsU0FBZEEsSUFBd0JBLEdBQVksR0FDcENBLEdBQW1DLGdCQUFmWCxHQUFROUYsR0FDNUIsS0FBTSxJQUFJdUQsT0FBTSxrRUFFcEIsSUFBSW1ELElBQ0ExRyxHQUFJOEYsRUFBUTlGLEdBQ1ppRSxZQUFhLEtBRWpCLE9BQU9nRyxHQUFPbkksVUFBVXNDLEtBQUtsRSxLQUFLa0IsS0FBTTBFLEVBQVNXLEVBQVdDLElBRWhFL0MsRUFBTzdCLFVBQVU0SSxHQUFLLFNBQVU3QyxFQUFXOEMsR0FDdkMsR0FBZ0QsS0FBNUNoSCxFQUFPaUgsY0FBY0MsUUFBUWhELEdBQzdCLEtBQU0sSUFBSXRFLE9BQU0sK0JBQWlDSSxFQUFPaUgsY0FBZ0IsaUJBQW1CL0MsRUFFL0Z6RyxNQUFLb0YsT0FBT0ksS0FBSyxrQkFBb0JpQixFQUFXLFNBQVVpRCxFQUFLQyxHQUMzREosRUFBUUcsRUFBSTFJLFNBTXBCdUIsRUFBTzdCLFVBQVVrSixjQUFnQixTQUFVQyxHQUN2QyxNQUFPN0osTUFBS21GLElBQUkyRSxJQUFJLHVCQUF3QkQsR0FBckM3SixTQUNJLFNBQVV5RixHQUNqQixLQUFNQSxHQUFTekUsUUFNdkJ1QixFQUFPN0IsVUFBVXFKLGFBQWUsU0FBVWYsRUFBUWhCLEdBQzlDLEdBQUlpQixHQUFZakosS0FBS2tKLGFBQWFsQixFQUNsQyxPQUFPaEksTUFBS21GLElBQUxuRixVQUFnQmlKLEVBQVksV0FBWUQsR0FBeENoSixTQUNJLFNBQVV5RixHQUNqQixLQUFNQSxHQUFTekUsUUFVdkJ1QixFQUFPN0IsVUFBVXNKLGlCQUFtQixXQUNoQyxNQUFPaEssTUFBS21GLElBQUxuRixVQUFnQixtQkFBaEJBLFNBQ0ksU0FBVXlGLEdBQ2pCLEtBQU1BLEdBQVN6RSxRQVF2QnVCLEVBQU83QixVQUFVdUosYUFBZSxTQUFVakIsRUFBUWhCLEdBQzlDLEdBQUlpQixHQUFZakosS0FBS2tKLGFBQWFsQixFQUNsQyxPQUFPaEksTUFBS21GLElBQUkyRSxJQUFJYixFQUFZLFdBQVlELEdBQXJDaEosU0FDSSxTQUFVeUYsR0FDakIsS0FBTUEsR0FBU3pFLFFBTXZCdUIsRUFBTzdCLFVBQVV3SixlQUFpQixTQUFVQyxHQUN4QyxNQUFPbkssTUFBS21GLElBQUlpRixNQUFNLG1CQUFvQkQsR0FBbkNuSyxTQUNJLFNBQVV5RixHQUNqQixLQUFNQSxHQUFTekUsUUFPdkJ1QixFQUFPN0IsVUFBVXdJLGFBQWUsU0FBVWxCLEdBQ3RDLEdBQUlpQixFQU9KLElBQUtqQixFQUdBLEdBQW9CLFNBQWhCQSxFQUFPaEcsS0FDWmlILEVBQVksaUJBQW1CakIsRUFBT3FDLFNBRXJDLENBQUEsR0FBb0IsV0FBaEJyQyxFQUFPaEcsS0FJWixLQUFNLElBQUlHLE9BQU0sOERBQWdFNkYsRUFBT2hHLEtBSHZGaUgsR0FBWSxtQkFBcUJqQixFQUFPcEosT0FOeENxSyxHQUFZLFNBV2hCLE9BQU9BLElBRVgxRyxFQUFPaUgsZUFBaUIsZUFBZ0IsY0FBZSxnQkFBaUIsZ0JBQWlCLGNBQWUsU0FDeEdqSCxFQUFPUCxLQUFPLFNBQ1BPLEdBQ1Q1QyxFQUFRMEIsTUFDVjNDLEdBQVE2RCxPQUFTQSxHQUtaLFNBQVM1RCxFQUFRRCxFQUFTSCxHQUUvQixHQUFJZ0ssR0FBYXZJLE1BQVFBLEtBQUt1SSxXQUFjLFNBQVVDLEVBQUdDLEdBRXJELFFBQVNDLEtBQU8xSSxLQUFLMkksWUFBY0gsRUFEbkMsSUFBSyxHQUFJdkosS0FBS3dKLEdBQU9BLEVBQUVILGVBQWVySixLQUFJdUosRUFBRXZKLEdBQUt3SixFQUFFeEosR0FFbkR1SixHQUFFOUgsVUFBa0IsT0FBTitILEVBQWFMLE9BQU9RLE9BQU9ILElBQU1DLEVBQUdoSSxVQUFZK0gsRUFBRS9ILFVBQVcsR0FBSWdJLEtBRS9FL0ksRUFBVXBCLEVBQW9CLEdBQzlCeUYsRUFBUSxTQUFVNkUsR0FFbEIsUUFBUzdFLEtBQ0w2RSxFQUFPQyxNQUFNOUksS0FBTXNFLFdBa0J2QixNQXBCQWlFLEdBQVV2RSxFQUFNNkUsR0FJaEI3RSxFQUFLdEQsVUFBVW9FLFlBQWMsV0FDekIsR0FBSUQsR0FBV2dFLEVBQU9uSSxVQUFVb0UsWUFBWWhHLEtBQUtrQixLQUNqRCxPQUFPNkUsSUFFWGIsRUFBS3RELFVBQVVzQyxLQUFPLFNBQVUwQixFQUFTVyxHQUVyQyxHQURrQixTQUFkQSxJQUF3QkEsR0FBWSxHQUNwQ0EsR0FBbUMsZ0JBQWZYLEdBQVE5RixHQUM1QixLQUFNLElBQUl1RCxPQUFNLGtFQUVwQixJQUFJbUQsSUFDQTFHLEdBQUk4RixFQUFROUYsR0FDWmlFLFlBQWEsS0FFakIsT0FBT2dHLEdBQU9uSSxVQUFVc0MsS0FBS2xFLEtBQUtrQixLQUFNMEUsRUFBU1csRUFBV0MsSUFFaEV0QixFQUFLaEMsS0FBTyxPQUNMZ0MsR0FDVHJFLEVBQVEwQixNQUNWM0MsR0FBUXNGLEtBQU9BLEdBS1YsU0FBU3JGLEVBQVFELEVBQVNILEdBRS9CLEdBQUkyRyxHQUFPM0csRUFBb0IsR0FDM0I0RyxFQUFNNUcsRUFBb0IsSUFDMUI2RyxFQUFTN0csRUFBb0IsR0FDakNHLEdBQVFjLFdBQWEsU0FBVTBGLEdBQzNCLE1BQU8sSUFBSUMsR0FBSW1GLGdCQUFnQnBGLEdBQzNCcUYsT0FBVSxNQUNWQyxhQUFjLEtBQ2RDLGdCQUFpQixXQUd6Qi9MLEVBQVFlLFlBQWMsU0FBVUwsRUFBUWlMLEVBQU1LLEdBQzFDLE1BQU8sSUFBSXhGLEdBQUt5Rix1QkFBdUJ2TCxHQUNuQ3dMLDJCQUNJQyxzQkFBdUIxRixFQUFJbUYsZ0JBQWdCTyxzQkFDM0NDLHNCQUF1QjNGLEVBQUltRixnQkFBZ0JRLHVCQUUvQ0MsZUFBZ0I1RixFQUFJbUYsZ0JBQWdCUyxlQUNwQ1YsS0FBTUEsRUFDTkssWUFBYUEsS0FHckJoTSxFQUFRZ0IsY0FBZ0IsU0FBVXdGLEdBQzlCLE1BQU8sSUFBSUUsR0FBTzRGLE9BQU85RixLQU14QixTQUFTdkcsRUFBUUQsRUFBU0gsR0FFL0IsR0FBSTBNLEdBQWdDQyxFQUE4QkMsR0FBOEIsU0FBV0MsR0FDdkcsR0FBc0IsZ0JBQVh6TSxJQUFpRCxnQkFBbkJBLEdBQU9ELFFBQXNCLENBQ2xFLEdBQUkyTSxHQUFJRCxFQUFRN00sRUFBb0IsR0FBSUcsRUFBb0J1SixVQUFOb0QsSUFBaUIxTSxFQUFPRCxRQUFVMk0sT0FHdEZILElBQWdDM00sRUFBcUJHLEdBQVV1TSxFQUFpQyxFQUFXRSxFQUEyRSxrQkFBbkNGLEdBQWlEQSxFQUErQm5DLE1BQU1wSyxFQUFTd00sR0FBaUNELElBQW1FaEQsU0FBbENrRCxJQUFnRHhNLEVBQU9ELFFBQVV5TSxLQUU1WCxTQUFVRyxFQUFTNU0sR0FDbEIsWUFDQSxJQUFJaU0sR0FBMEIsV0FDMUIsUUFBU0EsR0FBdUJuSCxFQUFla0IsR0FDM0MsR0FBSTdELEdBQVFiLElBQ0ksVUFBWjBFLElBQXNCQSxHQUN0QmtHLDJCQUNJQyxzQkFBdUJGLEVBQXVCWSw2QkFDOUNULHNCQUF1QkgsRUFBdUJhLDhCQUVsRFQsZUFBZ0JKLEVBQXVCYyxzQkFDdkNDLGNBQWV0TSxPQUNmaUwsS0FBTU0sRUFBdUJnQix1QkFFakMzTCxLQUFLNEwsMEJBRUw1TCxLQUFLd0QsY0FBZ0JBLEVBRXJCeEQsS0FBSzZLLHNCQUF5Qm5HLEVBQVFrRywyQkFBNkJsRyxFQUFRa0csMEJBQTBCQyx1QkFBMEJGLEVBQXVCWSw2QkFDdEp2TCxLQUFLOEssc0JBQXlCcEcsRUFBUWtHLDJCQUE2QmxHLEVBQVFrRywwQkFBMEJFLHVCQUEwQkgsRUFBdUJhLDZCQUN0SnhMLEtBQUsrSyxlQUFpQnJHLEVBQVFxRyxnQkFBa0JKLEVBQXVCYyxzQkFDdkV6TCxLQUFLMEwsY0FBZ0JoSCxFQUFRZ0gsZUFBaUJ0TSxPQUM5Q1ksS0FBS3FLLEtBQU8zRixFQUFRMkYsTUFBUU0sRUFBdUJnQixxQkFDbkQzTCxLQUFLMEssWUFBY2hHLEVBQVFnRyxjQUFlLEVBRTFDMUssS0FBSzZMLFlBQ0w3TCxLQUFLOEwscUJBQXVCLFNBQVU3SSxHQUFTLE1BQU9wQyxHQUFNa0wsa0JBQWtCOUksSUFDOUVqRCxLQUFLZ00sUUFzSlQsTUFuSkFyQixHQUF1QlksNkJBQStCLFNBQVVqRyxFQUFTMkcsR0FFckUsTUFEQTNHLEdBQVFxRixFQUF1QnVCLHFCQUF1QkQsRUFDL0MzRyxHQUVYcUYsRUFBdUJhLDZCQUErQixTQUFVbEcsR0FDNUQsTUFBT0EsR0FBUXFGLEVBQXVCdUIsc0JBRTFDdkIsRUFBdUJjLHNCQUF3QixTQUFVbkcsR0FDckQsUUFBU0EsRUFBUTZHLE9BTXJCeEIsRUFBdUJqSyxVQUFVMEwsV0FBYSxTQUFVN0MsR0FDcER2SixLQUFLNkwsU0FBUy9JLEtBQUt5RyxJQU12Qm9CLEVBQXVCakssVUFBVTJMLGNBQWdCLFNBQVU5QyxHQUN2RCxHQUFJK0MsR0FBZXRNLEtBQUs2TCxTQUFTcEMsUUFBUUYsRUFDekMsSUFBb0IsSUFBaEIrQyxFQUNBLEtBQU0sSUFBSW5LLE9BQU0sdUVBRXBCbkMsTUFBSzZMLFNBQVM5RCxPQUFPdUUsRUFBYyxJQUt2QzNCLEVBQXVCakssVUFBVXNMLE1BQVEsV0FDckNoTSxLQUFLMEwsY0FBY3hMLGlCQUFpQixVQUFXRixLQUFLOEwsdUJBS3hEbkIsRUFBdUJqSyxVQUFVNkwsS0FBTyxXQUNwQ3ZNLEtBQUswTCxjQUFjYyxvQkFBb0IsVUFBV3hNLEtBQUs4TCx1QkFLM0RuQixFQUF1QmpLLFVBQVUrTCxZQUFjLFNBQVVuSCxHQUVyRCxHQUFJMkcsSUFBdUJyTixHQUFJK0wsRUFBdUJnQixxQkFDdEQzTCxNQUFLNkssc0JBQXNCdkYsRUFBUzJHLEdBQ2hDak0sS0FBSzBLLGNBQ0xsRyxRQUFRQyxJQUFJekUsS0FBS3FLLEtBQU8scUJBQ3hCN0YsUUFBUUMsSUFBSXJDLEtBQUtDLFVBQVVpRCxFQUFTLEtBQU0sUUFFOUN0RixLQUFLd0QsY0FBY2lKLFlBQVluSCxFQUFTLElBQ3hDLElBQUlvSCxHQUFXL0IsRUFBdUJnQyxnQkFFdEMsT0FEQTNNLE1BQUs0TCx1QkFBdUJLLEVBQW1Cck4sSUFBTThOLEVBQzlDQSxFQUFTRSxTQU1wQmpDLEVBQXVCakssVUFBVW1NLGFBQWUsU0FBVXZILEVBQVMyRyxHQUMvRGpNLEtBQUs2SyxzQkFBc0J2RixFQUFTMkcsR0FDaENqTSxLQUFLMEssY0FDTGxHLFFBQVFDLElBQUl6RSxLQUFLcUssS0FBTyxzQkFDeEI3RixRQUFRQyxJQUFJckMsS0FBS0MsVUFBVWlELEVBQVMsS0FBTSxRQUU5Q3RGLEtBQUt3RCxjQUFjaUosWUFBWW5ILEVBQVMsTUFLNUNxRixFQUF1QmpLLFVBQVVxTCxrQkFBb0IsU0FBVTlJLEdBQzNELEdBQUlwQyxHQUFRYixJQUNSQSxNQUFLMEssY0FDTGxHLFFBQVFDLElBQUl6RSxLQUFLcUssS0FBTyxzQkFDeEI3RixRQUFRQyxJQUFJLFNBQVd4QixFQUFNakIsTUFDN0J3QyxRQUFRQyxJQUFJckMsS0FBS0MsVUFBVVksRUFBTVMsS0FBTSxLQUFNLE9BRWpELElBQUk0QixHQUFVckMsRUFBTVMsS0FDaEJ1SSxFQUFxQmpNLEtBQUs4SyxzQkFBc0J4RixFQUVwRCxJQUFLMkcsRUFBTCxDQUdBLEdBQUlTLEdBQVcxTSxLQUFLNEwsdUJBQXVCSyxFQUFtQnJOLEdBRzlELElBQUs4TixFQXlCRzFNLEtBQUsrSyxlQUFlekYsR0FDcEJvSCxFQUFTSSxPQUFPeEgsR0FHaEJvSCxFQUFTSyxRQUFRekgsU0FHZHRGLE1BQUs0TCx1QkFBdUJLLEVBQW1Cck4sUUFoQzNDLENBQ1gsR0FBSW9PLEdBQVVoTixLQUFLNkwsU0FBU3ZGLEtBQUssU0FBVWlELEdBQ3ZDLE1BQUlBLEdBQVEwRCxLQUFLM0gsSUFDYjRILFFBQVFILFFBQVF4RCxFQUFRNEQsT0FBTzdILElBQzFCOEQsS0FBSyxTQUFVZ0UsR0FDaEJ2TSxFQUFNZ00sYUFBYU8sRUFBaUJuQixNQUVqQyxHQUxYLFFBY0NlLElBQ0R4SSxRQUFRNkksS0FBSyxTQUFXck4sS0FBS3FLLEtBQU8sdUNBQXlDckssS0FBSzZMLFNBQVN0SCxPQUFTLGNBQWdCbkMsS0FBS0MsVUFBVWlELEVBQVMsS0FBTSxJQUFNLFFBdUJwS3FGLEVBQXVCZ0MsZUFBaUIsV0FDcEMsR0FBSUQsSUFDQUssUUFBUyxLQUNURCxPQUFRLEtBQ1JGLFFBQVMsTUFFVEEsRUFBVSxHQUFJTSxTQUFRLFNBQVVILEVBQVNELEdBQ3pDSixFQUFTSyxRQUFVQSxFQUNuQkwsRUFBU0ksT0FBU0EsR0FHdEIsT0FEQUosR0FBU0UsUUFBVUEsRUFDWkYsR0FLWC9CLEVBQXVCZ0IsbUJBQXFCLFdBQ3hDLE9BQVEyQixLQUFLQyxTQUFXLEdBQUdDLFNBQVMsSUFBSUMsVUFBVSxJQUV0RDlDLEVBQXVCdUIsb0JBQXNCLHlCQUN0Q3ZCLElBRVhqTSxHQUFRaU0sdUJBQXlCQSxLQU1oQyxTQUFTaE0sRUFBUUQsRUFBU0gsR0FNL0IsUUFBU21QLEdBQWUvRCxHQUN2QixNQUFPcEwsR0FBb0JvUCxFQUFzQmhFLElBRWxELFFBQVNnRSxHQUFzQmhFLEdBQzlCLE1BQU9pRSxHQUFJakUsSUFBUyxXQUFhLEtBQU0sSUFBSXhILE9BQU0sdUJBQXlCd0gsRUFBTSxTQVJqRixHQUFJaUUsSUFDSEMsMkJBQTRCLEVBQzVCQyw4QkFBK0IsRUFRaENKLEdBQWVLLEtBQU8sV0FDckIsTUFBTzNGLFFBQU8yRixLQUFLSCxJQUVwQkYsRUFBZVgsUUFBVVksRUFDekJoUCxFQUFPRCxRQUFVZ1AsRUFDakJBLEVBQWU5TyxHQUFLLEdBSWQsQ0FDQyxDQUVGLFNBQVNELEVBQVFELEVBQVNILEdBRS9CLEdBQUkwTSxHQUFnQ0MsRUFBOEJDLEdBQThCLFNBQVdDLEdBQ3ZHLEdBQXNCLGdCQUFYek0sSUFBaUQsZ0JBQW5CQSxHQUFPRCxRQUFzQixDQUNsRSxHQUFJMk0sR0FBSUQsRUFBUTdNLEVBQW9CLElBQUtHLEVBQW9CdUosVUFBTm9ELElBQWlCMU0sRUFBT0QsUUFBVTJNLE9BR3ZGSCxJQUFnQzNNLEVBQXFCRyxHQUFVdU0sRUFBaUMsRUFBV0UsRUFBMkUsa0JBQW5DRixHQUFpREEsRUFBK0JuQyxNQUFNcEssRUFBU3dNLEdBQWlDRCxJQUFtRWhELFNBQWxDa0QsSUFBZ0R4TSxFQUFPRCxRQUFVeU0sS0FFNVgsU0FBVUcsRUFBUzVNLEdBQ2xCLFlBQ0EsSUFBSTRMLEdBQW1CLFdBQ25CLFFBQVNBLEdBQWdCMEQsRUFBd0JDLEdBQ3RCLFNBQW5CQSxJQUE2QkEsTUFDakNqTyxLQUFLaU8sZUFBaUJBLEVBQ3RCak8sS0FBS2dPLHVCQUF5QkEsRUF3RmxDLE1BcEZBMUQsR0FBZ0JPLHNCQUF3QixTQUFVdkYsRUFBUzJHLEdBR3ZELE1BRkEzRyxHQUFRNEksUUFBVTVJLEVBQVE0SSxZQUMxQjVJLEVBQVE0SSxRQUFRdFAsR0FBS3FOLEVBQW1Cck4sR0FDakMwRyxHQUVYZ0YsRUFBZ0JRLHNCQUF3QixTQUFVeEYsR0FDOUMsT0FDSTFHLEdBQUkwRyxFQUFRNEksUUFBUXRQLEtBRzVCMEwsRUFBZ0JTLGVBQWlCLFNBQVV6RixHQUN2QyxRQUFTLEtBQU9BLEVBQVE2SSxZQUFjN0ksRUFBUTZJLFdBQWEsTUFFL0Q3RCxFQUFnQjVKLFVBQVV3QyxJQUFNLFNBQVVrTCxFQUFLRixHQUUzQyxNQURnQixVQUFaQSxJQUFzQkEsTUFDbkJsTyxLQUFLcU8sTUFDUkMsT0FBUSxNQUNSRixJQUFLQSxFQUNMRixRQUFTQSxLQUdqQjVELEVBQWdCNUosVUFBVThFLEtBQU8sU0FBVTRJLEVBQUtwTixFQUFNa04sR0FFbEQsTUFEZ0IsVUFBWkEsSUFBc0JBLE1BQ25CbE8sS0FBS3FPLE1BQ1JDLE9BQVEsT0FDUkYsSUFBS0EsRUFDTEYsUUFBU0EsRUFDVGxOLEtBQU1BLEtBR2RzSixFQUFnQjVKLFVBQVVvSixJQUFNLFNBQVVzRSxFQUFLcE4sRUFBTWtOLEdBRWpELE1BRGdCLFVBQVpBLElBQXNCQSxNQUNuQmxPLEtBQUtxTyxNQUNSQyxPQUFRLE1BQ1JGLElBQUtBLEVBQ0xGLFFBQVNBLEVBQ1RsTixLQUFNQSxLQUdkc0osRUFBZ0I1SixVQUFVMEosTUFBUSxTQUFVZ0UsRUFBS3BOLEVBQU1rTixHQUVuRCxNQURnQixVQUFaQSxJQUFzQkEsTUFDbkJsTyxLQUFLcU8sTUFDUkMsT0FBUSxRQUNSRixJQUFLQSxFQUNMRixRQUFTQSxFQUNUbE4sS0FBTUEsS0FHZHNKLEVBQWdCNUosVUFBaEI0SixVQUFtQyxTQUFVOEQsRUFBS0YsR0FFOUMsTUFEZ0IsVUFBWkEsSUFBc0JBLE1BQ25CbE8sS0FBS3FPLE1BQ1JDLE9BQVEsU0FDUkYsSUFBS0EsRUFDTEYsUUFBU0EsS0FHakI1RCxFQUFnQjVKLFVBQVUyTixLQUFPLFNBQVVFLEdBRXZDLE1BREF2TyxNQUFLTSxPQUFPaU8sRUFBUUwsUUFBU2xPLEtBQUtpTyxnQkFDM0JqTyxLQUFLZ08sdUJBQXVCdkIsWUFBWThCLElBTW5EakUsRUFBZ0I1SixVQUFVSixPQUFTLFNBQVUwSCxHQUV6QyxJQUFLLEdBRER3RyxNQUNLbkssRUFBSyxFQUFHQSxFQUFLQyxVQUFVQyxPQUFRRixJQUNwQ21LLEVBQVFuSyxFQUFLLEdBQUtDLFVBQVVELEVBRWhDLElBQWU0RCxTQUFYRCxHQUFtQyxPQUFYQSxFQUN4QixLQUFNLElBQUlFLFdBQVUsNkNBRXhCLElBQUlDLEdBQVNDLE9BQU9KLEVBVXBCLE9BVEF3RyxHQUFRak4sUUFBUSxTQUFVZ0MsR0FDdEIsR0FBZTBFLFNBQVgxRSxHQUFtQyxPQUFYQSxFQUN4QixJQUFLLEdBQUk4RSxLQUFXOUUsR0FDWjZFLE9BQU8xSCxVQUFVNEgsZUFBZXhKLEtBQUt5RSxFQUFROEUsS0FDN0NGLEVBQU9FLEdBQVc5RSxFQUFPOEUsTUFLbENGLEdBRUptQyxJQUVYNUwsR0FBUTRMLGdCQUFrQkEsS0FNekIsU0FBUzNMLEVBQVFELEVBQVNILEdBTS9CLFFBQVNtUCxHQUFlL0QsR0FDdkIsTUFBT3BMLEdBQW9Cb1AsRUFBc0JoRSxJQUVsRCxRQUFTZ0UsR0FBc0JoRSxHQUM5QixNQUFPaUUsR0FBSWpFLElBQVMsV0FBYSxLQUFNLElBQUl4SCxPQUFNLHVCQUF5QndILEVBQU0sU0FSakYsR0FBSWlFLElBQ0hhLG9CQUFxQixHQUNyQkMsdUJBQXdCLEdBUXpCaEIsR0FBZUssS0FBTyxXQUNyQixNQUFPM0YsUUFBTzJGLEtBQUtILElBRXBCRixFQUFlWCxRQUFVWSxFQUN6QmhQLEVBQU9ELFFBQVVnUCxFQUNqQkEsRUFBZTlPLEdBQUssSUFJYixDQUNBLENBRUYsU0FBU0QsRUFBUUQsRUFBU0gsSUFFL0IsU0FBMkNvUSxFQUFNdkQsR0FFL0N6TSxFQUFPRCxRQUFVME0sS0FPaEJwTCxLQUFNLFdBQ1QsTUFBZ0IsVUFBVTFCLEdBS2hCLFFBQVNDLEdBQW9CQyxHQUc1QixHQUFHQyxFQUFpQkQsR0FDbkIsTUFBT0MsR0FBaUJELEdBQVVFLE9BR25DLElBQUlDLEdBQVNGLEVBQWlCRCxJQUM3QkUsV0FDQUUsR0FBSUosRUFDSkssUUFBUSxFQVVULE9BTkFQLEdBQVFFLEdBQVVNLEtBQUtILEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNILEdBRy9ESSxFQUFPRSxRQUFTLEVBR1RGLEVBQU9ELFFBdkJmLEdBQUlELEtBcUNKLE9BVEFGLEdBQW9CUSxFQUFJVCxFQUd4QkMsRUFBb0JTLEVBQUlQLEVBR3hCRixFQUFvQlUsRUFBSSxHQUdqQlYsRUFBb0IsS0FLL0IsU0FBU0ksRUFBUUQsRUFBU0gsR0FFL0IsWUFDQSxJQUFJcVEsR0FBa0JyUSxFQUFvQixHQUN0Q3lNLEVBQVUsV0FDVixRQUFTQSxHQUFPYSxHQUNaN0wsS0FBSzZMLFNBQVdBLEVBS2hCN0wsS0FBSzZPLG1CQUFxQixHQUFJRCxHQUM5QjVPLEtBQUs4TyxxQkFBdUIsR0FBSUYsR0FDaEM1TyxLQUFLK08sb0JBQXNCLEdBQUlILEdBQy9CNU8sS0FBS2dQLG1CQUFxQixHQUFJSixHQUM5QjVPLEtBQUtpUCxzQkFBd0IsR0FBSUwsR0FnRXJDLE1BOURBNUQsR0FBT3RLLFVBQVV3QyxJQUFNLFNBQVVrTCxFQUFLN0UsR0FFbEMsTUFEQXZKLE1BQUtrUCxnQkFBZ0JsUCxLQUFLNk8sbUJBQW9CLE1BQU9ULEVBQUs3RSxHQUNuRHZKLE1BRVhnTCxFQUFPdEssVUFBVTBKLE1BQVEsU0FBVWdFLEVBQUs3RSxHQUVwQyxNQURBdkosTUFBS2tQLGdCQUFnQmxQLEtBQUs4TyxxQkFBc0IsUUFBU1YsRUFBSzdFLEdBQ3ZEdkosTUFFWGdMLEVBQU90SyxVQUFVOEUsS0FBTyxTQUFVNEksRUFBSzdFLEdBRW5DLE1BREF2SixNQUFLa1AsZ0JBQWdCbFAsS0FBSytPLG9CQUFxQixPQUFRWCxFQUFLN0UsR0FDckR2SixNQUVYZ0wsRUFBT3RLLFVBQVVvSixJQUFNLFNBQVVzRSxFQUFLN0UsR0FFbEMsTUFEQXZKLE1BQUtrUCxnQkFBZ0JsUCxLQUFLZ1AsbUJBQW9CLE1BQU9aLEVBQUs3RSxHQUNuRHZKLE1BRVhnTCxFQUFPdEssVUFBUHNLLFVBQTBCLFNBQVVvRCxFQUFLN0UsR0FFckMsTUFEQXZKLE1BQUtrUCxnQkFBZ0JsUCxLQUFLaVAsc0JBQXVCLFNBQVViLEVBQUs3RSxHQUN6RHZKLE1BUVhnTCxFQUFPdEssVUFBVXdPLGdCQUFrQixTQUFVQyxFQUFpQmIsRUFBUUYsRUFBSzdFLEdBQ3ZFLEdBQUk2RixHQUF5QixTQUFVYixHQUNuQyxHQUFJOUksR0FBVyxHQUFJNEosRUFDbkIsT0FBT25DLFNBQVFILFFBQVF4RCxFQUFRZ0YsRUFBUzlJLElBQ25DMkQsS0FBSyxTQUFVckcsR0FBSyxNQUFPMEMsS0FFcEMwSixHQUFnQkcsTUFDVkMsS0FBTW5CLEVBQUs3RSxRQUFTNkYsSUFFMUIsSUFBSUksSUFDQXZDLEtBQU0sU0FBVXNCLEdBQ1osR0FBSUEsRUFBUUQsU0FBV0EsRUFDbkIsT0FBTyxDQUVYLElBQUltQixHQUFpQk4sRUFBZ0JPLFVBQVVuQixFQUFRSCxJQUN2RCxJQUF1Qm5HLFNBQW5Cd0gsRUFDQSxPQUFPLENBUVgsSUFBSUUsR0FBUUYsRUFBZSxFQUkzQixPQUhBbEIsR0FBUXFCLE9BQVNELEVBQU1DLE9BQ3ZCckIsRUFBUXNCLFlBQWNKLEVBQWVJLFlBQ3JDdEIsRUFBUWhGLFFBQVVvRyxFQUFNcEcsU0FDakIsR0FFWDRELE9BQVEsU0FBVW9CLEdBQ2QsTUFBT0EsR0FBUWhGLFFBQVFnRixJQUcvQnZPLE1BQUs2TCxTQUFTTyxXQUFXb0QsSUFFdEJ4RSxJQUVYdE0sR0FBUXNNLE9BQVNBLENBQ2pCLElBQUlxRSxHQUFZLFdBQ1osUUFBU0EsS0FDTHJQLEtBQUttTyxXQUFhLElBQ2xCbk8sS0FBS2tPLFdBQ0xsTyxLQUFLZ0IsS0FBTyxLQU1oQixNQUpBcU8sR0FBUzNPLFVBQVUyTixLQUFPLFNBQVVGLEVBQVluTixHQUM1Q2hCLEtBQUttTyxXQUFhQSxFQUNsQm5PLEtBQUtnQixLQUFPQSxHQUVUcU8sSUFFWDNRLEdBQVEyUSxTQUFXQSxHQUtkLFNBQVMxUSxFQUFRRCxFQUFTSCxHQUUvQixHQUFJNE0sSUFBMEQsU0FBU3hNLElBQVMsV0FDNUUsWUFDQSxTQUFTbVIsR0FBK0JQLEVBQU1RLEVBQVNDLEdBQ3JEaFEsS0FBS3VQLEtBQU9BLEVBQ1p2UCxLQUFLK1AsUUFBVUEsRUFDZi9QLEtBQUtnUSxTQUFXQSxFQXFCbEIsUUFBU0MsR0FBZ0NqSSxHQUN2Q2hJLEtBQUtrUSxVQUNMbFEsS0FBS21RLFlBQ0xuUSxLQUFLZ0ksT0FBU0EsRUFzQmhCLFFBQVNvSSxHQUFzQ0MsRUFBY04sRUFBU0MsR0FDcEUsTUFBTyxVQUFTVCxFQUFNZSxHQUNwQixHQUFJQyxHQUFXRixFQUFlZCxDQUU5QixPQUFJZSxPQUNGQSxHQUFlRixFQUFzQ0csRUFBVVIsRUFBU0MsSUFFakUsR0FBSUYsR0FBK0JPLEVBQWVkLEVBQU1RLEVBQVNDLElBSzlFLFFBQVNRLEdBQWlDQyxFQUFZbEIsRUFBTWhHLEdBRTFELElBQUssR0FERG1ILEdBQU0sRUFDRDVJLEVBQUUsRUFBR0EsRUFBRTJJLEVBQVdsTSxPQUFRdUQsSUFDakM0SSxHQUFPRCxFQUFXM0ksR0FBR3lILEtBQUtoTCxNQUc1QmdMLEdBQU9BLEVBQUtvQixPQUFPRCxFQUNuQixJQUFJZixJQUFVSixLQUFNQSxFQUFNaEcsUUFBU0EsRUFDbkNrSCxHQUFXM04sS0FBSzZNLEdBR2xCLFFBQVNpQixHQUFrQ0MsRUFBV2QsRUFBU2UsRUFBVUMsR0FDdkUsR0FBSWIsR0FBU0gsRUFBUUcsTUFFckIsS0FBSyxHQUFJWCxLQUFRVyxHQUNmLEdBQUlBLEVBQU81SCxlQUFlaUgsR0FBTyxDQUMvQixHQUFJa0IsR0FBYUksRUFBVTFQLE9BQzNCcVAsR0FBaUNDLEVBQVlsQixFQUFNVyxFQUFPWCxJQUV0RFEsRUFBUUksU0FBU1osR0FDbkJxQixFQUFrQ0gsRUFBWVYsRUFBUUksU0FBU1osR0FBT3VCLEVBQVVDLEdBRWhGRCxFQUFTaFMsS0FBS2lTLEVBQVNOLElBd0IvQixRQUFTTyxHQUE0Qi9ELEdBQ25DLE1BQWdELG1CQUF6QzdFLE9BQU8xSCxVQUFVOE0sU0FBUzFPLEtBQUttTyxHQW9CeEMsUUFBU2dFLEdBQWtDQyxHQUFVbFIsS0FBS2tSLE9BQVNBLEVBc0JuRSxRQUFTQyxHQUFtQzlHLEdBQVFySyxLQUFLcUssS0FBT0EsRUFlaEUsUUFBUytHLEdBQWdDL0csR0FBUXJLLEtBQUtxSyxLQUFPQSxFQWU3RCxRQUFTZ0gsTUFTVCxRQUFTQyxHQUEwQjNCLEVBQU80QixFQUFPQyxHQUd2QixNQUFwQjdCLEVBQU04QixPQUFPLEtBQWM5QixFQUFRQSxFQUFNZ0IsT0FBTyxHQUVwRCxJQUFJZSxHQUFXL0IsRUFBTWdDLE1BQU0sS0FDdkJDLEVBQVUsR0FBSTFRLE9BQU13USxFQUFTbk4sT0FxQmpDaU4sR0FBWUssSUFBTSxFQUVsQixLQUFLLEdBQUkvSixHQUFFLEVBQUdBLEVBQUU0SixFQUFTbk4sT0FBUXVELElBQUssQ0FDcEMsR0FBMkJnSyxHQUF2QkMsRUFBVUwsRUFBUzVKLElBRW5CZ0ssRUFBUUMsRUFBUUQsTUFBTSxpQkFDeEJGLEVBQVE5SixHQUFLLEdBQUlxSixHQUFtQ1csRUFBTSxJQUMxRFAsRUFBTXpPLEtBQUtnUCxFQUFNLElBQ2pCTixFQUFZSyxLQUFPLE1BQ1ZDLEVBQVFDLEVBQVFELE1BQU0sa0JBQy9CRixFQUFROUosR0FBSyxHQUFJc0osR0FBZ0NVLEVBQU0sSUFDdkROLEVBQVlLLEtBQU8sSUFDbkJOLEVBQU16TyxLQUFLZ1AsRUFBTSxLQUNHLEtBQVpDLEdBQ1JILEVBQVE5SixHQUFLLEdBQUl1SixHQUNqQkcsRUFBWUssS0FBTyxNQUVuQkQsRUFBUTlKLEdBQUssR0FBSW1KLEdBQWtDYyxHQUNuRFAsRUFBWUssS0FBTyxLQU12QixNQUZBTCxHQUFZSyxLQUFPTCxFQUFZSyxJQUV4QkQsRUFvQlQsUUFBU0ksR0FBMEJDLEdBQ2pDalMsS0FBS2lTLFNBQVdBLEVBQ2hCalMsS0FBS2tTLGNBQ0xsUyxLQUFLbVMsYUFDTG5TLEtBQUtvUyxNQUFRbkssT0FDYmpJLEtBQUs2TCxTQUFXNUQsT0FDaEJqSSxLQUFLd1IsWUFBY3ZKLE9Bd0VyQixRQUFTb0ssR0FBa0NDLEdBQ3pDLE1BQU9BLEdBQU9DLEtBQUssU0FBU0MsRUFBRy9KLEdBQzdCLE1BQU9BLEdBQUUrSSxZQUFZSyxJQUFNVyxFQUFFaEIsWUFBWUssTUFJN0MsUUFBU1ksR0FBa0NILEVBQVFJLEdBR2pELElBQUssR0FGRFIsTUFFS3BLLEVBQUUsRUFBRzZLLEVBQUVMLEVBQU8vTixPQUFVb08sRUFBRjdLLEVBQUtBLElBQUssQ0FDdkMsR0FBSThLLEdBQVFOLEVBQU94SyxFQUVuQm9LLEdBQWFBLEVBQVdXLE9BQU9ELEVBQU1kLE1BQU1ZLElBRzdDLE1BQU9SLEdBU1QsUUFBU1ksR0FBcUNqRCxHQUM1QzdQLEtBQUs2UCxZQUFjQSxNQVVyQixRQUFTa0QsR0FBZ0NILEVBQU9yRCxFQUFNTSxHQUNwRCxHQUFJaEUsR0FBVytHLEVBQU0vRyxTQUFVdUcsRUFBUVEsRUFBTVIsTUFDekNZLEVBQVd6RCxFQUFLdUMsTUFBTU0sR0FBUWEsRUFBaUIsRUFDL0NDLEVBQVMsR0FBSUosR0FBcUNqRCxFQUV0RHFELEdBQU8zTyxPQUFTc0gsRUFBU3RILE1BRXpCLEtBQUssR0FBSXVELEdBQUUsRUFBR0EsRUFBRStELEVBQVN0SCxPQUFRdUQsSUFBSyxDQUdwQyxJQUFLLEdBRkR5QixHQUFVc0MsRUFBUy9ELEdBQUl5SixFQUFRaEksRUFBUWdJLE1BQU8zQixLQUV6Q3VELEVBQUUsRUFBR0EsRUFBRTVCLEVBQU1oTixPQUFRNE8sSUFDNUJ2RCxFQUFPMkIsRUFBTTRCLElBQU1ILEVBQVNDLElBRzlCQyxHQUFPcEwsSUFBT3lCLFFBQVNBLEVBQVFBLFFBQVNxRyxPQUFRQSxFQUFRd0QsWUFBYTdCLEVBQU1oTixRQUc3RSxNQUFPMk8sR0FHVCxRQUFTRyxHQUF5Q0MsR0FFaERBLEVBQU9BLEVBQUtoTSxRQUFRLE9BQVEsTUFDNUIsSUFBSTRMLEVBQ0osS0FDRUEsRUFBU0ssbUJBQW1CRCxHQUM1QixNQUFNbkgsR0FBUStHLEVBQVMsR0FDekIsTUFBT0EsR0ExWVRwRCxFQUErQnBQLFdBQzdCOFMsR0FBSSxTQUFTeEwsRUFBUThJLEdBQ25CLEdBQUlkLEdBQVdoUSxLQUFLZ1EsUUFRcEIsSUFOSUEsR0FBWUEsRUFBU3lELGVBQ3ZCekwsRUFBU2dJLEVBQVN5RCxhQUFhelQsS0FBSytQLFFBQVEvSCxPQUFRQSxJQUd0RGhJLEtBQUsrUCxRQUFRVCxJQUFJdFAsS0FBS3VQLEtBQU12SCxHQUV4QjhJLEVBQVUsQ0FDWixHQUF3QixJQUFwQkEsRUFBU3ZNLE9BQWdCLEtBQU0sSUFBSXBDLE9BQU0sMkRBQzdDbkMsTUFBSytQLFFBQVEyRCxTQUFTMVQsS0FBS3VQLEtBQU12SCxFQUFROEksRUFBVTlRLEtBQUtnUSxVQUUxRCxNQUFPaFEsUUFVWGlRLEVBQWdDdlAsV0FDOUI0TyxJQUFLLFNBQVNDLEVBQU1oRyxHQUNsQnZKLEtBQUtrUSxPQUFPWCxHQUFRaEcsR0FHdEJtSyxTQUFVLFNBQVNuRSxFQUFNdkgsRUFBUThJLEVBQVVkLEdBQ3pDLEdBQUlELEdBQVUsR0FBSUUsR0FBZ0NqSSxFQUNsRGhJLE1BQUttUSxTQUFTWixHQUFRUSxDQUV0QixJQUFJK0IsR0FBUTFCLEVBQXNDYixFQUFNUSxFQUFTQyxFQUU3REEsSUFBWUEsRUFBUzJELGdCQUN2QjNELEVBQVMyRCxlQUFlM0wsRUFBUThKLEdBR2xDaEIsRUFBU2dCLElBNENiLElBQUk4QixHQUFrQyxTQUFTOUMsRUFBVStDLEdBQ3ZELEdBQUk5RCxHQUFVLEdBQUlFLEVBRWxCYSxHQUFTVixFQUFzQyxHQUFJTCxFQUFTL1AsS0FBS2dRLFdBRWpFWSxLQUFzQ2IsRUFBUyxTQUFTSixHQUNsRGtFLEVBQW9CQSxFQUFpQjdULEtBQU0yUCxHQUN4QzNQLEtBQUtzUCxJQUFJSyxJQUNmM1AsT0FHRDhULEdBQ0YsSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQ3pCLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLE1BRzVCQyxFQUFrQyxHQUFJQyxRQUFPLE1BQVFGLEVBQTZCRyxLQUFLLE9BQVMsSUFBSyxJQXdCekdoRCxHQUFrQ3ZRLFdBQ2hDd1QsU0FBVSxTQUFTQyxHQUdqQixJQUFLLEdBRnFCekIsR0FBdEJ4QixFQUFTbFIsS0FBS2tSLE9BRVRwSixFQUFFLEVBQUdBLEVBQUVvSixFQUFPM00sT0FBUXVELElBQzdCNEssRUFBS3hCLEVBQU9PLE9BQU8zSixHQUNuQnFNLEVBQWVBLEVBQWFySyxLQUFNc0ssYUFBY25NLE9BQVdvTSxRQUFRLEVBQU9DLFdBQVk1QixHQUd4RixPQUFPeUIsSUFHVC9CLE1BQU8sV0FDTCxNQUFPcFMsTUFBS2tSLE9BQU81SixRQUFReU0sRUFBaUMsU0FHOURRLFNBQVUsV0FDUixNQUFPdlUsTUFBS2tSLFNBS2hCQyxFQUFtQ3pRLFdBQ2pDd1QsU0FBVSxTQUFTQyxHQUNqQixNQUFPQSxHQUFhckssS0FBTXNLLGFBQWMsSUFBS0MsUUFBUSxFQUFNQyxXQUFZck0sVUFHekVtSyxNQUFPLFdBQ0wsTUFBTyxXQUdUbUMsU0FBVSxTQUFTM0UsR0FDakIsTUFBT0EsR0FBTzVQLEtBQUtxSyxRQUt2QitHLEVBQWdDMVEsV0FDOUJ3VCxTQUFVLFNBQVNDLEdBQ2pCLE1BQU9BLEdBQWFySyxLQUFNc0ssYUFBYyxHQUFJQyxRQUFRLEVBQU1DLFdBQVlyTSxVQUd4RW1LLE1BQU8sV0FDTCxNQUFPLFFBR1RtQyxTQUFVLFNBQVMzRSxHQUNqQixNQUFPQSxHQUFPNVAsS0FBS3FLLFFBS3ZCZ0gsRUFBbUMzUSxXQUNqQ3dULFNBQVUsU0FBU0MsR0FDakIsTUFBT0EsSUFFVC9CLE1BQU8sV0FBYSxNQUFPLElBQzNCbUMsU0FBVSxXQUFhLE1BQU8sS0FtRmhDdkMsRUFBMEJ0UixXQUN4QndDLElBQUssU0FBUytPLEdBQ1osR0FBSWpTLEtBQUttUyxVQUFVRixFQUFTcUMsWUFDMUIsTUFBT3RVLE1BQUttUyxVQUFVRixFQUFTcUMsV0FLakMsS0FBSyxHQUZEcEMsR0FBYWxTLEtBQUtrUyxXQUVicEssRUFBRSxFQUFHQSxFQUFFb0ssRUFBVzNOLE9BQVF1RCxJQUFLLENBQ3RDLEdBQUkwTSxHQUFRdEMsRUFBV3BLLEdBRW5CMk0sRUFBVUQsRUFBTXZDLFNBQVNxQyxhQUFlckMsRUFBU3FDLFVBR3JELElBRkFHLEVBQVVBLEdBQVdELEVBQU12QyxTQUFTbUMsZUFBaUJuQyxFQUFTbUMsYUFJNUQsTUFEQXBVLE1BQUttUyxVQUFVRixFQUFTcUMsWUFBY0UsRUFDL0JBLElBS2IxSyxJQUFLLFNBQVNtSSxHQUNaLEdBQUlXLEVBSUosUUFBSUEsRUFBUTVTLEtBQUtrRCxJQUFJK08sSUFBb0JXLEdBR3pDQSxFQUFRLEdBQUlaLEdBQTBCQyxHQUd0Q2pTLEtBQUtrUyxXQUFXcFAsS0FBSzhQLEdBS2pCWCxFQUFTb0MsUUFDWHpCLEVBQU1WLFdBQVdwUCxLQUFLOFAsR0FJakJBLElBSVRkLE1BQU8sU0FBU1ksR0FNZCxJQUFLLEdBSkQ4QixHQUFPdkMsRUFBVXlDLEVBRGpCeEMsRUFBYWxTLEtBQUtrUyxXQUdsQnlDLEtBRUs3TSxFQUFFLEVBQUdBLEVBQUVvSyxFQUFXM04sT0FBUXVELElBQ2pDME0sRUFBUXRDLEVBQVdwSyxHQUVuQm1LLEVBQVd1QyxFQUFNdkMsU0FFNEIsb0JBQWpDeUMsRUFBUXpDLEVBQVNxQyxZQUNELEtBQXRCSSxFQUFNakwsUUFBUWlKLElBQWNpQyxFQUFTN1IsS0FBSzBSLEdBQ00sb0JBQW5DRSxFQUFRekMsRUFBU21DLGVBQ1IsS0FBdEJNLEVBQU1qTCxRQUFRaUosSUFBY2lDLEVBQVM3UixLQUFLMFIsRUFJbEQsT0FBT0csSUF1QlgsSUFBSUMsR0FBOEJ4TSxPQUFPUSxRQUFVLFNBQVNpTSxHQUMxRCxRQUFTQyxNQUVULE1BREFBLEdBQUVwVSxVQUFZbVUsRUFDUCxHQUFJQyxHQU1iaEMsR0FBcUNwUyxVQUFZa1UsR0FDL0M3TSxPQUFRN0csTUFBTVIsVUFBVXFILE9BQ3hCNUcsTUFBUUQsTUFBTVIsVUFBVVMsTUFDeEIyQixLQUFRNUIsTUFBTVIsVUFBVW9DLEtBQ3hCeUIsT0FBUSxFQUNSc0wsWUFBYSxNQW1DZixJQUFJa0YsR0FBc0MsV0FDeEMvVSxLQUFLZ1YsVUFBWSxHQUFJaEQsR0FDckJoUyxLQUFLdVIsU0FJUHdELEdBQW9DclUsV0FDbEM0TyxJQUFLLFNBQVNZLEVBQVF4TCxHQU9wQixJQUFLLEdBSnNEMkYsR0FGdkQ4SixFQUFlblUsS0FBS2dWLFVBQVc1QyxFQUFRLElBQ3ZDWixLQUNBM0YsRUFBVyxHQUFJM0ssT0FBTWdQLEVBQU8zTCxRQUFTMFEsS0FFckNDLEdBQVUsRUFFTHBOLEVBQUUsRUFBR0EsRUFBRW9JLEVBQU8zTCxPQUFRdUQsSUFBSyxDQUNsQyxHQUFJNkgsR0FBUU8sRUFBT3BJLEdBQUl5SixLQUVuQkcsRUFBV0osRUFBMEIzQixFQUFNSixLQUFNZ0MsRUFBT0MsRUFFNUR5RCxHQUFjQSxFQUFZcEMsT0FBT25CLEVBRWpDLEtBQUssR0FBSXlCLEdBQUUsRUFBR0EsRUFBRXpCLEVBQVNuTixPQUFRNE8sSUFBSyxDQUNwQyxHQUFJcEIsR0FBVUwsRUFBU3lCLEVBRW5CcEIsYUFBbUJWLEtBRXZCNkQsR0FBVSxFQUdWZixFQUFlQSxFQUFhckssS0FBTXNLLGFBQWNuTSxPQUFXb00sUUFBUSxFQUFPQyxXQUFZLE1BQ3RGbEMsR0FBUyxJQUdUK0IsRUFBZXBDLEVBQVFtQyxTQUFTQyxHQUNoQy9CLEdBQVNMLEVBQVFLLFNBRW5CLEdBQUk3SSxJQUFZQSxRQUFTb0csRUFBTXBHLFFBQVNnSSxNQUFPQSxFQUMvQzFGLEdBQVMvRCxHQUFLeUIsRUFHWjJMLElBQ0ZmLEVBQWVBLEVBQWFySyxLQUFNc0ssYUFBY25NLE9BQVdvTSxRQUFRLEVBQU9DLFdBQVksTUFDdEZsQyxHQUFTLEtBR1grQixFQUFhdEksU0FBV0EsRUFDeEJzSSxFQUFhL0IsTUFBUSxHQUFJNEIsUUFBTzVCLEVBQVEsS0FDeEMrQixFQUFhM0MsWUFBY0EsR0FFdkJuSCxFQUFPM0YsR0FBV0EsRUFBUXlRLE1BQzVCblYsS0FBS3VSLE1BQU1sSCxJQUNUcUgsU0FBVXVELEVBQ1ZwSixTQUFVQSxLQUtoQnVKLFlBQWEsU0FBUy9LLEdBQ3BCLEdBQUlzRixHQUFRM1AsS0FBS3VSLE1BQU1sSCxFQUV2QixLQUFLc0YsRUFBUyxLQUFNLElBQUl4TixPQUFNLDJCQUE2QmtJLEVBSTNELEtBQUssR0FGRDZJLEdBQVMsR0FBSWhTLE9BQU15TyxFQUFNOUQsU0FBU3RILFFBRTdCdUQsRUFBRSxFQUFHQSxFQUFFNkgsRUFBTTlELFNBQVN0SCxPQUFRdUQsSUFDckNvTCxFQUFPcEwsR0FBSzZILEVBQU05RCxTQUFTL0QsRUFHN0IsT0FBT29MLElBR1RtQyxTQUFVLFNBQVNoTCxHQUNqQixRQUFTckssS0FBS3VSLE1BQU1sSCxJQUd0QmtLLFNBQVUsU0FBU2xLLEVBQU11RixHQUN2QixHQUFJRCxHQUFRM1AsS0FBS3VSLE1BQU1sSCxHQUFPbEMsRUFBUyxFQUN2QyxLQUFLd0gsRUFBUyxLQUFNLElBQUl4TixPQUFNLDJCQUE2QmtJLEVBSTNELEtBQUssR0FGRHFILEdBQVcvQixFQUFNK0IsU0FFWjVKLEVBQUUsRUFBR0EsRUFBRTRKLEVBQVNuTixPQUFRdUQsSUFBSyxDQUNwQyxHQUFJaUssR0FBVUwsRUFBUzVKLEVBRW5CaUssYUFBbUJWLEtBRXZCbEosR0FBVSxJQUNWQSxHQUFVNEosRUFBUXdDLFNBQVMzRSxJQVM3QixNQU55QixNQUFyQnpILEVBQU9zSixPQUFPLEtBQWN0SixFQUFTLElBQU1BLEdBRTNDeUgsR0FBVUEsRUFBT0MsY0FDbkIxSCxHQUFVbkksS0FBS3NWLG9CQUFvQjFGLEVBQU9DLFlBQWFGLEVBQU05RCxXQUd4RDFELEdBR1RtTixvQkFBcUIsU0FBUzFGLEVBQVEvRCxHQUNwQyxHQUFJMEosTUFDQXhILElBQ0osS0FBSSxHQUFJeUgsS0FBTzVGLEdBQ1RBLEVBQU90SCxlQUFla04sSUFDeEJ6SCxFQUFLakwsS0FBSzBTLEVBR2R6SCxHQUFLd0UsTUFDTCxLQUFLLEdBQUl6SyxHQUFJLEVBQUdBLEVBQUlpRyxFQUFLeEosT0FBUXVELElBQUssQ0FDcEMwTixFQUFNekgsRUFBS2pHLEVBQ1gsSUFBSTJOLEdBQVE3RixFQUFPNEYsRUFDbkIsSUFBYSxNQUFUQyxFQUFKLENBR0EsR0FBSUMsR0FBT0MsbUJBQW1CSCxFQUM5QixJQUFJeEUsRUFBNEJ5RSxHQUM5QixJQUFLLEdBQUl0QyxHQUFJLEVBQUdBLEVBQUlzQyxFQUFNbFIsT0FBUTRPLElBQUssQ0FDckMsR0FBSXlDLEdBQVlKLEVBQU0sTUFBYUcsbUJBQW1CRixFQUFNdEMsR0FDNURvQyxHQUFNelMsS0FBSzhTLE9BR2JGLElBQVEsSUFBTUMsbUJBQW1CRixHQUNqQ0YsRUFBTXpTLEtBQUs0UyxJQUlmLE1BQXFCLEtBQWpCSCxFQUFNaFIsT0FBdUIsR0FFMUIsSUFBTWdSLEVBQU10QixLQUFLLE1BRzFCNEIsaUJBQWtCLFNBQVNDLEdBRXpCLElBQUksR0FEQVAsR0FBUU8sRUFBWW5FLE1BQU0sS0FBTTlCLEtBQzVCL0gsRUFBRSxFQUFHQSxFQUFJeU4sRUFBTWhSLE9BQVF1RCxJQUFLLENBQ2xDLEdBSUkyTixHQUpBQyxFQUFZSCxFQUFNek4sR0FBRzZKLE1BQU0sS0FDM0I2RCxFQUFZbkMsRUFBeUNxQyxFQUFLLElBQzFESyxFQUFZUCxFQUFJalIsT0FDaEJxRCxHQUFVLENBRU0sS0FBaEI4TixFQUFLblIsT0FDUGtSLEVBQVEsUUFHSk0sRUFBWSxHQUFpQyxPQUE1QlAsRUFBSXJVLE1BQU00VSxFQUFXLEtBQ3hDbk8sR0FBVSxFQUNWNE4sRUFBTUEsRUFBSXJVLE1BQU0sRUFBRzRVLEVBQVksR0FDM0JsRyxFQUFZMkYsS0FDZDNGLEVBQVkyRixRQUdoQkMsRUFBUUMsRUFBSyxHQUFLckMsRUFBeUNxQyxFQUFLLElBQU0sSUFFcEU5TixFQUNGaUksRUFBWTJGLEdBQUsxUyxLQUFLMlMsR0FFdEI1RixFQUFZMkYsR0FBT0MsRUFHdkIsTUFBTzVGLElBR1RILFVBQVcsU0FBU0gsR0FDbEIsR0FDSXlHLEdBQVNsTyxFQUFNbU8sRUFEZjNELEdBQVd0UyxLQUFLZ1YsV0FDV25GLEtBQzNCcUcsR0FBaUIsQ0FHckIsSUFEQUQsRUFBYTFHLEVBQUs5RixRQUFRLEtBQ1AsS0FBZndNLEVBQW1CLENBQ3JCLEdBQUlILEdBQWN2RyxFQUFLb0IsT0FBT3NGLEVBQWEsRUFBRzFHLEVBQUtoTCxPQUNuRGdMLEdBQU9BLEVBQUtvQixPQUFPLEVBQUdzRixHQUN0QnBHLEVBQWM3UCxLQUFLNlYsaUJBQWlCQyxHQWF0QyxJQVZBdkcsRUFBTzRHLFVBQVU1RyxHQUVNLE1BQW5CQSxFQUFLa0MsT0FBTyxLQUFjbEMsRUFBTyxJQUFNQSxHQUUzQ3lHLEVBQVV6RyxFQUFLaEwsT0FDWHlSLEVBQVUsR0FBa0MsTUFBN0J6RyxFQUFLa0MsT0FBT3VFLEVBQVUsS0FDdkN6RyxFQUFPQSxFQUFLb0IsT0FBTyxFQUFHcUYsRUFBVSxHQUNoQ0UsR0FBaUIsR0FHZHBPLEVBQUUsRUFBR0EsRUFBRXlILEVBQUtoTCxTQUNmK04sRUFBU0csRUFBa0NILEVBQVEvQyxFQUFLa0MsT0FBTzNKLElBQzFEd0ssRUFBTy9OLFFBRld1RCxLQUt6QixHQUFJc08sS0FDSixLQUFLdE8sRUFBRSxFQUFHQSxFQUFFd0ssRUFBTy9OLE9BQVF1RCxJQUNyQndLLEVBQU94SyxHQUFHK0QsVUFBWXVLLEVBQVV0VCxLQUFLd1AsRUFBT3hLLEdBR2xEd0ssR0FBU0QsRUFBa0MrRCxFQUUzQyxJQUFJeEQsR0FBUXdELEVBQVUsRUFFdEIsT0FBSXhELElBQVNBLEVBQU0vRyxVQUdicUssR0FBbUQsVUFBakN0RCxFQUFNUixNQUFNN08sT0FBT3BDLE1BQU0sTUFDN0NvTyxHQUFjLEtBRVR3RCxFQUFnQ0gsRUFBT3JELEVBQU1NLElBTnRELFNBV0prRixFQUFvQ3JVLFVBQVVrTixJQUFNZ0csRUFFcERtQixFQUFvQ3NCLFFBQVUsUUFFOUMsSUFBSUMsR0FBOEJ2QixDQUdEeFcsR0FBb0IsR0FBUSxLQUN6RDRNLEVBQWdDLFdBQWEsTUFBT21MLElBQStCeFgsS0FBS0osRUFBU0gsRUFBcUJHLEVBQVNDLEtBQTJDc0osU0FBbENrRCxJQUFnRHhNLEVBQU9ELFFBQVV5TSxLQUNoTCxtQkFBWHhNLElBQTBCQSxFQUFnQixRQUMxREEsRUFBZ0IsUUFBSTJYLEVBQ0ssbUJBQVR0VyxRQUNoQkEsS0FBc0IsZ0JBQUlzVyxLQUU3QnhYLEtBQUtrQixRQUdxQmxCLEtBQUtKLEVBQVNILEVBQW9CLEdBQUdJLEtBSTdELFNBQVNBLEVBQVFELEdBRXRCQyxFQUFPRCxRQUFVLFNBQVNDLEdBUXpCLE1BUElBLEdBQU80WCxrQkFDVjVYLEVBQU82WCxVQUFZLGFBQ25CN1gsRUFBTzhYLFNBRVA5WCxFQUFPd1IsWUFDUHhSLEVBQU80WCxnQkFBa0IsR0FFbkI1WCxJQU1ILFNBQVNBLEVBQVFELEdBRXRCQyxFQUFPRCxRQUFVLFdBQWEsS0FBTSxJQUFJeUQsT0FBTSIsImZpbGUiOiJwb3dlcmJpLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgY29yZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcclxuXHR2YXIgZmFjdG9yaWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcclxuXHQvKipcclxuXHQgKiBNYWtlIFBvd2VyQmkgYXZhaWxhYmxlIG9uIGdsb2JhbCBvYmplY3QgZm9yIHVzZSBpbiBhcHBzIHdpdGhvdXQgbW9kdWxlIGxvYWRpbmcgc3VwcG9ydC5cclxuXHQgKiBTYXZlIGNsYXNzIHRvIGFsbG93IGNyZWF0aW5nIGFuIGluc3RhbmNlIG9mIHRoZSBzZXJ2aWNlLlxyXG5cdCAqIENyZWF0ZSBpbnN0YW5jZSBvZiBjbGFzcyB3aXRoIGRlZmF1bHQgY29uZmlnIGZvciBub3JtYWwgdXNhZ2UuXHJcblx0ICovXHJcblx0d2luZG93LlBvd2VyYmkgPSBjb3JlXzEuUG93ZXJCaTtcclxuXHR3aW5kb3cucG93ZXJiaSA9IG5ldyBjb3JlXzEuUG93ZXJCaShmYWN0b3JpZXMuaHBtRmFjdG9yeSwgZmFjdG9yaWVzLndwbXBGYWN0b3J5LCBmYWN0b3JpZXMucm91dGVyRmFjdG9yeSk7XHJcblxuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGVtYmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5cdHZhciByZXBvcnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XHJcblx0dmFyIHRpbGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XHJcblx0dmFyIHV0aWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XHJcblx0dmFyIFBvd2VyQmkgPSAoZnVuY3Rpb24gKCkge1xyXG5cdCAgICBmdW5jdGlvbiBQb3dlckJpKGhwbUZhY3RvcnksIHdwbXBGYWN0b3J5LCByb3V0ZXJGYWN0b3J5LCBjb25maWcpIHtcclxuXHQgICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG5cdCAgICAgICAgdGhpcy5ocG1GYWN0b3J5ID0gaHBtRmFjdG9yeTtcclxuXHQgICAgICAgIHRoaXMud3BtcEZhY3RvcnkgPSB3cG1wRmFjdG9yeTtcclxuXHQgICAgICAgIHRoaXMucm91dGVyRmFjdG9yeSA9IHJvdXRlckZhY3Rvcnk7XHJcblx0ICAgICAgICB0aGlzLmVtYmVkcyA9IFtdO1xyXG5cdCAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLm9uUmVjZWl2ZU1lc3NhZ2UuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG5cdCAgICAgICAgLy8gVE9ETzogQ2hhbmdlIHdoZW4gT2JqZWN0LmFzc2lnbiBpcyBhdmFpbGFibGUuXHJcblx0ICAgICAgICB0aGlzLmNvbmZpZyA9IHV0aWxfMS5VdGlscy5hc3NpZ24oe30sIFBvd2VyQmkuZGVmYXVsdENvbmZpZywgY29uZmlnKTtcclxuXHQgICAgICAgIGlmICh0aGlzLmNvbmZpZy5hdXRvRW1iZWRPbkNvbnRlbnRMb2FkZWQpIHtcclxuXHQgICAgICAgICAgICB0aGlzLmVuYWJsZUF1dG9FbWJlZCgpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBIYW5kbGVyIGZvciBET01Db250ZW50TG9hZGVkIHdoaWNoIHNlYXJjaGVzIERPTSBmb3IgZWxlbWVudHMgaGF2aW5nICdwb3dlcmJpLWVtYmVkLXVybCcgYXR0cmlidXRlXHJcblx0ICAgICAqIGFuZCBhdXRvbWF0aWNhbGx5IGF0dGVtcHRzIHRvIGVtYmVkIGEgcG93ZXJiaSBjb21wb25lbnQgYmFzZWQgb24gaW5mb3JtYXRpb24gZnJvbSB0aGUgYXR0cmlidXRlcy5cclxuXHQgICAgICogT25seSBydW5zIGlmIGBjb25maWcuYXV0b0VtYmVkT25Db250ZW50TG9hZGVkYCBpcyB0cnVlIHdoZW4gdGhlIHNlcnZpY2UgaXMgY3JlYXRlZC5cclxuXHQgICAgICovXHJcblx0ICAgIFBvd2VyQmkucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XHJcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cdCAgICAgICAgY29udGFpbmVyID0gKGNvbnRhaW5lciAmJiBjb250YWluZXIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkgPyBjb250YWluZXIgOiBkb2N1bWVudC5ib2R5O1xyXG5cdCAgICAgICAgdmFyIGVsZW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbXCIgKyBlbWJlZF8xLkVtYmVkLmVtYmVkVXJsQXR0cmlidXRlICsgXCJdXCIpKTtcclxuXHQgICAgICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsgcmV0dXJuIF90aGlzLmVtYmVkKGVsZW1lbnQpOyB9KTtcclxuXHQgICAgfTtcclxuXHQgICAgLyoqXHJcblx0ICAgICAqIEdpdmVuIGFuIGh0bWwgZWxlbWVudCBlbWJlZCBjb21wb25lbnQgYmFzZWQgb24gY29uZmlndXJhdGlvbi5cclxuXHQgICAgICogSWYgY29tcG9uZW50IGhhcyBhbHJlYWR5IGJlZW4gY3JlYXRlZCBhbmQgYXR0YWNoZWQgdG8gZWxlbWVudCByZS11c2UgY29tcG9uZW50IGluc3RhbmNlIGFuZCBleGlzdGluZyBpZnJhbWUsXHJcblx0ICAgICAqIG90aGVyd2lzZSBjcmVhdGUgYSBuZXcgY29tcG9uZW50IGluc3RhbmNlXHJcblx0ICAgICAqL1xyXG5cdCAgICBQb3dlckJpLnByb3RvdHlwZS5lbWJlZCA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb25maWcpIHtcclxuXHQgICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG5cdCAgICAgICAgdmFyIGNvbXBvbmVudDtcclxuXHQgICAgICAgIHZhciBwb3dlckJpRWxlbWVudCA9IGVsZW1lbnQ7XHJcblx0ICAgICAgICBpZiAocG93ZXJCaUVsZW1lbnQucG93ZXJCaUVtYmVkKSB7XHJcblx0ICAgICAgICAgICAgY29tcG9uZW50ID0gdGhpcy5lbWJlZEV4aXN0aW5nKHBvd2VyQmlFbGVtZW50LCBjb25maWcpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZWxzZSB7XHJcblx0ICAgICAgICAgICAgY29tcG9uZW50ID0gdGhpcy5lbWJlZE5ldyhwb3dlckJpRWxlbWVudCwgY29uZmlnKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHJldHVybiBjb21wb25lbnQ7XHJcblx0ICAgIH07XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBHaXZlbiBhbiBodG1sIGVsZW1lbnQgZW1iZWQgY29tcG9uZW50IGJhc2UgY29uZmlndXJhdGlvbi5cclxuXHQgICAgICogU2F2ZSBjb21wb25lbnQgaW5zdGFuY2Ugb24gZWxlbWVudCBmb3IgbGF0ZXIgbG9va3VwLlxyXG5cdCAgICAgKi9cclxuXHQgICAgUG93ZXJCaS5wcm90b3R5cGUuZW1iZWROZXcgPSBmdW5jdGlvbiAoZWxlbWVudCwgY29uZmlnKSB7XHJcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cdCAgICAgICAgdmFyIGNvbXBvbmVudFR5cGUgPSBjb25maWcudHlwZSB8fCBlbGVtZW50LmdldEF0dHJpYnV0ZShlbWJlZF8xLkVtYmVkLnR5cGVBdHRyaWJ1dGUpO1xyXG5cdCAgICAgICAgaWYgKCFjb21wb25lbnRUeXBlKSB7XHJcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGVtYmVkIHVzaW5nIGNvbmZpZyBcIiArIEpTT04uc3RyaW5naWZ5KGNvbmZpZykgKyBcIiBvbiBlbGVtZW50IFwiICsgZWxlbWVudC5vdXRlckhUTUwgKyBcIiwgYnV0IGNvdWxkIG5vdCBkZXRlcm1pbmUgd2hhdCB0eXBlIG9mIGNvbXBvbmVudCB0byBlbWJlZC4gWW91IG11c3Qgc3BlY2lmeSBhIHR5cGUgaW4gdGhlIGNvbmZpZ3VyYXRpb24gb3IgYXMgYW4gYXR0cmlidXRlIHN1Y2ggYXMgJ1wiICsgZW1iZWRfMS5FbWJlZC50eXBlQXR0cmlidXRlICsgXCI9XFxcIlwiICsgcmVwb3J0XzEuUmVwb3J0LnR5cGUudG9Mb3dlckNhc2UoKSArIFwiXFxcIicuXCIpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgLy8gU2F2ZSB0eXBlIG9uIGNvbmZpZ3VyYXRpb24gc28gaXQgY2FuIGJlIHJlZmVyZW5jZWQgbGF0ZXIgYXQga25vd24gbG9jYXRpb25cclxuXHQgICAgICAgIGNvbmZpZy50eXBlID0gY29tcG9uZW50VHlwZTtcclxuXHQgICAgICAgIHZhciBDb21wb25lbnQgPSB1dGlsXzEuVXRpbHMuZmluZChmdW5jdGlvbiAoY29tcG9uZW50KSB7IHJldHVybiBjb21wb25lbnRUeXBlID09PSBjb21wb25lbnQudHlwZS50b0xvd2VyQ2FzZSgpOyB9LCBQb3dlckJpLmNvbXBvbmVudHMpO1xyXG5cdCAgICAgICAgaWYgKCFDb21wb25lbnQpIHtcclxuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gZW1iZWQgY29tcG9uZW50IG9mIHR5cGU6IFwiICsgY29tcG9uZW50VHlwZSArIFwiIGJ1dCBkaWQgbm90IGZpbmQgYW55IG1hdGNoaW5nIGNvbXBvbmVudC4gIFBsZWFzZSB2ZXJpZnkgdGhlIHR5cGUgeW91IHNwZWNpZmllZCBpcyBpbnRlbmRlZC5cIik7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICAvLyBUT0RPOiBDb25zaWRlciByZW1vdmluZyBpbiBmYXZvciBvZiBwYXNzaW5nIHJlZmVyZW5jZSB0byBgdGhpc2AgaW4gY29uc3RydWN0b3JcclxuXHQgICAgICAgIC8vIFRoZSBnZXRHbG9iYWxBY2Nlc3NUb2tlbiBmdW5jdGlvbiBpcyBvbmx5IGhlcmUgc28gdGhhdCB0aGUgY29tcG9uZW50cyAoVGlsZSB8IFJlcG9ydCkgY2FuIGdldCB0aGUgZ2xvYmFsIGFjY2VzcyB0b2tlbiB3aXRob3V0IG5lZWRpbmcgcmVmZXJlbmNlXHJcblx0ICAgICAgICAvLyB0byB0aGUgc2VydmljZSB0aGF0IHRoZXkgYXJlIHJlZ2lzdGVyZWQgd2l0aGluIGJlY2F1ZXMgaXQgY3JlYXRlcyBjaXJjdWxhciBkZXBlbmRlbmNpZXNcclxuXHQgICAgICAgIGNvbmZpZy5nZXRHbG9iYWxBY2Nlc3NUb2tlbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmFjY2Vzc1Rva2VuOyB9O1xyXG5cdCAgICAgICAgdmFyIGNvbXBvbmVudCA9IG5ldyBDb21wb25lbnQodGhpcy5ocG1GYWN0b3J5LCB0aGlzLndwbXBGYWN0b3J5LCB0aGlzLnJvdXRlckZhY3RvcnksIGVsZW1lbnQsIGNvbmZpZyk7XHJcblx0ICAgICAgICBlbGVtZW50LnBvd2VyQmlFbWJlZCA9IGNvbXBvbmVudDtcclxuXHQgICAgICAgIHRoaXMuZW1iZWRzLnB1c2goY29tcG9uZW50KTtcclxuXHQgICAgICAgIHJldHVybiBjb21wb25lbnQ7XHJcblx0ICAgIH07XHJcblx0ICAgIFBvd2VyQmkucHJvdG90eXBlLmVtYmVkRXhpc3RpbmcgPSBmdW5jdGlvbiAoZWxlbWVudCwgY29uZmlnKSB7XHJcblx0ICAgICAgICB2YXIgY29tcG9uZW50ID0gdXRpbF8xLlV0aWxzLmZpbmQoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguZWxlbWVudCA9PT0gZWxlbWVudDsgfSwgdGhpcy5lbWJlZHMpO1xyXG5cdCAgICAgICAgaWYgKCFjb21wb25lbnQpIHtcclxuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gZW1iZWQgdXNpbmcgY29uZmlnIFwiICsgSlNPTi5zdHJpbmdpZnkoY29uZmlnKSArIFwiIG9uIGVsZW1lbnQgXCIgKyBlbGVtZW50Lm91dGVySFRNTCArIFwiIHdoaWNoIGFscmVhZHkgaGFzIGVtYmVkZGVkIGNvbW9wbmVudCBhc3NvY2lhdGVkLCBidXQgY291bGQgbm90IGZpbmQgdGhlIGV4aXN0aW5nIGNvbW9wbmVudCBpbiB0aGUgbGlzdCBvZiBhY3RpdmUgY29tcG9uZW50cy4gVGhpcyBjb3VsZCBpbmRpY2F0ZSB0aGUgZW1iZWRzIGxpc3QgaXMgb3V0IG9mIHN5bmMgd2l0aCB0aGUgRE9NLCBvciB0aGUgY29tcG9uZW50IGlzIHJlZmVyZW5jaW5nIHRoZSBpbmNvcnJlY3QgSFRNTCBlbGVtZW50LlwiKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGNvbXBvbmVudC5sb2FkKGNvbmZpZywgdHJ1ZSk7XHJcblx0ICAgICAgICByZXR1cm4gY29tcG9uZW50O1xyXG5cdCAgICB9O1xyXG5cdCAgICAvKipcclxuXHQgICAgICogQWRkcyBldmVudCBoYW5kbGVyIGZvciBET01Db250ZW50TG9hZGVkIHdoaWNoIGZpbmRzIGFsbCBlbGVtZW50cyBpbiBET00gd2l0aCBhdHRyaWJ1dGUgcG93ZXJiaS1lbWJlZC11cmxcclxuXHQgICAgICogdGhlbiBhdHRlbXB0cyB0byBpbml0aWF0ZSB0aGUgZW1iZWQgcHJvY2VzcyBiYXNlZCBvbiBkYXRhIGZyb20gb3RoZXIgcG93ZXJiaS0qIGF0dHJpYnV0ZXMuXHJcblx0ICAgICAqIChUaGlzIGlzIHVzdWFsbHkgb25seSB1c2VmdWwgZm9yIGFwcGxpY2F0aW9ucyByZW5kZXJlZCBvbiBieSB0aGUgc2VydmVyIHNpbmNlIGFsbCB0aGUgZGF0YSBuZWVkZWQgd2lsbCBiZSBhdmFpbGFibGUgYnkgdGhlIHRpbWUgdGhlIGhhbmRsZXIgaXMgY2FsbGVkLilcclxuXHQgICAgICovXHJcblx0ICAgIFBvd2VyQmkucHJvdG90eXBlLmVuYWJsZUF1dG9FbWJlZCA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblx0ICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gX3RoaXMuaW5pdChkb2N1bWVudC5ib2R5KTsgfSwgZmFsc2UpO1xyXG5cdCAgICB9O1xyXG5cdCAgICAvKipcclxuXHQgICAgICogUmV0dXJucyBpbnN0YW5jZSBvZiBjb21wb25lbnQgYXNzb2NpYXRlZCB3aXRoIGVsZW1lbnQuXHJcblx0ICAgICAqL1xyXG5cdCAgICBQb3dlckJpLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG5cdCAgICAgICAgdmFyIHBvd2VyQmlFbGVtZW50ID0gZWxlbWVudDtcclxuXHQgICAgICAgIGlmICghcG93ZXJCaUVsZW1lbnQucG93ZXJCaUVtYmVkKSB7XHJcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGF0dGVtcHRlZCB0byBnZXQgYW4gaW5zdGFuY2Ugb2YgcG93ZXJiaSBjb21wb25lbnQgYXNzb2NpYXRlZCB3aXRoIGVsZW1lbnQ6IFwiICsgZWxlbWVudC5vdXRlckhUTUwgKyBcIiBidXQgdGhlcmUgd2FzIG5vIGFzc29jaWF0ZWQgaW5zdGFuY2UuXCIpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgcmV0dXJuIHBvd2VyQmlFbGVtZW50LnBvd2VyQmlFbWJlZDtcclxuXHQgICAgfTtcclxuXHQgICAgLyoqXHJcblx0ICAgICAqIEdpdmVuIGFuIGh0bWwgZWxlbWVudCB3aGljaCBoYXMgY29tcG9uZW50IGVtYmVkZGVkIHdpdGhpbiBpdCwgcmVtb3ZlIHRoZSBjb21wb25lbnQgZnJvbSBsaXN0IG9mIGVtYmVkcywgcmVtb3ZlIGFzc29jaWF0aW9uIHdpdGggY29tcG9uZW50LCBhbmQgcmVtb3ZlIHRoZSBpZnJhbWUuXHJcblx0ICAgICAqL1xyXG5cdCAgICBQb3dlckJpLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcblx0ICAgICAgICB2YXIgcG93ZXJCaUVsZW1lbnQgPSBlbGVtZW50O1xyXG5cdCAgICAgICAgaWYgKCFwb3dlckJpRWxlbWVudC5wb3dlckJpRW1iZWQpIHtcclxuXHQgICAgICAgICAgICByZXR1cm47XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICAvKiogUmVtb3ZlIGNvbXBvbmVudCBmcm9tIGludGVybmFsIGxpc3QgKi9cclxuXHQgICAgICAgIHV0aWxfMS5VdGlscy5yZW1vdmUoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggPT09IHBvd2VyQmlFbGVtZW50LnBvd2VyQmlFbWJlZDsgfSwgdGhpcy5lbWJlZHMpO1xyXG5cdCAgICAgICAgLyoqIERlbGV0ZSBwcm9wZXJ0eSBmcm9tIGh0bWwgZWxlbWVudCAqL1xyXG5cdCAgICAgICAgZGVsZXRlIHBvd2VyQmlFbGVtZW50LnBvd2VyQmlFbWJlZDtcclxuXHQgICAgICAgIC8qKiBSZW1vdmUgaWZyYW1lIGZyb20gZWxlbWVudCAqL1xyXG5cdCAgICAgICAgdmFyIGlmcmFtZSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignaWZyYW1lJyk7XHJcblx0ICAgICAgICBpZiAoaWZyYW1lKSB7XHJcblx0ICAgICAgICAgICAgaWZyYW1lLnJlbW92ZSgpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICAvKipcclxuXHQgICAgICogSGFuZGxlciBmb3Igd2luZG93IG1lc3NhZ2UgZXZlbnQuXHJcblx0ICAgICAqIFBhcnNlcyBldmVudCBkYXRhIGFzIGpzb24gYW5kIGlmIGl0IGNhbWUgZnJvbSBhbiBpZnJhbWUgdGhhdCBtYXRjaGVzIG9uZSBmcm9tIGFuIGV4aXN0aW5nIGVtYmVkZWQgY29tcG9uZW50IHJlLWRpc3BhdGNoZXMgdGhlIGV2ZW50IG9uIHRoZSBpZnJhbWUncyBwYXJlbnQgZWxlbWVudFxyXG5cdCAgICAgKiB0byBzaW11bGF0ZSB0aGUgZXZlbnQgYnViYmxpbmcgdGhyb3VnaCB0aGUgdHdvIHNlcGFyYXRlIHdpbmRvd3MgLyBET01zLlxyXG5cdCAgICAgKlxyXG5cdCAgICAgKiBJZiBhbiBlcnJvciBvY2N1cnMgd2hlbiBwYXJzaW5nIGV2ZW50LmRhdGEgY2FsbCBlcnJvciBoYW5kbGVyIHByb3ZpZGVkIGR1cmluZyBjb25maWd1cmF0aW9uLlxyXG5cdCAgICAgKi9cclxuXHQgICAgUG93ZXJCaS5wcm90b3R5cGUub25SZWNlaXZlTWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkge1xyXG5cdCAgICAgICAgaWYgKCFldmVudCkge1xyXG5cdCAgICAgICAgICAgIHJldHVybjtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHRyeSB7XHJcblx0ICAgICAgICAgICAgLy8gT25seSByYWlzZSB0aGUgZXZlbnQgb24gdGhlIGVtYmVkIHRoYXQgbWF0Y2hlcyB0aGUgcG9zdCBtZXNzYWdlIG9yaWdpblxyXG5cdCAgICAgICAgICAgIHZhciBlbWJlZCA9IHV0aWxfMS5VdGlscy5maW5kKGZ1bmN0aW9uIChlbWJlZCkgeyByZXR1cm4gZXZlbnQuc291cmNlID09PSBlbWJlZC5pZnJhbWUuY29udGVudFdpbmRvdzsgfSwgdGhpcy5lbWJlZHMpO1xyXG5cdCAgICAgICAgICAgIGlmIChlbWJlZCkge1xyXG5cdCAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZURhdGEgPSB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGV2ZW50LmRhdGEpIDogZXZlbnQuZGF0YTtcclxuXHQgICAgICAgICAgICAgICAgdXRpbF8xLlV0aWxzLnJhaXNlQ3VzdG9tRXZlbnQoZW1iZWQuZWxlbWVudCwgUG93ZXJCaS5ldmVudE1hcFttZXNzYWdlRGF0YS5ldmVudF0sIG1lc3NhZ2VEYXRhKTtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBjYXRjaCAoZSkge1xyXG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5jb25maWcub25FcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5vbkVycm9yLmNhbGwod2luZG93LCBlKTtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgZWxzZSB7XHJcblx0ICAgICAgICAgICAgICAgIHRocm93IGU7XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICAvKipcclxuXHQgICAgICogTGlzdCBvZiBjb21wb25lbnRzIHRoaXMgc2VydmljZSBjYW4gZW1iZWQuXHJcblx0ICAgICAqL1xyXG5cdCAgICAvKipcclxuXHQgICAgICogVE9ETzogU2VlIGlmIGl0J3MgcG9zc2libGUgdG8gcmVtb3ZlIG5lZWQgZm9yIHRoaXMgaW50ZXJmYWNlIGFuZCBqdXN0IHVzZSBFbWJlZCBiYXNlIG9iamVjdCBhcyBjb21tb24gYmV0d2VlbiBUaWxlIGFuZCBSZXBvcnRcclxuXHQgICAgICogVGhpcyB3YXMgb25seSBwdXQgaXQgdG8gYWxsb3cgYm90aCB0eXBlcyBvZiBjb21wb25lbnRzIHRvIGJlIGluIHRoZSBzYW1lIGxpc3RcclxuXHQgICAgICovXHJcblx0ICAgIFBvd2VyQmkuY29tcG9uZW50cyA9IFtcclxuXHQgICAgICAgIHRpbGVfMS5UaWxlLFxyXG5cdCAgICAgICAgcmVwb3J0XzEuUmVwb3J0XHJcblx0ICAgIF07XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBNYXBwaW5nIG9mIGV2ZW50IG5hbWVzIGZyb20gaWZyYW1lIHBvc3RNZXNzYWdlIHRvIHRoZWlyIG5hbWUgcGVyY2lldmVkIGJ5IHBhcmVudCBET00uXHJcblx0ICAgICAqIEV4YW1wbGU6IFVzZXIgY2xpY2tzIG9uIGVtYmVkZWQgcmVwb3J0IHdoaWNoIGlzIGluc2lkZSBpZnJhbWUuIFRoZSBpZnJhbWUgY29kZSByZXNlbmRzXHJcblx0ICAgICAqIGV2ZW50IGFzIHBvc3RNZXNzYWdlIHdpdGggeyBldmVudDogJ3JlcG9ydENsaWNrZWQnLCAuLi4gfSBhbmQgdGhpcyBuYW1lIGlzIGNvbnZlcnRlZCB0byBoeXBoZW5hdGVkXHJcblx0ICAgICAqIG5hbWUgYW5kIGRpc3BhdGNoZWQgZnJvbSB0aGUgcGFyZW50IGVsZW1lbnQgb2YgdGhlIGlmcmFtZSB0byBzaW11bGF0ZSB0aGUgZXZlbnQgYnViYmxpbmcgdGhyb3VnaCB0d29cclxuXHQgICAgICogZGlmZmVyZW50IHdpbmRvd3MgLyBET01zXHJcblx0ICAgICAqL1xyXG5cdCAgICBQb3dlckJpLmV2ZW50TWFwID0ge1xyXG5cdCAgICAgICAgJ3RpbGVDbGlja2VkJzogJ3RpbGUtY2xpY2snLFxyXG5cdCAgICAgICAgJ3RpbGVMb2FkZWQnOiAndGlsZS1sb2FkJyxcclxuXHQgICAgICAgICdyZXBvcnRQYWdlTG9hZGVkJzogJ3JlcG9ydC1sb2FkJ1xyXG5cdCAgICB9O1xyXG5cdCAgICAvKipcclxuXHQgICAgICogRGVmYXVsdCBjb25maWd1cmF0aW9uIGZvciBzZXJ2aWNlLlxyXG5cdCAgICAgKi9cclxuXHQgICAgUG93ZXJCaS5kZWZhdWx0Q29uZmlnID0ge1xyXG5cdCAgICAgICAgYXV0b0VtYmVkT25Db250ZW50TG9hZGVkOiBmYWxzZSxcclxuXHQgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG5cdCAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcblx0ICAgICAgICAgICAgICAgIGFyZ3NbX2kgLSAwXSA9IGFyZ3VtZW50c1tfaV07XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhhcmdzWzBdLCBhcmdzLnNsaWNlKDEpKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfTtcclxuXHQgICAgcmV0dXJuIFBvd2VyQmk7XHJcblx0fSgpKTtcclxuXHRleHBvcnRzLlBvd2VyQmkgPSBQb3dlckJpO1xyXG5cblxuLyoqKi8gfSxcbi8qIDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciB1dGlsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xyXG5cdHZhciBFbWJlZCA9IChmdW5jdGlvbiAoKSB7XHJcblx0ICAgIGZ1bmN0aW9uIEVtYmVkKGhwbUZhY3RvcnksIHdwbXBGYWN0b3J5LCByb3V0ZXJGYWN0b3J5LCBlbGVtZW50LCBvcHRpb25zKSB7XHJcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cdCAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuXHQgICAgICAgIC8vIFRPRE86IENoYW5nZSB3aGVuIE9iamVjdC5hc3NpZ24gaXMgYXZhaWxhYmxlLlxyXG5cdCAgICAgICAgdGhpcy5vcHRpb25zID0gdXRpbF8xLlV0aWxzLmFzc2lnbih7fSwgRW1iZWQuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xyXG5cdCAgICAgICAgdGhpcy5vcHRpb25zLmFjY2Vzc1Rva2VuID0gdGhpcy5nZXRBY2Nlc3NUb2tlbigpO1xyXG5cdCAgICAgICAgdGhpcy5vcHRpb25zLmVtYmVkVXJsID0gdGhpcy5nZXRFbWJlZFVybCgpO1xyXG5cdCAgICAgICAgdmFyIGlmcmFtZUh0bWwgPSBcIjxpZnJhbWUgc3R5bGU9XFxcIndpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7XFxcIiBzcmM9XFxcIlwiICsgdGhpcy5vcHRpb25zLmVtYmVkVXJsICsgXCJcXFwiIHNjcm9sbGluZz1cXFwibm9cXFwiIGFsbG93ZnVsbHNjcmVlbj1cXFwidHJ1ZVxcXCI+PC9pZnJhbWU+XCI7XHJcblx0ICAgICAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gaWZyYW1lSHRtbDtcclxuXHQgICAgICAgIHRoaXMuaWZyYW1lID0gdGhpcy5lbGVtZW50LmNoaWxkTm9kZXNbMF07XHJcblx0ICAgICAgICB0aGlzLmlmcmFtZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMubG9hZChfdGhpcy5vcHRpb25zLCBmYWxzZSk7IH0sIGZhbHNlKTtcclxuXHQgICAgICAgIHRoaXMud3BtcCA9IHdwbXBGYWN0b3J5KHRoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3csICdTZGtSZXBvcnRXcG1wJywgdHJ1ZSk7XHJcblx0ICAgICAgICB0aGlzLmhwbSA9IGhwbUZhY3RvcnkodGhpcy53cG1wKTtcclxuXHQgICAgICAgIHRoaXMucm91dGVyID0gcm91dGVyRmFjdG9yeSh0aGlzLndwbXApO1xyXG5cdCAgICB9XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBIYW5kbGVyIGZvciB3aGVuIHRoZSBpZnJhbWUgaGFzIGZpbmlzaGVkIGxvYWRpbmcgdGhlIHBvd2VyYmkgcGxhY2Vob2xkZXIgcGFnZS5cclxuXHQgICAgICogVGhpcyBpcyB1c2VkIHRvIGluamVjdCBjb25maWd1cmF0aW9uIG9wdGlvbnMgc3VjaCBhcyBhY2Nlc3MgdG9rZW4sIGxvYWRBY3Rpb24sIGV0Y1xyXG5cdCAgICAgKiB3aGljaCBhbGxvdyBpZnJhbWUgdG8gbG9hZCB0aGUgYWN0dWFsIHJlcG9ydCB3aXRoIGF1dGhlbnRpY2F0aW9uLlxyXG5cdCAgICAgKi9cclxuXHQgICAgRW1iZWQucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAob3B0aW9ucywgcmVxdWlyZUlkLCBtZXNzYWdlKSB7XHJcblx0ICAgICAgICBpZiAocmVxdWlyZUlkID09PSB2b2lkIDApIHsgcmVxdWlyZUlkID0gZmFsc2U7IH1cclxuXHQgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IG51bGw7IH1cclxuXHQgICAgICAgIGlmICghbWVzc2FnZSkge1xyXG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBjYWxsZWQgbG9hZCB3aXRob3V0IHByb3ZpZGluZyBtZXNzYWdlIHByb3BlcnRpZXMgZnJvbSB0aGUgY29uY3JldGUgZW1iZWRkYWJsZSBjbGFzcy5cIik7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICB2YXIgYmFzZU1lc3NhZ2UgPSB7XHJcblx0ICAgICAgICAgICAgYWNjZXNzVG9rZW46IG9wdGlvbnMuYWNjZXNzVG9rZW5cclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgICB1dGlsXzEuVXRpbHMuYXNzaWduKG1lc3NhZ2UsIGJhc2VNZXNzYWdlKTtcclxuXHQgICAgICAgIHJldHVybiB0aGlzLmhwbS5wb3N0KCcvcmVwb3J0L2xvYWQnLCBtZXNzYWdlKVxyXG5cdCAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHQgICAgICAgICAgICB0aHJvdyByZXNwb25zZS5ib2R5O1xyXG5cdCAgICAgICAgfSk7XHJcblx0ICAgIH07XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBHZXQgYWNjZXNzIHRva2VuIGZyb20gZmlyc3QgYXZhaWxhYmxlIGxvY2F0aW9uOiBvcHRpb25zLCBhdHRyaWJ1dGUsIGdsb2JhbC5cclxuXHQgICAgICovXHJcblx0ICAgIEVtYmVkLnByb3RvdHlwZS5nZXRBY2Nlc3NUb2tlbiA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIHZhciBhY2Nlc3NUb2tlbiA9IHRoaXMub3B0aW9ucy5hY2Nlc3NUb2tlbiB8fCB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKEVtYmVkLmFjY2Vzc1Rva2VuQXR0cmlidXRlKSB8fCB0aGlzLm9wdGlvbnMuZ2V0R2xvYmFsQWNjZXNzVG9rZW4oKTtcclxuXHQgICAgICAgIGlmICghYWNjZXNzVG9rZW4pIHtcclxuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBhY2Nlc3MgdG9rZW4gd2FzIGZvdW5kIGZvciBlbGVtZW50LiBZb3UgbXVzdCBzcGVjaWZ5IGFuIGFjY2VzcyB0b2tlbiBkaXJlY3RseSBvbiB0aGUgZWxlbWVudCB1c2luZyBhdHRyaWJ1dGUgJ1wiICsgRW1iZWQuYWNjZXNzVG9rZW5BdHRyaWJ1dGUgKyBcIicgb3Igc3BlY2lmeSBhIGdsb2JhbCB0b2tlbiBhdDogcG93ZXJiaS5hY2Nlc3NUb2tlbi5cIik7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICByZXR1cm4gYWNjZXNzVG9rZW47XHJcblx0ICAgIH07XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBHZXQgZW1iZWQgdXJsIGZyb20gZmlyc3QgYXZhaWxhYmxlIGxvY2F0aW9uOiBvcHRpb25zLCBhdHRyaWJ1dGUuXHJcblx0ICAgICAqL1xyXG5cdCAgICBFbWJlZC5wcm90b3R5cGUuZ2V0RW1iZWRVcmwgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICB2YXIgZW1iZWRVcmwgPSB0aGlzLm9wdGlvbnMuZW1iZWRVcmwgfHwgdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShFbWJlZC5lbWJlZFVybEF0dHJpYnV0ZSk7XHJcblx0ICAgICAgICBpZiAodHlwZW9mIGVtYmVkVXJsICE9PSAnc3RyaW5nJyB8fCBlbWJlZFVybC5sZW5ndGggPT09IDApIHtcclxuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbWJlZCBVcmwgaXMgcmVxdWlyZWQsIGJ1dCBpdCB3YXMgbm90IGZvdW5kLiBZb3UgbXVzdCBwcm92aWRlIGFuIGVtYmVkIHVybCBlaXRoZXIgYXMgcGFydCBvZiBlbWJlZCBjb25maWd1cmF0aW9uIG9yIGFzIGF0dHJpYnV0ZSAnXCIgKyBFbWJlZC5lbWJlZFVybEF0dHJpYnV0ZSArIFwiJy5cIik7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICByZXR1cm4gZW1iZWRVcmw7XHJcblx0ICAgIH07XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBSZXF1ZXN0IHRoZSBicm93c2VyIHRvIG1ha2UgdGhlIGNvbXBvbmVudHMgaWZyYW1lIGZ1bGxzY3JlZW4uXHJcblx0ICAgICAqL1xyXG5cdCAgICBFbWJlZC5wcm90b3R5cGUuZnVsbHNjcmVlbiA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIHZhciByZXF1ZXN0RnVsbFNjcmVlbiA9IHRoaXMuaWZyYW1lLnJlcXVlc3RGdWxsc2NyZWVuIHx8IHRoaXMuaWZyYW1lLm1zUmVxdWVzdEZ1bGxzY3JlZW4gfHwgdGhpcy5pZnJhbWUubW96UmVxdWVzdEZ1bGxTY3JlZW4gfHwgdGhpcy5pZnJhbWUud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW47XHJcblx0ICAgICAgICByZXF1ZXN0RnVsbFNjcmVlbi5jYWxsKHRoaXMuaWZyYW1lKTtcclxuXHQgICAgfTtcclxuXHQgICAgLyoqXHJcblx0ICAgICAqIEV4aXQgZnVsbHNjcmVlbi5cclxuXHQgICAgICovXHJcblx0ICAgIEVtYmVkLnByb3RvdHlwZS5leGl0RnVsbHNjcmVlbiA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIGlmICghdGhpcy5pc0Z1bGxzY3JlZW4odGhpcy5pZnJhbWUpKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgdmFyIGV4aXRGdWxsc2NyZWVuID0gZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4gfHwgZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbiB8fCBkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbiB8fCBkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuO1xyXG5cdCAgICAgICAgZXhpdEZ1bGxzY3JlZW4uY2FsbChkb2N1bWVudCk7XHJcblx0ICAgIH07XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBSZXR1cm4gdHJ1ZSBpZiBpZnJhbWUgaXMgZnVsbHNjcmVlbixcclxuXHQgICAgICogb3RoZXJ3aXNlIHJldHVybiBmYWxzZVxyXG5cdCAgICAgKi9cclxuXHQgICAgRW1iZWQucHJvdG90eXBlLmlzRnVsbHNjcmVlbiA9IGZ1bmN0aW9uIChpZnJhbWUpIHtcclxuXHQgICAgICAgIHZhciBvcHRpb25zID0gWydmdWxsc2NyZWVuRWxlbWVudCcsICd3ZWJraXRGdWxsc2NyZWVuRWxlbWVudCcsICdtb3pGdWxsc2NyZWVuU2NyZWVuRWxlbWVudCcsICdtc0Z1bGxzY3JlZW5FbGVtZW50J107XHJcblx0ICAgICAgICByZXR1cm4gb3B0aW9ucy5zb21lKGZ1bmN0aW9uIChvcHRpb24pIHsgcmV0dXJuIGRvY3VtZW50W29wdGlvbl0gPT09IGlmcmFtZTsgfSk7XHJcblx0ICAgIH07XHJcblx0ICAgIEVtYmVkLmVtYmVkVXJsQXR0cmlidXRlID0gJ3Bvd2VyYmktZW1iZWQtdXJsJztcclxuXHQgICAgRW1iZWQuYWNjZXNzVG9rZW5BdHRyaWJ1dGUgPSAncG93ZXJiaS1hY2Nlc3MtdG9rZW4nO1xyXG5cdCAgICBFbWJlZC50eXBlQXR0cmlidXRlID0gJ3Bvd2VyYmktdHlwZSc7XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBEZWZhdWx0IG9wdGlvbnMgZm9yIGVtYmVkZGFibGUgY29tcG9uZW50LlxyXG5cdCAgICAgKi9cclxuXHQgICAgRW1iZWQuZGVmYXVsdE9wdGlvbnMgPSB7XHJcblx0ICAgICAgICBmaWx0ZXJQYW5lRW5hYmxlZDogdHJ1ZVxyXG5cdCAgICB9O1xyXG5cdCAgICByZXR1cm4gRW1iZWQ7XHJcblx0fSgpKTtcclxuXHRleHBvcnRzLkVtYmVkID0gRW1iZWQ7XHJcblxuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIFV0aWxzID0gKGZ1bmN0aW9uICgpIHtcclxuXHQgICAgZnVuY3Rpb24gVXRpbHMoKSB7XHJcblx0ICAgIH1cclxuXHQgICAgVXRpbHMucmFpc2VDdXN0b21FdmVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCBldmVudE5hbWUsIGV2ZW50RGF0YSkge1xyXG5cdCAgICAgICAgdmFyIGN1c3RvbUV2ZW50O1xyXG5cdCAgICAgICAgaWYgKHR5cGVvZiBDdXN0b21FdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdCAgICAgICAgICAgIGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwge1xyXG5cdCAgICAgICAgICAgICAgICBkZXRhaWw6IGV2ZW50RGF0YSxcclxuXHQgICAgICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcclxuXHQgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxyXG5cdCAgICAgICAgICAgIH0pO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZWxzZSB7XHJcblx0ICAgICAgICAgICAgY3VzdG9tRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcclxuXHQgICAgICAgICAgICBjdXN0b21FdmVudC5pbml0Q3VzdG9tRXZlbnQoZXZlbnROYW1lLCB0cnVlLCB0cnVlLCBldmVudERhdGEpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcclxuXHQgICAgICAgIGlmIChjdXN0b21FdmVudC5kZWZhdWx0UHJldmVudGVkIHx8ICFjdXN0b21FdmVudC5yZXR1cm5WYWx1ZSkge1xyXG5cdCAgICAgICAgICAgIHJldHVybjtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGlzPyBTaG91bGQgYmUgYmV0dGVyIHdheSB0byBoYW5kbGUgZXZlbnRzIHRoYW4gdXNpbmcgZXZhbD9cclxuXHQgICAgICAgIC8vIFdoYXQgaXMgdXNlIGNhc2U/IDxkaXYgcG93ZXJiaS10eXBlPVwicmVwb3J0XCIgb25sb2FkPVwiYWxlcnQoJ2xvYWRlZCcpO1wiPjwvZGl2PlxyXG5cdCAgICAgICAgdmFyIGlubGluZUV2ZW50QXR0ciA9ICdvbicgKyBldmVudE5hbWUucmVwbGFjZSgnLScsICcnKTtcclxuXHQgICAgICAgIHZhciBpbmxpbmVTY3JpcHQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShpbmxpbmVFdmVudEF0dHIpO1xyXG5cdCAgICAgICAgaWYgKGlubGluZVNjcmlwdCkge1xyXG5cdCAgICAgICAgICAgIGV2YWwuY2FsbChlbGVtZW50LCBpbmxpbmVTY3JpcHQpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9O1xyXG5cdCAgICBVdGlscy5maW5kSW5kZXggPSBmdW5jdGlvbiAocHJlZGljYXRlLCB4cykge1xyXG5cdCAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHhzKSkge1xyXG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhdHRlbXB0ZWQgdG8gY2FsbCBmaW5kIHdpdGggc2Vjb25kIHBhcmFtZXRlciB0aGF0IHdhcyBub3QgYW4gYXJyYXkuIFlvdSBwYXNzZWQ6IFwiICsgeHMpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgdmFyIGluZGV4O1xyXG5cdCAgICAgICAgeHMuc29tZShmdW5jdGlvbiAoeCwgaSkge1xyXG5cdCAgICAgICAgICAgIGlmIChwcmVkaWNhdGUoeCkpIHtcclxuXHQgICAgICAgICAgICAgICAgaW5kZXggPSBpO1xyXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICB9KTtcclxuXHQgICAgICAgIHJldHVybiBpbmRleDtcclxuXHQgICAgfTtcclxuXHQgICAgVXRpbHMuZmluZCA9IGZ1bmN0aW9uIChwcmVkaWNhdGUsIHhzKSB7XHJcblx0ICAgICAgICB2YXIgaW5kZXggPSBVdGlscy5maW5kSW5kZXgocHJlZGljYXRlLCB4cyk7XHJcblx0ICAgICAgICByZXR1cm4geHNbaW5kZXhdO1xyXG5cdCAgICB9O1xyXG5cdCAgICBVdGlscy5yZW1vdmUgPSBmdW5jdGlvbiAocHJlZGljYXRlLCB4cykge1xyXG5cdCAgICAgICAgdmFyIGluZGV4ID0gVXRpbHMuZmluZEluZGV4KHByZWRpY2F0ZSwgeHMpO1xyXG5cdCAgICAgICAgeHMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHQgICAgfTtcclxuXHQgICAgLy8gU2VlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWduXHJcblx0ICAgIC8vIFRPRE86IHJlcGxhY2UgaW4gZmF2b3Igb2YgdXNpbmcgcG9seWZpbGxcclxuXHQgICAgVXRpbHMuYXNzaWduID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuXHQgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcblx0ICAgICAgICAgICAgYXJnc1tfaSAtIDBdID0gYXJndW1lbnRzW19pXTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHZhciB0YXJnZXQgPSBhcmdzWzBdO1xyXG5cdCAgICAgICAgJ3VzZSBzdHJpY3QnO1xyXG5cdCAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xyXG5cdCAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgdmFyIG91dHB1dCA9IE9iamVjdCh0YXJnZXQpO1xyXG5cdCAgICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcclxuXHQgICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcclxuXHQgICAgICAgICAgICBpZiAoc291cmNlICE9PSB1bmRlZmluZWQgJiYgc291cmNlICE9PSBudWxsKSB7XHJcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIG5leHRLZXkgaW4gc291cmNlKSB7XHJcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KG5leHRLZXkpKSB7XHJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W25leHRLZXldID0gc291cmNlW25leHRLZXldO1xyXG5cdCAgICAgICAgICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuXHQgICAgfTtcclxuXHQgICAgcmV0dXJuIFV0aWxzO1xyXG5cdH0oKSk7XHJcblx0ZXhwb3J0cy5VdGlscyA9IFV0aWxzO1xyXG5cblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcclxuXHQgICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XHJcblx0ICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG5cdCAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcblx0fTtcclxuXHR2YXIgZW1iZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcblx0dmFyIFJlcG9ydCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcblx0ICAgIF9fZXh0ZW5kcyhSZXBvcnQsIF9zdXBlcik7XHJcblx0ICAgIGZ1bmN0aW9uIFJlcG9ydCgpIHtcclxuXHQgICAgICAgIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdCAgICB9XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBBZGQgZmlsdGVyIHRvIHJlcG9ydFxyXG5cdCAgICAgKiBBbiBvcHRpb25hbCB0YXJnZXQgbWF5IGJlIHBhc3NlZCB0byBhcHBseSB0aGUgZmlsdGVyIHRvIHNwZWNpZmljIHBhZ2Ugb3IgdmlzdWFsLlxyXG5cdCAgICAgKlxyXG5cdCAgICAgKiBgYGBqYXZhc2NyaXB0XHJcblx0ICAgICAqIC8vIEFkZCBmaWx0ZXIgdG8gcmVwb3J0XHJcblx0ICAgICAqIGNvbnN0IGZpbHRlciA9IG5ldyBmaWx0ZXJzLkJhc2ljRmlsdGVyKC4uLik7XHJcblx0ICAgICAqIHJlcG9ydC5hZGRGaWx0ZXIoZmlsdGVyKTtcclxuXHQgICAgICpcclxuXHQgICAgICogLy8gQWRkIGFkdmFuY2VkIGZpbHRlciB0byBzcGVjaWZpYyB2aXN1YWw7XHJcblx0ICAgICAqIGNvbnN0IHRhcmdldCA9IC4uLlxyXG5cdCAgICAgKiBjb25zdCBmaWx0ZXIgPSBuZXcgZmlsdGVycy5BZHZhbmNlZEZpbHRlciguLi4pO1xyXG5cdCAgICAgKiByZXBvcnQuYWRkRmlsdGVyKGZpbHRlciwgdGFyZ2V0KTtcclxuXHQgICAgICogYGBgXHJcblx0ICAgICAqL1xyXG5cdCAgICBSZXBvcnQucHJvdG90eXBlLmFkZEZpbHRlciA9IGZ1bmN0aW9uIChmaWx0ZXIsIHRhcmdldCkge1xyXG5cdCAgICAgICAgdmFyIHRhcmdldFVybCA9IHRoaXMuZ2V0VGFyZ2V0VXJsKHRhcmdldCk7XHJcblx0ICAgICAgICByZXR1cm4gdGhpcy5ocG0ucG9zdCh0YXJnZXRVcmwgKyBcIi9maWx0ZXJzXCIsIGZpbHRlcilcclxuXHQgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0ICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2UuYm9keTtcclxuXHQgICAgICAgIH0pO1xyXG5cdCAgICB9O1xyXG5cdCAgICAvKipcclxuXHQgICAgICogR2V0IGZpbHRlcnMgdGhhdCBhcmUgYXBwbGllZCB0byB0aGUgcmVwb3J0XHJcblx0ICAgICAqIEFuIG9wdGlvbmFsIHRhcmdldCBtYXkgYmUgcGFzc2VkIHRvIGdldCBmaWx0ZXJzIGFwcGxpZWQgdG8gYSBzcGVjaWZpYyBwYWdlIG9yIHZpc3VhbFxyXG5cdCAgICAgKlxyXG5cdCAgICAgKiBgYGBqYXZhc2NyaXB0XHJcblx0ICAgICAqIC8vIEdldCBmaWx0ZXJzIGFwcGxpZWQgYXQgcmVwb3J0IGxldmVsXHJcblx0ICAgICAqIHJlcG9ydC5nZXRGaWx0ZXJzKClcclxuXHQgICAgICogICAgICAudGhlbihmaWx0ZXJzID0+IHtcclxuXHQgICAgICogICAgICAgICAgLi4uXHJcblx0ICAgICAqICAgICAgfSk7XHJcblx0ICAgICAqXHJcblx0ICAgICAqIC8vIEdldCBmaWx0ZXJzIGFwcGxpZWQgYXQgcGFnZSBsZXZlbFxyXG5cdCAgICAgKiBjb25zdCBwYWdlVGFyZ2V0ID0ge1xyXG5cdCAgICAgKiAgIHR5cGU6IFwicGFnZVwiLFxyXG5cdCAgICAgKiAgIG5hbWU6IFwicmVwb3J0U2VjdGlvbjFcIlxyXG5cdCAgICAgKiB9O1xyXG5cdCAgICAgKlxyXG5cdCAgICAgKiByZXBvcnQuZ2V0RmlsdGVycyhwYWdlVGFyZ2V0KVxyXG5cdCAgICAgKiAgICAgIC50aGVuKGZpbHRlcnMgPT4ge1xyXG5cdCAgICAgKiAgICAgICAgICAuLi5cclxuXHQgICAgICogICAgICB9KTtcclxuXHQgICAgICogYGBgXHJcblx0ICAgICAqL1xyXG5cdCAgICBSZXBvcnQucHJvdG90eXBlLmdldEZpbHRlcnMgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcblx0ICAgICAgICB2YXIgdGFyZ2V0VXJsID0gdGhpcy5nZXRUYXJnZXRVcmwodGFyZ2V0KTtcclxuXHQgICAgICAgIHJldHVybiB0aGlzLmhwbS5nZXQodGFyZ2V0VXJsICsgXCIvZmlsdGVyc1wiKVxyXG5cdCAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gcmVzcG9uc2UuYm9keTsgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0ICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2UuYm9keTtcclxuXHQgICAgICAgIH0pO1xyXG5cdCAgICB9O1xyXG5cdCAgICAvKipcclxuXHQgICAgICogR2V0IHRoZSBsaXN0IG9mIHBhZ2VzIHdpdGhpbiB0aGUgcmVwb3J0XHJcblx0ICAgICAqXHJcblx0ICAgICAqIGBgYGphdmFzY3JpcHRcclxuXHQgICAgICogcmVwb3J0LmdldFBhZ2VzKClcclxuXHQgICAgICogIC50aGVuKHBhZ2VzID0+IHtcclxuXHQgICAgICogICAgICAuLi5cclxuXHQgICAgICogIH0pO1xyXG5cdCAgICAgKiBgYGBcclxuXHQgICAgICovXHJcblx0ICAgIFJlcG9ydC5wcm90b3R5cGUuZ2V0UGFnZXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICByZXR1cm4gdGhpcy5ocG0uZ2V0KCcvcmVwb3J0L3BhZ2VzJylcclxuXHQgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIHJlc3BvbnNlLmJvZHk7IH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdCAgICAgICAgICAgIHRocm93IHJlc3BvbnNlLmJvZHk7XHJcblx0ICAgICAgICB9KTtcclxuXHQgICAgfTtcclxuXHQgICAgUmVwb3J0LnByb3RvdHlwZS5nZXRFbWJlZFVybCA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIHZhciBlbWJlZFVybCA9IF9zdXBlci5wcm90b3R5cGUuZ2V0RW1iZWRVcmwuY2FsbCh0aGlzKTtcclxuXHQgICAgICAgIC8vIFRPRE86IE5lZWQgc2FmZSB3YXkgdG8gYWRkIHVybCBwYXJhbWV0ZXJzLlxyXG5cdCAgICAgICAgLy8gV2UgYXJlIGFzc3VtaW5nIGVtYmVkVXJscyB1c2UgcXVlcnkgcGFyYW1ldGVycyB0byBzdXBwbHkgaWQgb2YgdmlzdWFsXHJcblx0ICAgICAgICAvLyBzbyBtdXN0IHByZWZpeCB3aXRoICcmJy5cclxuXHQgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmZpbHRlclBhbmVFbmFibGVkKSB7XHJcblx0ICAgICAgICAgICAgZW1iZWRVcmwgKz0gXCImZmlsdGVyUGFuZUVuYWJsZWQ9ZmFsc2VcIjtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHJldHVybiBlbWJlZFVybDtcclxuXHQgICAgfTtcclxuXHQgICAgUmVwb3J0LnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKG9wdGlvbnMsIHJlcXVpcmVJZCkge1xyXG5cdCAgICAgICAgaWYgKHJlcXVpcmVJZCA9PT0gdm9pZCAwKSB7IHJlcXVpcmVJZCA9IGZhbHNlOyB9XHJcblx0ICAgICAgICBpZiAocmVxdWlyZUlkICYmIHR5cGVvZiBvcHRpb25zLmlkICE9PSAnc3RyaW5nJykge1xyXG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImlkIG11c3QgYmUgc3BlY2lmaWVkIHdoZW4gbG9hZGluZyByZXBvcnRzIG9uIGV4aXN0aW5nIGVsZW1lbnRzLlwiKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHZhciBtZXNzYWdlID0ge1xyXG5cdCAgICAgICAgICAgIGlkOiBvcHRpb25zLmlkLFxyXG5cdCAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBudWxsXHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUubG9hZC5jYWxsKHRoaXMsIG9wdGlvbnMsIHJlcXVpcmVJZCwgbWVzc2FnZSk7XHJcblx0ICAgIH07XHJcblx0ICAgIFJlcG9ydC5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XHJcblx0ICAgICAgICBpZiAoUmVwb3J0LmFsbG93ZWRFdmVudHMuaW5kZXhPZihldmVudE5hbWUpID09PSAtMSkge1xyXG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImV2ZW50TmFtZSBpcyBtdXN0IGJlIG9uZSBvZiBcIiArIFJlcG9ydC5hbGxvd2VkRXZlbnRzICsgXCIuIFlvdSBwYXNzZWQ6IFwiICsgZXZlbnROYW1lKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHRoaXMucm91dGVyLnBvc3QoXCIvcmVwb3J0L2V2ZW50cy9cIiArIGV2ZW50TmFtZSwgZnVuY3Rpb24gKHJlcywgcmVxKSB7XHJcblx0ICAgICAgICAgICAgaGFuZGxlcihyZXMuYm9keSk7XHJcblx0ICAgICAgICB9KTtcclxuXHQgICAgfTtcclxuXHQgICAgLyoqXHJcblx0ICAgICAqIFNldCB0aGUgYWN0aXZlIHBhZ2VcclxuXHQgICAgICovXHJcblx0ICAgIFJlcG9ydC5wcm90b3R5cGUuc2V0QWN0aXZlUGFnZSA9IGZ1bmN0aW9uIChwYWdlKSB7XHJcblx0ICAgICAgICByZXR1cm4gdGhpcy5ocG0ucHV0KCcvcmVwb3J0L3BhZ2VzL2FjdGl2ZScsIHBhZ2UpXHJcblx0ICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdCAgICAgICAgICAgIHRocm93IHJlc3BvbnNlLmJvZHk7XHJcblx0ICAgICAgICB9KTtcclxuXHQgICAgfTtcclxuXHQgICAgLyoqXHJcblx0ICAgICAqIFJlbW92ZSBzcGVjaWZpYyBmaWx0ZXIgZnJvbSByZXBvcnQsIHBhZ2UsIG9yIHZpc3VhbFxyXG5cdCAgICAgKi9cclxuXHQgICAgUmVwb3J0LnByb3RvdHlwZS5yZW1vdmVGaWx0ZXIgPSBmdW5jdGlvbiAoZmlsdGVyLCB0YXJnZXQpIHtcclxuXHQgICAgICAgIHZhciB0YXJnZXRVcmwgPSB0aGlzLmdldFRhcmdldFVybCh0YXJnZXQpO1xyXG5cdCAgICAgICAgcmV0dXJuIHRoaXMuaHBtLmRlbGV0ZSh0YXJnZXRVcmwgKyBcIi9maWx0ZXJzXCIsIGZpbHRlcilcclxuXHQgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0ICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2UuYm9keTtcclxuXHQgICAgICAgIH0pO1xyXG5cdCAgICB9O1xyXG5cdCAgICAvKipcclxuXHQgICAgICogUmVtb3ZlIGFsbCBmaWx0ZXJzIGFjcm9zcyB0aGUgcmVwb3J0LCBwYWdlcywgYW5kIHZpc3VhbHNcclxuXHQgICAgICpcclxuXHQgICAgICogYGBgamF2YXNjcmlwdFxyXG5cdCAgICAgKiByZXBvcnQucmVtb3ZlQWxsRmlsdGVycygpO1xyXG5cdCAgICAgKiBgYGBcclxuXHQgICAgICovXHJcblx0ICAgIFJlcG9ydC5wcm90b3R5cGUucmVtb3ZlQWxsRmlsdGVycyA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIHJldHVybiB0aGlzLmhwbS5kZWxldGUoJy9yZXBvcnQvZmlsdGVycycpXHJcblx0ICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdCAgICAgICAgICAgIHRocm93IHJlc3BvbnNlLmJvZHk7XHJcblx0ICAgICAgICB9KTtcclxuXHQgICAgfTtcclxuXHQgICAgLyoqXHJcblx0ICAgICAqIFVwZGF0ZSBleGlzdGluZyBmaWx0ZXIgYXBwbGllZCB0byByZXBvcnQsIHBhZ2UsIG9yIHZpc3VhbC5cclxuXHQgICAgICpcclxuXHQgICAgICogVGhlIGV4aXN0aW5nIGZpbHRlciB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIG5ldyBmaWx0ZXIuXHJcblx0ICAgICAqL1xyXG5cdCAgICBSZXBvcnQucHJvdG90eXBlLnVwZGF0ZUZpbHRlciA9IGZ1bmN0aW9uIChmaWx0ZXIsIHRhcmdldCkge1xyXG5cdCAgICAgICAgdmFyIHRhcmdldFVybCA9IHRoaXMuZ2V0VGFyZ2V0VXJsKHRhcmdldCk7XHJcblx0ICAgICAgICByZXR1cm4gdGhpcy5ocG0ucHV0KHRhcmdldFVybCArIFwiL2ZpbHRlcnNcIiwgZmlsdGVyKVxyXG5cdCAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHQgICAgICAgICAgICB0aHJvdyByZXNwb25zZS5ib2R5O1xyXG5cdCAgICAgICAgfSk7XHJcblx0ICAgIH07XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBVcGRhdGUgc2V0dGluZ3Mgb2YgcmVwb3J0IChmaWx0ZXIgcGFuZSB2aXNpYmlsaXR5LCBwYWdlIG5hdmlnYXRpb24gdmlzaWJpbGl0eSlcclxuXHQgICAgICovXHJcblx0ICAgIFJlcG9ydC5wcm90b3R5cGUudXBkYXRlU2V0dGluZ3MgPSBmdW5jdGlvbiAoc2V0dGluZ3MpIHtcclxuXHQgICAgICAgIHJldHVybiB0aGlzLmhwbS5wYXRjaCgnL3JlcG9ydC9zZXR0aW5ncycsIHNldHRpbmdzKVxyXG5cdCAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHQgICAgICAgICAgICB0aHJvdyByZXNwb25zZS5ib2R5O1xyXG5cdCAgICAgICAgfSk7XHJcblx0ICAgIH07XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBUcmFuc2xhdGUgdGFyZ2V0IGludG8gdXJsXHJcblx0ICAgICAqIFRhcmdldCBtYXkgYmUgdG8gdGhlIHdob2xlIHJlcG9ydCwgc3BlaWZpYyBwYWdlLCBvciBzcGVjaWZpYyB2aXN1YWxcclxuXHQgICAgICovXHJcblx0ICAgIFJlcG9ydC5wcm90b3R5cGUuZ2V0VGFyZ2V0VXJsID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG5cdCAgICAgICAgdmFyIHRhcmdldFVybDtcclxuXHQgICAgICAgIC8qKlxyXG5cdCAgICAgICAgICogVE9ETzogSSBtZW50aW9uZWQgdGhpcyBpc3N1ZSBpbiB0aGUgcHJvdG9jb2wgdGVzdCwgYnV0IHdlJ3JlIHRyYW5sYXRpbmcgdGFyZ2V0cyBmcm9tIG9iamVjdHNcclxuXHQgICAgICAgICAqIGludG8gcGFydHMgb2YgdGhlIHVybCwgYW5kIHRoZW4gYmFjayB0byBvYmplY3RzLiBJdCBpcyBhIHRyYWRlIG9mZiBiZXR3ZWVuIGNvbXBsaXhpdHkgaW4gdGhpcyBjb2RlIHZzIHNlbWFudGljIFVSSXNcclxuXHQgICAgICAgICAqXHJcblx0ICAgICAgICAgKiBXZSBjb3VsZCBjb21lIHVwIHdpdGggYSBkaWZmZXJlbnQgaWRlYSB3aGljaCBwYXNzZWQgdGhlIHRhcmdldCBhcyBwYXJ0IG9mIHRoZSBib2R5XHJcblx0ICAgICAgICAgKi9cclxuXHQgICAgICAgIGlmICghdGFyZ2V0KSB7XHJcblx0ICAgICAgICAgICAgdGFyZ2V0VXJsID0gJy9yZXBvcnQnO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZWxzZSBpZiAodGFyZ2V0LnR5cGUgPT09IFwicGFnZVwiKSB7XHJcblx0ICAgICAgICAgICAgdGFyZ2V0VXJsID0gXCIvcmVwb3J0L3BhZ2VzL1wiICsgdGFyZ2V0Lm5hbWU7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBlbHNlIGlmICh0YXJnZXQudHlwZSA9PT0gXCJ2aXN1YWxcIikge1xyXG5cdCAgICAgICAgICAgIHRhcmdldFVybCA9IFwiL3JlcG9ydC92aXN1YWxzL1wiICsgdGFyZ2V0LmlkO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZWxzZSB7XHJcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidGFyZ2V0LnR5cGUgbXVzdCBiZSBlaXRoZXIgJ3BhZ2UnIG9yICd2aXN1YWwnLiBZb3UgcGFzc2VkOiBcIiArIHRhcmdldC50eXBlKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIHJldHVybiB0YXJnZXRVcmw7XHJcblx0ICAgIH07XHJcblx0ICAgIFJlcG9ydC5hbGxvd2VkRXZlbnRzID0gW1wiZGF0YVNlbGVjdGVkXCIsIFwiZmlsdGVyQWRkZWRcIiwgXCJmaWx0ZXJVcGRhdGVkXCIsIFwiZmlsdGVyUmVtb3ZlZFwiLCBcInBhZ2VDaGFuZ2VkXCIsIFwiZXJyb3JcIl07XHJcblx0ICAgIFJlcG9ydC50eXBlID0gXCJSZXBvcnRcIjtcclxuXHQgICAgcmV0dXJuIFJlcG9ydDtcclxuXHR9KGVtYmVkXzEuRW1iZWQpKTtcclxuXHRleHBvcnRzLlJlcG9ydCA9IFJlcG9ydDtcclxuXG5cbi8qKiovIH0sXG4vKiA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XHJcblx0ICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xyXG5cdCAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuXHQgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG5cdH07XHJcblx0dmFyIGVtYmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5cdHZhciBUaWxlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuXHQgICAgX19leHRlbmRzKFRpbGUsIF9zdXBlcik7XHJcblx0ICAgIGZ1bmN0aW9uIFRpbGUoKSB7XHJcblx0ICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHQgICAgfVxyXG5cdCAgICBUaWxlLnByb3RvdHlwZS5nZXRFbWJlZFVybCA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIHZhciBlbWJlZFVybCA9IF9zdXBlci5wcm90b3R5cGUuZ2V0RW1iZWRVcmwuY2FsbCh0aGlzKTtcclxuXHQgICAgICAgIHJldHVybiBlbWJlZFVybDtcclxuXHQgICAgfTtcclxuXHQgICAgVGlsZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIChvcHRpb25zLCByZXF1aXJlSWQpIHtcclxuXHQgICAgICAgIGlmIChyZXF1aXJlSWQgPT09IHZvaWQgMCkgeyByZXF1aXJlSWQgPSBmYWxzZTsgfVxyXG5cdCAgICAgICAgaWYgKHJlcXVpcmVJZCAmJiB0eXBlb2Ygb3B0aW9ucy5pZCAhPT0gJ3N0cmluZycpIHtcclxuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpZCBtdXN0IGJlIHNwZWNpZmllZCB3aGVuIGxvYWRpbmcgcmVwb3J0cyBvbiBleGlzdGluZyBlbGVtZW50cy5cIik7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICB2YXIgbWVzc2FnZSA9IHtcclxuXHQgICAgICAgICAgICBpZDogb3B0aW9ucy5pZCxcclxuXHQgICAgICAgICAgICBhY2Nlc3NUb2tlbjogbnVsbFxyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmxvYWQuY2FsbCh0aGlzLCBvcHRpb25zLCByZXF1aXJlSWQsIG1lc3NhZ2UpO1xyXG5cdCAgICB9O1xyXG5cdCAgICBUaWxlLnR5cGUgPSBcIlRpbGVcIjtcclxuXHQgICAgcmV0dXJuIFRpbGU7XHJcblx0fShlbWJlZF8xLkVtYmVkKSk7XHJcblx0ZXhwb3J0cy5UaWxlID0gVGlsZTtcclxuXG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgd3BtcCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XHJcblx0dmFyIGhwbSA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xyXG5cdHZhciByb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcclxuXHRleHBvcnRzLmhwbUZhY3RvcnkgPSBmdW5jdGlvbiAod3BtcCkge1xyXG5cdCAgICByZXR1cm4gbmV3IGhwbS5IdHRwUG9zdE1lc3NhZ2Uod3BtcCwge1xyXG5cdCAgICAgICAgJ29yaWdpbic6ICdzZGsnLFxyXG5cdCAgICAgICAgJ3gtc2RrLXR5cGUnOiAnanMnLFxyXG5cdCAgICAgICAgJ3gtc2RrLXZlcnNpb24nOiAnMi4wLjAnXHJcblx0ICAgIH0pO1xyXG5cdH07XHJcblx0ZXhwb3J0cy53cG1wRmFjdG9yeSA9IGZ1bmN0aW9uICh3aW5kb3csIG5hbWUsIGxvZ01lc3NhZ2VzKSB7XHJcblx0ICAgIHJldHVybiBuZXcgd3BtcC5XaW5kb3dQb3N0TWVzc2FnZVByb3h5KHdpbmRvdywge1xyXG5cdCAgICAgICAgcHJvY2Vzc1RyYWNraW5nUHJvcGVydGllczoge1xyXG5cdCAgICAgICAgICAgIGFkZFRyYWNraW5nUHJvcGVydGllczogaHBtLkh0dHBQb3N0TWVzc2FnZS5hZGRUcmFja2luZ1Byb3BlcnRpZXMsXHJcblx0ICAgICAgICAgICAgZ2V0VHJhY2tpbmdQcm9wZXJ0aWVzOiBocG0uSHR0cFBvc3RNZXNzYWdlLmdldFRyYWNraW5nUHJvcGVydGllcyxcclxuXHQgICAgICAgIH0sXHJcblx0ICAgICAgICBpc0Vycm9yTWVzc2FnZTogaHBtLkh0dHBQb3N0TWVzc2FnZS5pc0Vycm9yTWVzc2FnZSxcclxuXHQgICAgICAgIG5hbWU6IG5hbWUsXHJcblx0ICAgICAgICBsb2dNZXNzYWdlczogbG9nTWVzc2FnZXNcclxuXHQgICAgfSk7XHJcblx0fTtcclxuXHRleHBvcnRzLnJvdXRlckZhY3RvcnkgPSBmdW5jdGlvbiAod3BtcCkge1xyXG5cdCAgICByZXR1cm4gbmV3IHJvdXRlci5Sb3V0ZXIod3BtcCk7XHJcblx0fTtcclxuXG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsoZnVuY3Rpb24gKGZhY3RvcnkpIHtcclxuXHQgICAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcclxuXHQgICAgICAgIHZhciB2ID0gZmFjdG9yeShfX3dlYnBhY2tfcmVxdWlyZV9fKDgpLCBleHBvcnRzKTsgaWYgKHYgIT09IHVuZGVmaW5lZCkgbW9kdWxlLmV4cG9ydHMgPSB2O1xyXG5cdCAgICB9XHJcblx0ICAgIGVsc2UgaWYgKHRydWUpIHtcclxuXHQgICAgICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtfX3dlYnBhY2tfcmVxdWlyZV9fLCBleHBvcnRzXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XHJcblx0ICAgIH1cclxuXHR9KShmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cykge1xyXG5cdCAgICBcInVzZSBzdHJpY3RcIjtcclxuXHQgICAgdmFyIFdpbmRvd1Bvc3RNZXNzYWdlUHJveHkgPSAoZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgZnVuY3Rpb24gV2luZG93UG9zdE1lc3NhZ2VQcm94eShjb250ZW50V2luZG93LCBvcHRpb25zKSB7XHJcblx0ICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuXHQgICAgICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7XHJcblx0ICAgICAgICAgICAgICAgIHByb2Nlc3NUcmFja2luZ1Byb3BlcnRpZXM6IHtcclxuXHQgICAgICAgICAgICAgICAgICAgIGFkZFRyYWNraW5nUHJvcGVydGllczogV2luZG93UG9zdE1lc3NhZ2VQcm94eS5kZWZhdWx0QWRkVHJhY2tpbmdQcm9wZXJ0aWVzLFxyXG5cdCAgICAgICAgICAgICAgICAgICAgZ2V0VHJhY2tpbmdQcm9wZXJ0aWVzOiBXaW5kb3dQb3N0TWVzc2FnZVByb3h5LmRlZmF1bHRHZXRUcmFja2luZ1Byb3BlcnRpZXNcclxuXHQgICAgICAgICAgICAgICAgfSxcclxuXHQgICAgICAgICAgICAgICAgaXNFcnJvck1lc3NhZ2U6IFdpbmRvd1Bvc3RNZXNzYWdlUHJveHkuZGVmYXVsdElzRXJyb3JNZXNzYWdlLFxyXG5cdCAgICAgICAgICAgICAgICByZWNlaXZlV2luZG93OiB3aW5kb3csXHJcblx0ICAgICAgICAgICAgICAgIG5hbWU6IFdpbmRvd1Bvc3RNZXNzYWdlUHJveHkuY3JlYXRlUmFuZG9tU3RyaW5nKClcclxuXHQgICAgICAgICAgICB9OyB9XHJcblx0ICAgICAgICAgICAgdGhpcy5wZW5kaW5nUmVxdWVzdFByb21pc2VzID0ge307XHJcblx0ICAgICAgICAgICAgLy8gc2F2ZSBjb250ZW50V2luZG93XHJcblx0ICAgICAgICAgICAgdGhpcy5jb250ZW50V2luZG93ID0gY29udGVudFdpbmRvdztcclxuXHQgICAgICAgICAgICAvLyBzYXZlIG9wdGlvbnMgd2l0aCBkZWZhdWx0c1xyXG5cdCAgICAgICAgICAgIHRoaXMuYWRkVHJhY2tpbmdQcm9wZXJ0aWVzID0gKG9wdGlvbnMucHJvY2Vzc1RyYWNraW5nUHJvcGVydGllcyAmJiBvcHRpb25zLnByb2Nlc3NUcmFja2luZ1Byb3BlcnRpZXMuYWRkVHJhY2tpbmdQcm9wZXJ0aWVzKSB8fCBXaW5kb3dQb3N0TWVzc2FnZVByb3h5LmRlZmF1bHRBZGRUcmFja2luZ1Byb3BlcnRpZXM7XHJcblx0ICAgICAgICAgICAgdGhpcy5nZXRUcmFja2luZ1Byb3BlcnRpZXMgPSAob3B0aW9ucy5wcm9jZXNzVHJhY2tpbmdQcm9wZXJ0aWVzICYmIG9wdGlvbnMucHJvY2Vzc1RyYWNraW5nUHJvcGVydGllcy5nZXRUcmFja2luZ1Byb3BlcnRpZXMpIHx8IFdpbmRvd1Bvc3RNZXNzYWdlUHJveHkuZGVmYXVsdEdldFRyYWNraW5nUHJvcGVydGllcztcclxuXHQgICAgICAgICAgICB0aGlzLmlzRXJyb3JNZXNzYWdlID0gb3B0aW9ucy5pc0Vycm9yTWVzc2FnZSB8fCBXaW5kb3dQb3N0TWVzc2FnZVByb3h5LmRlZmF1bHRJc0Vycm9yTWVzc2FnZTtcclxuXHQgICAgICAgICAgICB0aGlzLnJlY2VpdmVXaW5kb3cgPSBvcHRpb25zLnJlY2VpdmVXaW5kb3cgfHwgd2luZG93O1xyXG5cdCAgICAgICAgICAgIHRoaXMubmFtZSA9IG9wdGlvbnMubmFtZSB8fCBXaW5kb3dQb3N0TWVzc2FnZVByb3h5LmNyZWF0ZVJhbmRvbVN0cmluZygpO1xyXG5cdCAgICAgICAgICAgIHRoaXMubG9nTWVzc2FnZXMgPSBvcHRpb25zLmxvZ01lc3NhZ2VzIHx8IGZhbHNlO1xyXG5cdCAgICAgICAgICAgIC8vIEluaXRpYWxpemVcclxuXHQgICAgICAgICAgICB0aGlzLmhhbmRsZXJzID0gW107XHJcblx0ICAgICAgICAgICAgdGhpcy53aW5kb3dNZXNzYWdlSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gX3RoaXMub25NZXNzYWdlUmVjZWl2ZWQoZXZlbnQpOyB9O1xyXG5cdCAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIC8vIFN0YXRpY1xyXG5cdCAgICAgICAgV2luZG93UG9zdE1lc3NhZ2VQcm94eS5kZWZhdWx0QWRkVHJhY2tpbmdQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHRyYWNraW5nUHJvcGVydGllcykge1xyXG5cdCAgICAgICAgICAgIG1lc3NhZ2VbV2luZG93UG9zdE1lc3NhZ2VQcm94eS5tZXNzYWdlUHJvcGVydHlOYW1lXSA9IHRyYWNraW5nUHJvcGVydGllcztcclxuXHQgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgICBXaW5kb3dQb3N0TWVzc2FnZVByb3h5LmRlZmF1bHRHZXRUcmFja2luZ1Byb3BlcnRpZXMgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG5cdCAgICAgICAgICAgIHJldHVybiBtZXNzYWdlW1dpbmRvd1Bvc3RNZXNzYWdlUHJveHkubWVzc2FnZVByb3BlcnR5TmFtZV07XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgV2luZG93UG9zdE1lc3NhZ2VQcm94eS5kZWZhdWx0SXNFcnJvck1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG5cdCAgICAgICAgICAgIHJldHVybiAhIW1lc3NhZ2UuZXJyb3I7XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgLyoqXHJcblx0ICAgICAgICAgKiBBZGRzIGhhbmRsZXIuXHJcblx0ICAgICAgICAgKiBJZiB0aGUgZmlyc3QgaGFuZGxlciB3aG9zZSB0ZXN0IG1ldGhvZCByZXR1cm5zIHRydWUgd2lsbCBoYW5kbGUgdGhlIG1lc3NhZ2UgYW5kIHByb3ZpZGUgYSByZXNwb25zZS5cclxuXHQgICAgICAgICAqL1xyXG5cdCAgICAgICAgV2luZG93UG9zdE1lc3NhZ2VQcm94eS5wcm90b3R5cGUuYWRkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5oYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIC8qKlxyXG5cdCAgICAgICAgICogUmVtb3ZlcyBoYW5kbGVyLlxyXG5cdCAgICAgICAgICogVGhlIHJlZmVyZW5jZSBtdXN0IG1hdGNoIHRoZSBvcmlnaW5hbCBvYmplY3QgdGhhdCB3YXMgcHJvdmlkZWQgd2hlbiBhZGRpbmcgdGhlIGhhbmRsZXIuXHJcblx0ICAgICAgICAgKi9cclxuXHQgICAgICAgIFdpbmRvd1Bvc3RNZXNzYWdlUHJveHkucHJvdG90eXBlLnJlbW92ZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xyXG5cdCAgICAgICAgICAgIHZhciBoYW5kbGVySW5kZXggPSB0aGlzLmhhbmRsZXJzLmluZGV4T2YoaGFuZGxlcik7XHJcblx0ICAgICAgICAgICAgaWYgKGhhbmRsZXJJbmRleCA9PSAtMSkge1xyXG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXR0ZW1wdGVkIHRvIHJlbW92ZSBhIGhhbmRsZXIgYnV0IG5vIG1hdGNoaW5nIGhhbmRsZXIgd2FzIGZvdW5kLlwiKTtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgdGhpcy5oYW5kbGVycy5zcGxpY2UoaGFuZGxlckluZGV4LCAxKTtcclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgICAvKipcclxuXHQgICAgICAgICAqIFN0YXJ0IGxpc3RlbmluZyB0byBtZXNzYWdlIGV2ZW50cy5cclxuXHQgICAgICAgICAqL1xyXG5cdCAgICAgICAgV2luZG93UG9zdE1lc3NhZ2VQcm94eS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgdGhpcy5yZWNlaXZlV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLndpbmRvd01lc3NhZ2VIYW5kbGVyKTtcclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgICAvKipcclxuXHQgICAgICAgICAqIFN0b3BzIGxpc3RlbmluZyB0byBtZXNzYWdlIGV2ZW50cy5cclxuXHQgICAgICAgICAqL1xyXG5cdCAgICAgICAgV2luZG93UG9zdE1lc3NhZ2VQcm94eS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgICAgICB0aGlzLnJlY2VpdmVXaW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMud2luZG93TWVzc2FnZUhhbmRsZXIpO1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIC8qKlxyXG5cdCAgICAgICAgICogUG9zdCBtZXNzYWdlIHRvIHRhcmdldCB3aW5kb3cgd2l0aCB0cmFja2luZyBwcm9wZXJ0aWVzIGFkZGVkIGFuZCBzYXZlIGRlZmVycmVkIG9iamVjdCByZWZlcmVuY2VkIGJ5IHRyYWNraW5nIGlkLlxyXG5cdCAgICAgICAgICovXHJcblx0ICAgICAgICBXaW5kb3dQb3N0TWVzc2FnZVByb3h5LnByb3RvdHlwZS5wb3N0TWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcblx0ICAgICAgICAgICAgLy8gQWRkIHRyYWNraW5nIHByb3BlcnRpZXMgdG8gaW5kaWNhdGUgbWVzc2FnZSBjYW1lIGZyb20gdGhpcyBwcm94eVxyXG5cdCAgICAgICAgICAgIHZhciB0cmFja2luZ1Byb3BlcnRpZXMgPSB7IGlkOiBXaW5kb3dQb3N0TWVzc2FnZVByb3h5LmNyZWF0ZVJhbmRvbVN0cmluZygpIH07XHJcblx0ICAgICAgICAgICAgdGhpcy5hZGRUcmFja2luZ1Byb3BlcnRpZXMobWVzc2FnZSwgdHJhY2tpbmdQcm9wZXJ0aWVzKTtcclxuXHQgICAgICAgICAgICBpZiAodGhpcy5sb2dNZXNzYWdlcykge1xyXG5cdCAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm5hbWUgKyBcIiBQb3N0aW5nIG1lc3NhZ2U6XCIpO1xyXG5cdCAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShtZXNzYWdlLCBudWxsLCAnICAnKSk7XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIHRoaXMuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZShtZXNzYWdlLCBcIipcIik7XHJcblx0ICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gV2luZG93UG9zdE1lc3NhZ2VQcm94eS5jcmVhdGVEZWZlcnJlZCgpO1xyXG5cdCAgICAgICAgICAgIHRoaXMucGVuZGluZ1JlcXVlc3RQcm9taXNlc1t0cmFja2luZ1Byb3BlcnRpZXMuaWRdID0gZGVmZXJyZWQ7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgLyoqXHJcblx0ICAgICAgICAgKiBTZW5kIHJlc3BvbnNlIG1lc3NhZ2UgdG8gdGFyZ2V0IHdpbmRvdy5cclxuXHQgICAgICAgICAqIFJlc3BvbnNlIG1lc3NhZ2VzIHJlLXVzZSB0cmFja2luZyBwcm9wZXJ0aWVzIGZyb20gYSBwcmV2aW91cyByZXF1ZXN0IG1lc3NhZ2UuXHJcblx0ICAgICAgICAgKi9cclxuXHQgICAgICAgIFdpbmRvd1Bvc3RNZXNzYWdlUHJveHkucHJvdG90eXBlLnNlbmRSZXNwb25zZSA9IGZ1bmN0aW9uIChtZXNzYWdlLCB0cmFja2luZ1Byb3BlcnRpZXMpIHtcclxuXHQgICAgICAgICAgICB0aGlzLmFkZFRyYWNraW5nUHJvcGVydGllcyhtZXNzYWdlLCB0cmFja2luZ1Byb3BlcnRpZXMpO1xyXG5cdCAgICAgICAgICAgIGlmICh0aGlzLmxvZ01lc3NhZ2VzKSB7XHJcblx0ICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubmFtZSArIFwiIFNlbmRpbmcgcmVzcG9uc2U6XCIpO1xyXG5cdCAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShtZXNzYWdlLCBudWxsLCAnICAnKSk7XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIHRoaXMuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZShtZXNzYWdlLCBcIipcIik7XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgLyoqXHJcblx0ICAgICAgICAgKiBNZXNzYWdlIGhhbmRsZXIuXHJcblx0ICAgICAgICAgKi9cclxuXHQgICAgICAgIFdpbmRvd1Bvc3RNZXNzYWdlUHJveHkucHJvdG90eXBlLm9uTWVzc2FnZVJlY2VpdmVkID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcblx0ICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuXHQgICAgICAgICAgICBpZiAodGhpcy5sb2dNZXNzYWdlcykge1xyXG5cdCAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm5hbWUgKyBcIiBSZWNlaXZlZCBtZXNzYWdlOlwiKTtcclxuXHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0eXBlOiBcIiArIGV2ZW50LnR5cGUpO1xyXG5cdCAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShldmVudC5kYXRhLCBudWxsLCAnICAnKSk7XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIHZhciBtZXNzYWdlID0gZXZlbnQuZGF0YTtcclxuXHQgICAgICAgICAgICB2YXIgdHJhY2tpbmdQcm9wZXJ0aWVzID0gdGhpcy5nZXRUcmFja2luZ1Byb3BlcnRpZXMobWVzc2FnZSk7XHJcblx0ICAgICAgICAgICAgLy8gSWYgdGhpcyBwcm94eSBpbnN0YW5jZSBjb3VsZCBub3QgZmluZCB0cmFja2luZyBwcm9wZXJ0aWVzIHRoZW4gZGlzcmVnYXJkIG1lc3NhZ2Ugc2luY2Ugd2UgY2FuJ3QgcmVsaWFibHkgcmVzcG9uZFxyXG5cdCAgICAgICAgICAgIGlmICghdHJhY2tpbmdQcm9wZXJ0aWVzKSB7XHJcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gdGhpcy5wZW5kaW5nUmVxdWVzdFByb21pc2VzW3RyYWNraW5nUHJvcGVydGllcy5pZF07XHJcblx0ICAgICAgICAgICAgLy8gSWYgbWVzc2FnZSBkb2VzIG5vdCBoYXZlIGEga25vd24gSUQsIHRyZWF0IGl0IGFzIGEgcmVxdWVzdFxyXG5cdCAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgdHJlYXQgbWVzc2FnZSBhcyByZXNwb25zZVxyXG5cdCAgICAgICAgICAgIGlmICghZGVmZXJyZWQpIHtcclxuXHQgICAgICAgICAgICAgICAgdmFyIGhhbmRsZWQgPSB0aGlzLmhhbmRsZXJzLnNvbWUoZnVuY3Rpb24gKGhhbmRsZXIpIHtcclxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyLnRlc3QobWVzc2FnZSkpIHtcclxuXHQgICAgICAgICAgICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoaGFuZGxlci5oYW5kbGUobWVzc2FnZSkpXHJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZU1lc3NhZ2UpIHtcclxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlTWVzc2FnZSwgdHJhY2tpbmdQcm9wZXJ0aWVzKTtcclxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHQgICAgICAgICAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICAgICAgfSk7XHJcblx0ICAgICAgICAgICAgICAgIC8qKlxyXG5cdCAgICAgICAgICAgICAgICAgKiBUT0RPOiBDb25zaWRlciByZXR1cm5pbmcgYW4gZXJyb3IgbWVzc2FnZSBpZiBub3RoaW5nIGhhbmRsZWQgdGhlIG1lc3NhZ2UuXHJcblx0ICAgICAgICAgICAgICAgICAqIEluIHRoZSBjYXNlIG9mIHRoZSBSZXBvcnQgcmVjZWl2aW5nIG1lc3NhZ2VzIGFsbCBvZiB0aGVtIHNob3VsZCBiZSBoYW5kbGVkLFxyXG5cdCAgICAgICAgICAgICAgICAgKiBob3dldmVyLCBpbiB0aGUgY2FzZSBvZiB0aGUgU0RLIHJlY2VpdmluZyBtZXNzYWdlcyBpdCdzIGxpa2VseSBpdCB3b24ndCByZWdpc3RlciBoYW5kbGVyc1xyXG5cdCAgICAgICAgICAgICAgICAgKiBmb3IgYWxsIGV2ZW50cy4gUGVyaGFwcyBtYWtlIHRoaXMgYW4gb3B0aW9uIGF0IGNvbnN0cnVjdGlvbiB0aW1lLlxyXG5cdCAgICAgICAgICAgICAgICAgKi9cclxuXHQgICAgICAgICAgICAgICAgaWYgKCFoYW5kbGVkKSB7XHJcblx0ICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJQcm94eShcIiArIHRoaXMubmFtZSArIFwiKSBkaWQgbm90IGhhbmRsZSBtZXNzYWdlLiBIYW5kbGVyczogXCIgKyB0aGlzLmhhbmRsZXJzLmxlbmd0aCArIFwiICBNZXNzYWdlOiBcIiArIEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UsIG51bGwsICcnKSArIFwiLlwiKTtcclxuXHQgICAgICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICBlbHNlIHtcclxuXHQgICAgICAgICAgICAgICAgLyoqXHJcblx0ICAgICAgICAgICAgICAgICAqIElmIGVycm9yIG1lc3NhZ2UgcmVqZWN0IHByb21pc2UsXHJcblx0ICAgICAgICAgICAgICAgICAqIE90aGVyd2lzZSwgcmVzb2x2ZSBwcm9taXNlXHJcblx0ICAgICAgICAgICAgICAgICAqL1xyXG5cdCAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0Vycm9yTWVzc2FnZShtZXNzYWdlKSkge1xyXG5cdCAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KG1lc3NhZ2UpO1xyXG5cdCAgICAgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgICAgIGVsc2Uge1xyXG5cdCAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShtZXNzYWdlKTtcclxuXHQgICAgICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgICAgICAvLyBUT0RPOiBNb3ZlIHRvIC5maW5hbGx5IGNsYXVzZSB1cCB3aGVyZSBwcm9taXNlIGlzIGNyZWF0ZWQgZm9yIGJldHRlciBtYWl0ZW5hbmNlIGxpa2Ugb3JpZ2luYWwgcHJveHkgY29kZS5cclxuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMucGVuZGluZ1JlcXVlc3RQcm9taXNlc1t0cmFja2luZ1Byb3BlcnRpZXMuaWRdO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgICAvKipcclxuXHQgICAgICAgICAqIFV0aWxpdHkgdG8gY3JlYXRlIGEgZGVmZXJyZWQgb2JqZWN0LlxyXG5cdCAgICAgICAgICovXHJcblx0ICAgICAgICAvLyBUT0RPOiBMb29rIHRvIHVzZSBSU1ZQIGxpYnJhcnkgaW5zdGVhZCBvZiBkb2luZyB0aGlzIG1hbnVhbGx5LlxyXG5cdCAgICAgICAgLy8gRnJvbSB3aGF0IEkgc2VhcmNoZWQgUlNWUCB3b3VsZCB3b3JrIGJldHRlciBiZWNhdXNlIGl0IGhhcyAuZmluYWxseSBhbmQgLmRlZmVycmVkOyBob3dldmVyLCBpdCBkb2Vzbid0IGhhdmUgVHlwaW5ncyBpbmZvcm1hdGlvbi4gXHJcblx0ICAgICAgICBXaW5kb3dQb3N0TWVzc2FnZVByb3h5LmNyZWF0ZURlZmVycmVkID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9IHtcclxuXHQgICAgICAgICAgICAgICAgcmVzb2x2ZTogbnVsbCxcclxuXHQgICAgICAgICAgICAgICAgcmVqZWN0OiBudWxsLFxyXG5cdCAgICAgICAgICAgICAgICBwcm9taXNlOiBudWxsXHJcblx0ICAgICAgICAgICAgfTtcclxuXHQgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuXHQgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSA9IHJlc29sdmU7XHJcblx0ICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCA9IHJlamVjdDtcclxuXHQgICAgICAgICAgICB9KTtcclxuXHQgICAgICAgICAgICBkZWZlcnJlZC5wcm9taXNlID0gcHJvbWlzZTtcclxuXHQgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQ7XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgLyoqXHJcblx0ICAgICAgICAgKiBVdGlsaXR5IHRvIGdlbmVyYXRlIHJhbmRvbSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIHVzZWQgYXMgdHJhY2tpbmcgaWQgZm9yIHByb21pc2VzLlxyXG5cdCAgICAgICAgICovXHJcblx0ICAgICAgICBXaW5kb3dQb3N0TWVzc2FnZVByb3h5LmNyZWF0ZVJhbmRvbVN0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgICAgICByZXR1cm4gKE1hdGgucmFuZG9tKCkgKyAxKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpO1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIFdpbmRvd1Bvc3RNZXNzYWdlUHJveHkubWVzc2FnZVByb3BlcnR5TmFtZSA9IFwid2luZG93UG9zdE1lc3NhZ2VQcm94eVwiO1xyXG5cdCAgICAgICAgcmV0dXJuIFdpbmRvd1Bvc3RNZXNzYWdlUHJveHk7XHJcblx0ICAgIH0oKSk7XHJcblx0ICAgIGV4cG9ydHMuV2luZG93UG9zdE1lc3NhZ2VQcm94eSA9IFdpbmRvd1Bvc3RNZXNzYWdlUHJveHk7XHJcblx0fSk7XHJcblx0Ly8jIHNvdXJjZU1hcHBpbmdVUkw9d2luZG93UG9zdE1lc3NhZ2VQcm94eS5qcy5tYXBcblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBtYXAgPSB7XG5cdFx0XCIuL3dpbmRvd1Bvc3RNZXNzYWdlUHJveHlcIjogNyxcblx0XHRcIi4vd2luZG93UG9zdE1lc3NhZ2VQcm94eS5qc1wiOiA3XG5cdH07XG5cdGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpKTtcblx0fTtcblx0ZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRcdHJldHVybiBtYXBbcmVxXSB8fCAoZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIicuXCIpIH0oKSk7XG5cdH07XG5cdHdlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdFx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG5cdH07XG5cdHdlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5cdG1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG5cdHdlYnBhY2tDb250ZXh0LmlkID0gODtcblxuXG4vKioqLyB9LFxuLyogOSAqLyxcbi8qIDEwICovLFxuLyogMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOyhmdW5jdGlvbiAoZmFjdG9yeSkge1xyXG5cdCAgICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0Jykge1xyXG5cdCAgICAgICAgdmFyIHYgPSBmYWN0b3J5KF9fd2VicGFja19yZXF1aXJlX18oMTIpLCBleHBvcnRzKTsgaWYgKHYgIT09IHVuZGVmaW5lZCkgbW9kdWxlLmV4cG9ydHMgPSB2O1xyXG5cdCAgICB9XHJcblx0ICAgIGVsc2UgaWYgKHRydWUpIHtcclxuXHQgICAgICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtfX3dlYnBhY2tfcmVxdWlyZV9fLCBleHBvcnRzXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XHJcblx0ICAgIH1cclxuXHR9KShmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cykge1xyXG5cdCAgICBcInVzZSBzdHJpY3RcIjtcclxuXHQgICAgdmFyIEh0dHBQb3N0TWVzc2FnZSA9IChmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICBmdW5jdGlvbiBIdHRwUG9zdE1lc3NhZ2Uod2luZG93UG9zdE1lc3NhZ2VQcm94eSwgZGVmYXVsdEhlYWRlcnMpIHtcclxuXHQgICAgICAgICAgICBpZiAoZGVmYXVsdEhlYWRlcnMgPT09IHZvaWQgMCkgeyBkZWZhdWx0SGVhZGVycyA9IHt9OyB9XHJcblx0ICAgICAgICAgICAgdGhpcy5kZWZhdWx0SGVhZGVycyA9IGRlZmF1bHRIZWFkZXJzO1xyXG5cdCAgICAgICAgICAgIHRoaXMud2luZG93UG9zdE1lc3NhZ2VQcm94eSA9IHdpbmRvd1Bvc3RNZXNzYWdlUHJveHk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICAvLyBUT0RPOiBJIHRoZSByZXNwb25zaWJpbGl0eSBvZiBrbm93aW5nIGhvdyB0byBjb25maWd1cmUgd2luZG93UG9zdE1lc3NhZ2VQcm94eSBzaG91bGRcclxuXHQgICAgICAgIC8vIGxpdmUgaW4gdGhpcyBjbGFzcywgYnV0IHRoZW4gd2UgaGF2ZSB0byBoYXZlIGhhcmQgZGVwZW5kZW5jeSBmb3IgdGhpbmdzIGxpa2UgSVRyYWNraW5nUHJvcGVydGllc1xyXG5cdCAgICAgICAgSHR0cFBvc3RNZXNzYWdlLmFkZFRyYWNraW5nUHJvcGVydGllcyA9IGZ1bmN0aW9uIChtZXNzYWdlLCB0cmFja2luZ1Byb3BlcnRpZXMpIHtcclxuXHQgICAgICAgICAgICBtZXNzYWdlLmhlYWRlcnMgPSBtZXNzYWdlLmhlYWRlcnMgfHwge307XHJcblx0ICAgICAgICAgICAgbWVzc2FnZS5oZWFkZXJzLmlkID0gdHJhY2tpbmdQcm9wZXJ0aWVzLmlkO1xyXG5cdCAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIEh0dHBQb3N0TWVzc2FnZS5nZXRUcmFja2luZ1Byb3BlcnRpZXMgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG5cdCAgICAgICAgICAgIHJldHVybiB7XHJcblx0ICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmhlYWRlcnMuaWRcclxuXHQgICAgICAgICAgICB9O1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIEh0dHBQb3N0TWVzc2FnZS5pc0Vycm9yTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuICEoMjAwIDw9IG1lc3NhZ2Uuc3RhdHVzQ29kZSAmJiBtZXNzYWdlLnN0YXR1c0NvZGUgPCAzMDApO1xyXG5cdCAgICAgICAgfTtcclxuXHQgICAgICAgIEh0dHBQb3N0TWVzc2FnZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHVybCwgaGVhZGVycykge1xyXG5cdCAgICAgICAgICAgIGlmIChoZWFkZXJzID09PSB2b2lkIDApIHsgaGVhZGVycyA9IHt9OyB9XHJcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VuZCh7XHJcblx0ICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuXHQgICAgICAgICAgICAgICAgdXJsOiB1cmwsXHJcblx0ICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNcclxuXHQgICAgICAgICAgICB9KTtcclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgICBIdHRwUG9zdE1lc3NhZ2UucHJvdG90eXBlLnBvc3QgPSBmdW5jdGlvbiAodXJsLCBib2R5LCBoZWFkZXJzKSB7XHJcblx0ICAgICAgICAgICAgaWYgKGhlYWRlcnMgPT09IHZvaWQgMCkgeyBoZWFkZXJzID0ge307IH1cclxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kKHtcclxuXHQgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuXHQgICAgICAgICAgICAgICAgdXJsOiB1cmwsXHJcblx0ICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXHJcblx0ICAgICAgICAgICAgICAgIGJvZHk6IGJvZHlcclxuXHQgICAgICAgICAgICB9KTtcclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgICBIdHRwUG9zdE1lc3NhZ2UucHJvdG90eXBlLnB1dCA9IGZ1bmN0aW9uICh1cmwsIGJvZHksIGhlYWRlcnMpIHtcclxuXHQgICAgICAgICAgICBpZiAoaGVhZGVycyA9PT0gdm9pZCAwKSB7IGhlYWRlcnMgPSB7fTsgfVxyXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmQoe1xyXG5cdCAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcblx0ICAgICAgICAgICAgICAgIHVybDogdXJsLFxyXG5cdCAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxyXG5cdCAgICAgICAgICAgICAgICBib2R5OiBib2R5XHJcblx0ICAgICAgICAgICAgfSk7XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgSHR0cFBvc3RNZXNzYWdlLnByb3RvdHlwZS5wYXRjaCA9IGZ1bmN0aW9uICh1cmwsIGJvZHksIGhlYWRlcnMpIHtcclxuXHQgICAgICAgICAgICBpZiAoaGVhZGVycyA9PT0gdm9pZCAwKSB7IGhlYWRlcnMgPSB7fTsgfVxyXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmQoe1xyXG5cdCAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuXHQgICAgICAgICAgICAgICAgdXJsOiB1cmwsXHJcblx0ICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXHJcblx0ICAgICAgICAgICAgICAgIGJvZHk6IGJvZHlcclxuXHQgICAgICAgICAgICB9KTtcclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgICBIdHRwUG9zdE1lc3NhZ2UucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICh1cmwsIGhlYWRlcnMpIHtcclxuXHQgICAgICAgICAgICBpZiAoaGVhZGVycyA9PT0gdm9pZCAwKSB7IGhlYWRlcnMgPSB7fTsgfVxyXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmQoe1xyXG5cdCAgICAgICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcblx0ICAgICAgICAgICAgICAgIHVybDogdXJsLFxyXG5cdCAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzXHJcblx0ICAgICAgICAgICAgfSk7XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgSHR0cFBvc3RNZXNzYWdlLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuXHQgICAgICAgICAgICB0aGlzLmFzc2lnbihyZXF1ZXN0LmhlYWRlcnMsIHRoaXMuZGVmYXVsdEhlYWRlcnMpO1xyXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLndpbmRvd1Bvc3RNZXNzYWdlUHJveHkucG9zdE1lc3NhZ2UocmVxdWVzdCk7XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgLyoqXHJcblx0ICAgICAgICAgKiBPYmplY3QuYXNzaWduKCkgcG9seWZpbGxcclxuXHQgICAgICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ25cclxuXHQgICAgICAgICAqL1xyXG5cdCAgICAgICAgSHR0cFBvc3RNZXNzYWdlLnByb3RvdHlwZS5hc3NpZ24gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcblx0ICAgICAgICAgICAgdmFyIHNvdXJjZXMgPSBbXTtcclxuXHQgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG5cdCAgICAgICAgICAgICAgICBzb3VyY2VzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0ID09PSBudWxsKSB7XHJcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICB2YXIgb3V0cHV0ID0gT2JqZWN0KHRhcmdldCk7XHJcblx0ICAgICAgICAgICAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2UpIHtcclxuXHQgICAgICAgICAgICAgICAgaWYgKHNvdXJjZSAhPT0gdW5kZWZpbmVkICYmIHNvdXJjZSAhPT0gbnVsbCkge1xyXG5cdCAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbmV4dEtleSBpbiBzb3VyY2UpIHtcclxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwgbmV4dEtleSkpIHtcclxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W25leHRLZXldID0gc291cmNlW25leHRLZXldO1xyXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIH0pO1xyXG5cdCAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XHJcblx0ICAgICAgICB9O1xyXG5cdCAgICAgICAgcmV0dXJuIEh0dHBQb3N0TWVzc2FnZTtcclxuXHQgICAgfSgpKTtcclxuXHQgICAgZXhwb3J0cy5IdHRwUG9zdE1lc3NhZ2UgPSBIdHRwUG9zdE1lc3NhZ2U7XHJcblx0fSk7XHJcblx0Ly8jIHNvdXJjZU1hcHBpbmdVUkw9aHR0cFBvc3RNZXNzYWdlLmpzLm1hcFxuXG4vKioqLyB9LFxuLyogMTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBtYXAgPSB7XG5cdFx0XCIuL2h0dHBQb3N0TWVzc2FnZVwiOiAxMSxcblx0XHRcIi4vaHR0cFBvc3RNZXNzYWdlLmpzXCI6IDExXG5cdH07XG5cdGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpKTtcblx0fTtcblx0ZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRcdHJldHVybiBtYXBbcmVxXSB8fCAoZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIicuXCIpIH0oKSk7XG5cdH07XG5cdHdlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdFx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG5cdH07XG5cdHdlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5cdG1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG5cdHdlYnBhY2tDb250ZXh0LmlkID0gMTI7XG5cblxuLyoqKi8gfSxcbi8qIDEzICovLFxuLyogMTQgKi8sXG4vKiAxNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0KGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0XHRpZih0cnVlKVxuXHRcdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdFx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRcdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdFx0ZXhwb3J0c1tcInBvd2VyYmktcm91dGVyXCJdID0gZmFjdG9yeSgpO1xuXHRcdGVsc2Vcblx0XHRcdHJvb3RbXCJwb3dlcmJpLXJvdXRlclwiXSA9IGZhY3RvcnkoKTtcblx0fSkodGhpcywgZnVuY3Rpb24oKSB7XG5cdHJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG5cdC8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuXHQvKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cblx0LyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0LyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuXHQvKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdC8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG5cdC8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuXHQvKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG5cdC8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcblx0LyoqKioqKi8gXHRcdH07XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0LyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHQvKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHQvKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuXHQvKioqKioqLyBcdH1cblx0LyoqKioqKi9cblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuXHQvKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cdC8qKioqKiovXG5cdC8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcblx0LyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXHQvKioqKioqL1xuXHQvKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG5cdC8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblx0LyoqKioqKi9cblx0LyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcblx0LyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblx0LyoqKioqKi8gfSlcblx0LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblx0LyoqKioqKi8gKFtcblx0LyogMCAqL1xuXHQvKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblx0XG5cdFx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0XHR2YXIgUm91dGVSZWNvZ25pemVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcclxuXHRcdHZhciBSb3V0ZXIgPSAoZnVuY3Rpb24gKCkge1xyXG5cdFx0ICAgIGZ1bmN0aW9uIFJvdXRlcihoYW5kbGVycykge1xyXG5cdFx0ICAgICAgICB0aGlzLmhhbmRsZXJzID0gaGFuZGxlcnM7XHJcblx0XHQgICAgICAgIC8qKlxyXG5cdFx0ICAgICAgICAgKiBUT0RPOiBsb29rIGF0IGdlbmVyYXRpbmcgdGhlIHJvdXRlciBkeW5hbWljYWxseSBiYXNlZCBvbiBsaXN0IG9mIHN1cHBvcnRlZCBodHRwIG1ldGhvZHNcclxuXHRcdCAgICAgICAgICogaW5zdGVhZCBvZiBoYXJkY29kaW5nIHRoZSBjcmVhdGlvbiBvZiB0aGVzZSBhbmQgdGhlIG1ldGhvZHMuXHJcblx0XHQgICAgICAgICAqL1xyXG5cdFx0ICAgICAgICB0aGlzLmdldFJvdXRlUmVjb2duaXplciA9IG5ldyBSb3V0ZVJlY29nbml6ZXIoKTtcclxuXHRcdCAgICAgICAgdGhpcy5wYXRjaFJvdXRlUmVjb2duaXplciA9IG5ldyBSb3V0ZVJlY29nbml6ZXIoKTtcclxuXHRcdCAgICAgICAgdGhpcy5wb3N0Um91dGVSZWNvZ25pemVyID0gbmV3IFJvdXRlUmVjb2duaXplcigpO1xyXG5cdFx0ICAgICAgICB0aGlzLnB1dFJvdXRlUmVjb2duaXplciA9IG5ldyBSb3V0ZVJlY29nbml6ZXIoKTtcclxuXHRcdCAgICAgICAgdGhpcy5kZWxldGVSb3V0ZVJlY29nbml6ZXIgPSBuZXcgUm91dGVSZWNvZ25pemVyKCk7XHJcblx0XHQgICAgfVxyXG5cdFx0ICAgIFJvdXRlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHVybCwgaGFuZGxlcikge1xyXG5cdFx0ICAgICAgICB0aGlzLnJlZ2lzdGVySGFuZGxlcih0aGlzLmdldFJvdXRlUmVjb2duaXplciwgXCJHRVRcIiwgdXJsLCBoYW5kbGVyKTtcclxuXHRcdCAgICAgICAgcmV0dXJuIHRoaXM7XHJcblx0XHQgICAgfTtcclxuXHRcdCAgICBSb3V0ZXIucHJvdG90eXBlLnBhdGNoID0gZnVuY3Rpb24gKHVybCwgaGFuZGxlcikge1xyXG5cdFx0ICAgICAgICB0aGlzLnJlZ2lzdGVySGFuZGxlcih0aGlzLnBhdGNoUm91dGVSZWNvZ25pemVyLCBcIlBBVENIXCIsIHVybCwgaGFuZGxlcik7XHJcblx0XHQgICAgICAgIHJldHVybiB0aGlzO1xyXG5cdFx0ICAgIH07XHJcblx0XHQgICAgUm91dGVyLnByb3RvdHlwZS5wb3N0ID0gZnVuY3Rpb24gKHVybCwgaGFuZGxlcikge1xyXG5cdFx0ICAgICAgICB0aGlzLnJlZ2lzdGVySGFuZGxlcih0aGlzLnBvc3RSb3V0ZVJlY29nbml6ZXIsIFwiUE9TVFwiLCB1cmwsIGhhbmRsZXIpO1xyXG5cdFx0ICAgICAgICByZXR1cm4gdGhpcztcclxuXHRcdCAgICB9O1xyXG5cdFx0ICAgIFJvdXRlci5wcm90b3R5cGUucHV0ID0gZnVuY3Rpb24gKHVybCwgaGFuZGxlcikge1xyXG5cdFx0ICAgICAgICB0aGlzLnJlZ2lzdGVySGFuZGxlcih0aGlzLnB1dFJvdXRlUmVjb2duaXplciwgXCJQVVRcIiwgdXJsLCBoYW5kbGVyKTtcclxuXHRcdCAgICAgICAgcmV0dXJuIHRoaXM7XHJcblx0XHQgICAgfTtcclxuXHRcdCAgICBSb3V0ZXIucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICh1cmwsIGhhbmRsZXIpIHtcclxuXHRcdCAgICAgICAgdGhpcy5yZWdpc3RlckhhbmRsZXIodGhpcy5kZWxldGVSb3V0ZVJlY29nbml6ZXIsIFwiREVMRVRFXCIsIHVybCwgaGFuZGxlcik7XHJcblx0XHQgICAgICAgIHJldHVybiB0aGlzO1xyXG5cdFx0ICAgIH07XHJcblx0XHQgICAgLyoqXHJcblx0XHQgICAgICogVE9ETzogVGhpcyBtZXRob2QgY291bGQgdXNlIHNvbWUgcmVmYWN0b3JpbmcuICBUaGVyZSBpcyBjb25mbGljdCBvZiBpbnRlcmVzdCBiZXR3ZWVuIGtlZXBpbmcgY2xlYW4gc2VwYXJhdGlvbiBvZiB0ZXN0IGFuZCBoYW5kbGUgbWV0aG9kXHJcblx0XHQgICAgICogVGVzdCBtZXRob2Qgb25seSByZXR1cm5zIGJvb2xlYW4gaW5kaWNhdGluZyBpZiByZXF1ZXN0IGNhbiBiZSBoYW5kbGVkLCBhbmQgaGFuZGxlIG1ldGhvZCBoYXMgb3Bwb3J0dW5pdHkgdG8gbW9kaWZ5IHJlc3BvbnNlIGFuZCByZXR1cm4gcHJvbWlzZSBvZiBpdC5cclxuXHRcdCAgICAgKiBJbiB0aGUgY2FzZSBvZiB0aGUgcm91dGVyIHdpdGggcm91dGUtcmVjb2duaXplciB3aGVyZSBoYW5kbGVycyBhcmUgYXNzb2NpYXRlZCB3aXRoIHJvdXRlcywgdGhpcyBhbHJlYWR5IGd1YXJhbnRlZXMgdGhhdCBvbmx5IG9uZSBoYW5kbGVyIGlzIHNlbGVjdGVkIGFuZCBtYWtlcyB0aGUgdGVzdCBtZXRob2QgZmVlbCBjb21wbGljYXRlZFxyXG5cdFx0ICAgICAqIFdpbGwgbGVhdmUgYXMgaXMgYW4gaW52ZXN0aWdhdGUgY2xlYW5lciB3YXlzIGF0IGxhdGVyIHRpbWUuXHJcblx0XHQgICAgICovXHJcblx0XHQgICAgUm91dGVyLnByb3RvdHlwZS5yZWdpc3RlckhhbmRsZXIgPSBmdW5jdGlvbiAocm91dGVSZWNvZ25pemVyLCBtZXRob2QsIHVybCwgaGFuZGxlcikge1xyXG5cdFx0ICAgICAgICB2YXIgcm91dGVSZWNvZ25pemVySGFuZGxlciA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcblx0XHQgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoKTtcclxuXHRcdCAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaGFuZGxlcihyZXF1ZXN0LCByZXNwb25zZSkpXHJcblx0XHQgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHJlc3BvbnNlOyB9KTtcclxuXHRcdCAgICAgICAgfTtcclxuXHRcdCAgICAgICAgcm91dGVSZWNvZ25pemVyLmFkZChbXHJcblx0XHQgICAgICAgICAgICB7IHBhdGg6IHVybCwgaGFuZGxlcjogcm91dGVSZWNvZ25pemVySGFuZGxlciB9XHJcblx0XHQgICAgICAgIF0pO1xyXG5cdFx0ICAgICAgICB2YXIgaW50ZXJuYWxIYW5kbGVyID0ge1xyXG5cdFx0ICAgICAgICAgICAgdGVzdDogZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuXHRcdCAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5tZXRob2QgIT09IG1ldGhvZCkge1xyXG5cdFx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblx0XHQgICAgICAgICAgICAgICAgfVxyXG5cdFx0ICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZ1JvdXRlcyA9IHJvdXRlUmVjb2duaXplci5yZWNvZ25pemUocmVxdWVzdC51cmwpO1xyXG5cdFx0ICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ1JvdXRlcyA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHRcdCAgICAgICAgICAgICAgICB9XHJcblx0XHQgICAgICAgICAgICAgICAgLyoqXHJcblx0XHQgICAgICAgICAgICAgICAgICogQ29weSBwYXJhbWV0ZXJzIGZyb20gcmVjb2duaXplZCByb3V0ZSB0byB0aGUgcmVxdWVzdCBzbyB0aGV5IGNhbiBiZSB1c2VkIHdpdGhpbiB0aGUgaGFuZGxlciBmdW5jdGlvblxyXG5cdFx0ICAgICAgICAgICAgICAgICAqIFRoaXMgaXNuJ3QgaWRlYWwgYmVjYXVzZSBpdCBpcyBzaWRlIGFmZmVjdCB3aGljaCBtb2RpZmllcyB0aGUgcmVxdWVzdCBpbnN0ZWFkIG9mIHN0cmljdGx5IHRlc3RpbmcgZm9yIHRydWUgb3IgZmFsc2VcclxuXHRcdCAgICAgICAgICAgICAgICAgKiBidXQgSSBkb24ndCBzZWUgYSBiZXR0ZXIgcGxhY2UgdG8gcHV0IHRoaXMuICBJZiB3ZSBtb3ZlIGl0IGJldHdlZW4gdGhlIGNhbGwgdG8gdGVzdCBhbmQgdGhlIGhhbmRsZSBpdCBiZWNvbWVzIHBhcnQgb2YgdGhlIHdpbmRvdyBwb3N0IG1lc3NhZ2UgcHJveHlcclxuXHRcdCAgICAgICAgICAgICAgICAgKiBldmVuIHRob3VnaCBpdCdzIHJlc3BvbnNpYmlsaXR5IGlzIHJlbGF0ZWQgdG8gcm91dGluZy5cclxuXHRcdCAgICAgICAgICAgICAgICAgKi9cclxuXHRcdCAgICAgICAgICAgICAgICB2YXIgcm91dGUgPSBtYXRjaGluZ1JvdXRlc1swXTtcclxuXHRcdCAgICAgICAgICAgICAgICByZXF1ZXN0LnBhcmFtcyA9IHJvdXRlLnBhcmFtcztcclxuXHRcdCAgICAgICAgICAgICAgICByZXF1ZXN0LnF1ZXJ5UGFyYW1zID0gbWF0Y2hpbmdSb3V0ZXMucXVlcnlQYXJhbXM7XHJcblx0XHQgICAgICAgICAgICAgICAgcmVxdWVzdC5oYW5kbGVyID0gcm91dGUuaGFuZGxlcjtcclxuXHRcdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHRcdCAgICAgICAgICAgIH0sXHJcblx0XHQgICAgICAgICAgICBoYW5kbGU6IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcblx0XHQgICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QuaGFuZGxlcihyZXF1ZXN0KTtcclxuXHRcdCAgICAgICAgICAgIH1cclxuXHRcdCAgICAgICAgfTtcclxuXHRcdCAgICAgICAgdGhpcy5oYW5kbGVycy5hZGRIYW5kbGVyKGludGVybmFsSGFuZGxlcik7XHJcblx0XHQgICAgfTtcclxuXHRcdCAgICByZXR1cm4gUm91dGVyO1xyXG5cdFx0fSgpKTtcclxuXHRcdGV4cG9ydHMuUm91dGVyID0gUm91dGVyO1xyXG5cdFx0dmFyIFJlc3BvbnNlID0gKGZ1bmN0aW9uICgpIHtcclxuXHRcdCAgICBmdW5jdGlvbiBSZXNwb25zZSgpIHtcclxuXHRcdCAgICAgICAgdGhpcy5zdGF0dXNDb2RlID0gMjAwO1xyXG5cdFx0ICAgICAgICB0aGlzLmhlYWRlcnMgPSB7fTtcclxuXHRcdCAgICAgICAgdGhpcy5ib2R5ID0gbnVsbDtcclxuXHRcdCAgICB9XHJcblx0XHQgICAgUmVzcG9uc2UucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAoc3RhdHVzQ29kZSwgYm9keSkge1xyXG5cdFx0ICAgICAgICB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xyXG5cdFx0ICAgICAgICB0aGlzLmJvZHkgPSBib2R5O1xyXG5cdFx0ICAgIH07XHJcblx0XHQgICAgcmV0dXJuIFJlc3BvbnNlO1xyXG5cdFx0fSgpKTtcclxuXHRcdGV4cG9ydHMuUmVzcG9uc2UgPSBSZXNwb25zZTtcclxuXHRcblx0XG5cdC8qKiovIH0sXG5cdC8qIDEgKi9cblx0LyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cdFxuXHRcdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24obW9kdWxlKSB7KGZ1bmN0aW9uKCkge1xuXHRcdCAgICBcInVzZSBzdHJpY3RcIjtcblx0XHQgICAgZnVuY3Rpb24gJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkVGFyZ2V0KHBhdGgsIG1hdGNoZXIsIGRlbGVnYXRlKSB7XG5cdFx0ICAgICAgdGhpcy5wYXRoID0gcGF0aDtcblx0XHQgICAgICB0aGlzLm1hdGNoZXIgPSBtYXRjaGVyO1xuXHRcdCAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcblx0XHQgICAgfVxuXHRcdFxuXHRcdCAgICAkJHJvdXRlJHJlY29nbml6ZXIkZHNsJCRUYXJnZXQucHJvdG90eXBlID0ge1xuXHRcdCAgICAgIHRvOiBmdW5jdGlvbih0YXJnZXQsIGNhbGxiYWNrKSB7XG5cdFx0ICAgICAgICB2YXIgZGVsZWdhdGUgPSB0aGlzLmRlbGVnYXRlO1xuXHRcdFxuXHRcdCAgICAgICAgaWYgKGRlbGVnYXRlICYmIGRlbGVnYXRlLndpbGxBZGRSb3V0ZSkge1xuXHRcdCAgICAgICAgICB0YXJnZXQgPSBkZWxlZ2F0ZS53aWxsQWRkUm91dGUodGhpcy5tYXRjaGVyLnRhcmdldCwgdGFyZ2V0KTtcblx0XHQgICAgICAgIH1cblx0XHRcblx0XHQgICAgICAgIHRoaXMubWF0Y2hlci5hZGQodGhpcy5wYXRoLCB0YXJnZXQpO1xuXHRcdFxuXHRcdCAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG5cdFx0ICAgICAgICAgIGlmIChjYWxsYmFjay5sZW5ndGggPT09IDApIHsgdGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3QgaGF2ZSBhbiBhcmd1bWVudCBpbiB0aGUgZnVuY3Rpb24gcGFzc2VkIHRvIGB0b2BcIik7IH1cblx0XHQgICAgICAgICAgdGhpcy5tYXRjaGVyLmFkZENoaWxkKHRoaXMucGF0aCwgdGFyZ2V0LCBjYWxsYmFjaywgdGhpcy5kZWxlZ2F0ZSk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgICByZXR1cm4gdGhpcztcblx0XHQgICAgICB9XG5cdFx0ICAgIH07XG5cdFx0XG5cdFx0ICAgIGZ1bmN0aW9uICQkcm91dGUkcmVjb2duaXplciRkc2wkJE1hdGNoZXIodGFyZ2V0KSB7XG5cdFx0ICAgICAgdGhpcy5yb3V0ZXMgPSB7fTtcblx0XHQgICAgICB0aGlzLmNoaWxkcmVuID0ge307XG5cdFx0ICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG5cdFx0ICAgIH1cblx0XHRcblx0XHQgICAgJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkTWF0Y2hlci5wcm90b3R5cGUgPSB7XG5cdFx0ICAgICAgYWRkOiBmdW5jdGlvbihwYXRoLCBoYW5kbGVyKSB7XG5cdFx0ICAgICAgICB0aGlzLnJvdXRlc1twYXRoXSA9IGhhbmRsZXI7XG5cdFx0ICAgICAgfSxcblx0XHRcblx0XHQgICAgICBhZGRDaGlsZDogZnVuY3Rpb24ocGF0aCwgdGFyZ2V0LCBjYWxsYmFjaywgZGVsZWdhdGUpIHtcblx0XHQgICAgICAgIHZhciBtYXRjaGVyID0gbmV3ICQkcm91dGUkcmVjb2duaXplciRkc2wkJE1hdGNoZXIodGFyZ2V0KTtcblx0XHQgICAgICAgIHRoaXMuY2hpbGRyZW5bcGF0aF0gPSBtYXRjaGVyO1xuXHRcdFxuXHRcdCAgICAgICAgdmFyIG1hdGNoID0gJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkZ2VuZXJhdGVNYXRjaChwYXRoLCBtYXRjaGVyLCBkZWxlZ2F0ZSk7XG5cdFx0XG5cdFx0ICAgICAgICBpZiAoZGVsZWdhdGUgJiYgZGVsZWdhdGUuY29udGV4dEVudGVyZWQpIHtcblx0XHQgICAgICAgICAgZGVsZWdhdGUuY29udGV4dEVudGVyZWQodGFyZ2V0LCBtYXRjaCk7XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICBjYWxsYmFjayhtYXRjaCk7XG5cdFx0ICAgICAgfVxuXHRcdCAgICB9O1xuXHRcdFxuXHRcdCAgICBmdW5jdGlvbiAkJHJvdXRlJHJlY29nbml6ZXIkZHNsJCRnZW5lcmF0ZU1hdGNoKHN0YXJ0aW5nUGF0aCwgbWF0Y2hlciwgZGVsZWdhdGUpIHtcblx0XHQgICAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCwgbmVzdGVkQ2FsbGJhY2spIHtcblx0XHQgICAgICAgIHZhciBmdWxsUGF0aCA9IHN0YXJ0aW5nUGF0aCArIHBhdGg7XG5cdFx0XG5cdFx0ICAgICAgICBpZiAobmVzdGVkQ2FsbGJhY2spIHtcblx0XHQgICAgICAgICAgbmVzdGVkQ2FsbGJhY2soJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkZ2VuZXJhdGVNYXRjaChmdWxsUGF0aCwgbWF0Y2hlciwgZGVsZWdhdGUpKTtcblx0XHQgICAgICAgIH0gZWxzZSB7XG5cdFx0ICAgICAgICAgIHJldHVybiBuZXcgJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkVGFyZ2V0KHN0YXJ0aW5nUGF0aCArIHBhdGgsIG1hdGNoZXIsIGRlbGVnYXRlKTtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9O1xuXHRcdCAgICB9XG5cdFx0XG5cdFx0ICAgIGZ1bmN0aW9uICQkcm91dGUkcmVjb2duaXplciRkc2wkJGFkZFJvdXRlKHJvdXRlQXJyYXksIHBhdGgsIGhhbmRsZXIpIHtcblx0XHQgICAgICB2YXIgbGVuID0gMDtcblx0XHQgICAgICBmb3IgKHZhciBpPTA7IGk8cm91dGVBcnJheS5sZW5ndGg7IGkrKykge1xuXHRcdCAgICAgICAgbGVuICs9IHJvdXRlQXJyYXlbaV0ucGF0aC5sZW5ndGg7XG5cdFx0ICAgICAgfVxuXHRcdFxuXHRcdCAgICAgIHBhdGggPSBwYXRoLnN1YnN0cihsZW4pO1xuXHRcdCAgICAgIHZhciByb3V0ZSA9IHsgcGF0aDogcGF0aCwgaGFuZGxlcjogaGFuZGxlciB9O1xuXHRcdCAgICAgIHJvdXRlQXJyYXkucHVzaChyb3V0ZSk7XG5cdFx0ICAgIH1cblx0XHRcblx0XHQgICAgZnVuY3Rpb24gJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkZWFjaFJvdXRlKGJhc2VSb3V0ZSwgbWF0Y2hlciwgY2FsbGJhY2ssIGJpbmRpbmcpIHtcblx0XHQgICAgICB2YXIgcm91dGVzID0gbWF0Y2hlci5yb3V0ZXM7XG5cdFx0XG5cdFx0ICAgICAgZm9yICh2YXIgcGF0aCBpbiByb3V0ZXMpIHtcblx0XHQgICAgICAgIGlmIChyb3V0ZXMuaGFzT3duUHJvcGVydHkocGF0aCkpIHtcblx0XHQgICAgICAgICAgdmFyIHJvdXRlQXJyYXkgPSBiYXNlUm91dGUuc2xpY2UoKTtcblx0XHQgICAgICAgICAgJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkYWRkUm91dGUocm91dGVBcnJheSwgcGF0aCwgcm91dGVzW3BhdGhdKTtcblx0XHRcblx0XHQgICAgICAgICAgaWYgKG1hdGNoZXIuY2hpbGRyZW5bcGF0aF0pIHtcblx0XHQgICAgICAgICAgICAkJHJvdXRlJHJlY29nbml6ZXIkZHNsJCRlYWNoUm91dGUocm91dGVBcnJheSwgbWF0Y2hlci5jaGlsZHJlbltwYXRoXSwgY2FsbGJhY2ssIGJpbmRpbmcpO1xuXHRcdCAgICAgICAgICB9IGVsc2Uge1xuXHRcdCAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoYmluZGluZywgcm91dGVBcnJheSk7XG5cdFx0ICAgICAgICAgIH1cblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9XG5cdFx0ICAgIH1cblx0XHRcblx0XHQgICAgdmFyICQkcm91dGUkcmVjb2duaXplciRkc2wkJGRlZmF1bHQgPSBmdW5jdGlvbihjYWxsYmFjaywgYWRkUm91dGVDYWxsYmFjaykge1xuXHRcdCAgICAgIHZhciBtYXRjaGVyID0gbmV3ICQkcm91dGUkcmVjb2duaXplciRkc2wkJE1hdGNoZXIoKTtcblx0XHRcblx0XHQgICAgICBjYWxsYmFjaygkJHJvdXRlJHJlY29nbml6ZXIkZHNsJCRnZW5lcmF0ZU1hdGNoKFwiXCIsIG1hdGNoZXIsIHRoaXMuZGVsZWdhdGUpKTtcblx0XHRcblx0XHQgICAgICAkJHJvdXRlJHJlY29nbml6ZXIkZHNsJCRlYWNoUm91dGUoW10sIG1hdGNoZXIsIGZ1bmN0aW9uKHJvdXRlKSB7XG5cdFx0ICAgICAgICBpZiAoYWRkUm91dGVDYWxsYmFjaykgeyBhZGRSb3V0ZUNhbGxiYWNrKHRoaXMsIHJvdXRlKTsgfVxuXHRcdCAgICAgICAgZWxzZSB7IHRoaXMuYWRkKHJvdXRlKTsgfVxuXHRcdCAgICAgIH0sIHRoaXMpO1xuXHRcdCAgICB9O1xuXHRcdFxuXHRcdCAgICB2YXIgJCRyb3V0ZSRyZWNvZ25pemVyJCRzcGVjaWFscyA9IFtcblx0XHQgICAgICAnLycsICcuJywgJyonLCAnKycsICc/JywgJ3wnLFxuXHRcdCAgICAgICcoJywgJyknLCAnWycsICddJywgJ3snLCAnfScsICdcXFxcJ1xuXHRcdCAgICBdO1xuXHRcdFxuXHRcdCAgICB2YXIgJCRyb3V0ZSRyZWNvZ25pemVyJCRlc2NhcGVSZWdleCA9IG5ldyBSZWdFeHAoJyhcXFxcJyArICQkcm91dGUkcmVjb2duaXplciQkc3BlY2lhbHMuam9pbignfFxcXFwnKSArICcpJywgJ2cnKTtcblx0XHRcblx0XHQgICAgZnVuY3Rpb24gJCRyb3V0ZSRyZWNvZ25pemVyJCRpc0FycmF5KHRlc3QpIHtcblx0XHQgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRlc3QpID09PSBcIltvYmplY3QgQXJyYXldXCI7XG5cdFx0ICAgIH1cblx0XHRcblx0XHQgICAgLy8gQSBTZWdtZW50IHJlcHJlc2VudHMgYSBzZWdtZW50IGluIHRoZSBvcmlnaW5hbCByb3V0ZSBkZXNjcmlwdGlvbi5cblx0XHQgICAgLy8gRWFjaCBTZWdtZW50IHR5cGUgcHJvdmlkZXMgYW4gYGVhY2hDaGFyYCBhbmQgYHJlZ2V4YCBtZXRob2QuXG5cdFx0ICAgIC8vXG5cdFx0ICAgIC8vIFRoZSBgZWFjaENoYXJgIG1ldGhvZCBpbnZva2VzIHRoZSBjYWxsYmFjayB3aXRoIG9uZSBvciBtb3JlIGNoYXJhY3RlclxuXHRcdCAgICAvLyBzcGVjaWZpY2F0aW9ucy4gQSBjaGFyYWN0ZXIgc3BlY2lmaWNhdGlvbiBjb25zdW1lcyBvbmUgb3IgbW9yZSBpbnB1dFxuXHRcdCAgICAvLyBjaGFyYWN0ZXJzLlxuXHRcdCAgICAvL1xuXHRcdCAgICAvLyBUaGUgYHJlZ2V4YCBtZXRob2QgcmV0dXJucyBhIHJlZ2V4IGZyYWdtZW50IGZvciB0aGUgc2VnbWVudC4gSWYgdGhlXG5cdFx0ICAgIC8vIHNlZ21lbnQgaXMgYSBkeW5hbWljIG9mIHN0YXIgc2VnbWVudCwgdGhlIHJlZ2V4IGZyYWdtZW50IGFsc28gaW5jbHVkZXNcblx0XHQgICAgLy8gYSBjYXB0dXJlLlxuXHRcdCAgICAvL1xuXHRcdCAgICAvLyBBIGNoYXJhY3RlciBzcGVjaWZpY2F0aW9uIGNvbnRhaW5zOlxuXHRcdCAgICAvL1xuXHRcdCAgICAvLyAqIGB2YWxpZENoYXJzYDogYSBTdHJpbmcgd2l0aCBhIGxpc3Qgb2YgYWxsIHZhbGlkIGNoYXJhY3RlcnMsIG9yXG5cdFx0ICAgIC8vICogYGludmFsaWRDaGFyc2A6IGEgU3RyaW5nIHdpdGggYSBsaXN0IG9mIGFsbCBpbnZhbGlkIGNoYXJhY3RlcnNcblx0XHQgICAgLy8gKiBgcmVwZWF0YDogdHJ1ZSBpZiB0aGUgY2hhcmFjdGVyIHNwZWNpZmljYXRpb24gY2FuIHJlcGVhdFxuXHRcdFxuXHRcdCAgICBmdW5jdGlvbiAkJHJvdXRlJHJlY29nbml6ZXIkJFN0YXRpY1NlZ21lbnQoc3RyaW5nKSB7IHRoaXMuc3RyaW5nID0gc3RyaW5nOyB9XG5cdFx0ICAgICQkcm91dGUkcmVjb2duaXplciQkU3RhdGljU2VnbWVudC5wcm90b3R5cGUgPSB7XG5cdFx0ICAgICAgZWFjaENoYXI6IGZ1bmN0aW9uKGN1cnJlbnRTdGF0ZSkge1xuXHRcdCAgICAgICAgdmFyIHN0cmluZyA9IHRoaXMuc3RyaW5nLCBjaDtcblx0XHRcblx0XHQgICAgICAgIGZvciAodmFyIGk9MDsgaTxzdHJpbmcubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgICAgICAgY2ggPSBzdHJpbmcuY2hhckF0KGkpO1xuXHRcdCAgICAgICAgICBjdXJyZW50U3RhdGUgPSBjdXJyZW50U3RhdGUucHV0KHsgaW52YWxpZENoYXJzOiB1bmRlZmluZWQsIHJlcGVhdDogZmFsc2UsIHZhbGlkQ2hhcnM6IGNoIH0pO1xuXHRcdCAgICAgICAgfVxuXHRcdFxuXHRcdCAgICAgICAgcmV0dXJuIGN1cnJlbnRTdGF0ZTtcblx0XHQgICAgICB9LFxuXHRcdFxuXHRcdCAgICAgIHJlZ2V4OiBmdW5jdGlvbigpIHtcblx0XHQgICAgICAgIHJldHVybiB0aGlzLnN0cmluZy5yZXBsYWNlKCQkcm91dGUkcmVjb2duaXplciQkZXNjYXBlUmVnZXgsICdcXFxcJDEnKTtcblx0XHQgICAgICB9LFxuXHRcdFxuXHRcdCAgICAgIGdlbmVyYXRlOiBmdW5jdGlvbigpIHtcblx0XHQgICAgICAgIHJldHVybiB0aGlzLnN0cmluZztcblx0XHQgICAgICB9XG5cdFx0ICAgIH07XG5cdFx0XG5cdFx0ICAgIGZ1bmN0aW9uICQkcm91dGUkcmVjb2duaXplciQkRHluYW1pY1NlZ21lbnQobmFtZSkgeyB0aGlzLm5hbWUgPSBuYW1lOyB9XG5cdFx0ICAgICQkcm91dGUkcmVjb2duaXplciQkRHluYW1pY1NlZ21lbnQucHJvdG90eXBlID0ge1xuXHRcdCAgICAgIGVhY2hDaGFyOiBmdW5jdGlvbihjdXJyZW50U3RhdGUpIHtcblx0XHQgICAgICAgIHJldHVybiBjdXJyZW50U3RhdGUucHV0KHsgaW52YWxpZENoYXJzOiBcIi9cIiwgcmVwZWF0OiB0cnVlLCB2YWxpZENoYXJzOiB1bmRlZmluZWQgfSk7XG5cdFx0ICAgICAgfSxcblx0XHRcblx0XHQgICAgICByZWdleDogZnVuY3Rpb24oKSB7XG5cdFx0ICAgICAgICByZXR1cm4gXCIoW14vXSspXCI7XG5cdFx0ICAgICAgfSxcblx0XHRcblx0XHQgICAgICBnZW5lcmF0ZTogZnVuY3Rpb24ocGFyYW1zKSB7XG5cdFx0ICAgICAgICByZXR1cm4gcGFyYW1zW3RoaXMubmFtZV07XG5cdFx0ICAgICAgfVxuXHRcdCAgICB9O1xuXHRcdFxuXHRcdCAgICBmdW5jdGlvbiAkJHJvdXRlJHJlY29nbml6ZXIkJFN0YXJTZWdtZW50KG5hbWUpIHsgdGhpcy5uYW1lID0gbmFtZTsgfVxuXHRcdCAgICAkJHJvdXRlJHJlY29nbml6ZXIkJFN0YXJTZWdtZW50LnByb3RvdHlwZSA9IHtcblx0XHQgICAgICBlYWNoQ2hhcjogZnVuY3Rpb24oY3VycmVudFN0YXRlKSB7XG5cdFx0ICAgICAgICByZXR1cm4gY3VycmVudFN0YXRlLnB1dCh7IGludmFsaWRDaGFyczogXCJcIiwgcmVwZWF0OiB0cnVlLCB2YWxpZENoYXJzOiB1bmRlZmluZWQgfSk7XG5cdFx0ICAgICAgfSxcblx0XHRcblx0XHQgICAgICByZWdleDogZnVuY3Rpb24oKSB7XG5cdFx0ICAgICAgICByZXR1cm4gXCIoLispXCI7XG5cdFx0ICAgICAgfSxcblx0XHRcblx0XHQgICAgICBnZW5lcmF0ZTogZnVuY3Rpb24ocGFyYW1zKSB7XG5cdFx0ICAgICAgICByZXR1cm4gcGFyYW1zW3RoaXMubmFtZV07XG5cdFx0ICAgICAgfVxuXHRcdCAgICB9O1xuXHRcdFxuXHRcdCAgICBmdW5jdGlvbiAkJHJvdXRlJHJlY29nbml6ZXIkJEVwc2lsb25TZWdtZW50KCkge31cblx0XHQgICAgJCRyb3V0ZSRyZWNvZ25pemVyJCRFcHNpbG9uU2VnbWVudC5wcm90b3R5cGUgPSB7XG5cdFx0ICAgICAgZWFjaENoYXI6IGZ1bmN0aW9uKGN1cnJlbnRTdGF0ZSkge1xuXHRcdCAgICAgICAgcmV0dXJuIGN1cnJlbnRTdGF0ZTtcblx0XHQgICAgICB9LFxuXHRcdCAgICAgIHJlZ2V4OiBmdW5jdGlvbigpIHsgcmV0dXJuIFwiXCI7IH0sXG5cdFx0ICAgICAgZ2VuZXJhdGU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gXCJcIjsgfVxuXHRcdCAgICB9O1xuXHRcdFxuXHRcdCAgICBmdW5jdGlvbiAkJHJvdXRlJHJlY29nbml6ZXIkJHBhcnNlKHJvdXRlLCBuYW1lcywgc3BlY2lmaWNpdHkpIHtcblx0XHQgICAgICAvLyBub3JtYWxpemUgcm91dGUgYXMgbm90IHN0YXJ0aW5nIHdpdGggYSBcIi9cIi4gUmVjb2duaXRpb24gd2lsbFxuXHRcdCAgICAgIC8vIGFsc28gbm9ybWFsaXplLlxuXHRcdCAgICAgIGlmIChyb3V0ZS5jaGFyQXQoMCkgPT09IFwiL1wiKSB7IHJvdXRlID0gcm91dGUuc3Vic3RyKDEpOyB9XG5cdFx0XG5cdFx0ICAgICAgdmFyIHNlZ21lbnRzID0gcm91dGUuc3BsaXQoXCIvXCIpO1xuXHRcdCAgICAgIHZhciByZXN1bHRzID0gbmV3IEFycmF5KHNlZ21lbnRzLmxlbmd0aCk7XG5cdFx0XG5cdFx0ICAgICAgLy8gQSByb3V0ZXMgaGFzIHNwZWNpZmljaXR5IGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoYXQgaXRzIGRpZmZlcmVudCBzZWdtZW50c1xuXHRcdCAgICAgIC8vIGFwcGVhciBpbi4gVGhpcyBzeXN0ZW0gbWlycm9ycyBob3cgdGhlIG1hZ25pdHVkZSBvZiBudW1iZXJzIHdyaXR0ZW4gYXMgc3RyaW5nc1xuXHRcdCAgICAgIC8vIHdvcmtzLlxuXHRcdCAgICAgIC8vIENvbnNpZGVyIGEgbnVtYmVyIHdyaXR0ZW4gYXM6IFwiYWJjXCIuIEFuIGV4YW1wbGUgd291bGQgYmUgXCIyMDBcIi4gQW55IG90aGVyIG51bWJlciB3cml0dGVuXG5cdFx0ICAgICAgLy8gXCJ4eXpcIiB3aWxsIGJlIHNtYWxsZXIgdGhhbiBcImFiY1wiIHNvIGxvbmcgYXMgYGEgPiB6YC4gRm9yIGluc3RhbmNlLCBcIjE5OVwiIGlzIHNtYWxsZXJcblx0XHQgICAgICAvLyB0aGVuIFwiMjAwXCIsIGV2ZW4gdGhvdWdoIFwieVwiIGFuZCBcInpcIiAod2hpY2ggYXJlIGJvdGggOSkgYXJlIGxhcmdlciB0aGFuIFwiMFwiICh0aGUgdmFsdWVcblx0XHQgICAgICAvLyBvZiAoYGJgIGFuZCBgY2ApLiBUaGlzIGlzIGJlY2F1c2UgdGhlIGxlYWRpbmcgc3ltYm9sLCBcIjJcIiwgaXMgbGFyZ2VyIHRoYW4gdGhlIG90aGVyXG5cdFx0ICAgICAgLy8gbGVhZGluZyBzeW1ib2wsIFwiMVwiLlxuXHRcdCAgICAgIC8vIFRoZSBydWxlIGlzIHRoYXQgc3ltYm9scyB0byB0aGUgbGVmdCBjYXJyeSBtb3JlIHdlaWdodCB0aGFuIHN5bWJvbHMgdG8gdGhlIHJpZ2h0XG5cdFx0ICAgICAgLy8gd2hlbiBhIG51bWJlciBpcyB3cml0dGVuIG91dCBhcyBhIHN0cmluZy4gSW4gdGhlIGFib3ZlIHN0cmluZ3MsIHRoZSBsZWFkaW5nIGRpZ2l0XG5cdFx0ICAgICAgLy8gcmVwcmVzZW50cyBob3cgbWFueSAxMDAncyBhcmUgaW4gdGhlIG51bWJlciwgYW5kIGl0IGNhcnJpZXMgbW9yZSB3ZWlnaHQgdGhhbiB0aGUgbWlkZGxlXG5cdFx0ICAgICAgLy8gbnVtYmVyIHdoaWNoIHJlcHJlc2VudHMgaG93IG1hbnkgMTAncyBhcmUgaW4gdGhlIG51bWJlci5cblx0XHQgICAgICAvLyBUaGlzIHN5c3RlbSBvZiBudW1iZXIgbWFnbml0dWRlIHdvcmtzIHdlbGwgZm9yIHJvdXRlIHNwZWNpZmljaXR5LCB0b28uIEEgcm91dGUgd3JpdHRlbiBhc1xuXHRcdCAgICAgIC8vIGBhL2IvY2Agd2lsbCBiZSBtb3JlIHNwZWNpZmljIHRoYW4gYHgveS96YCBhcyBsb25nIGFzIGBhYCBpcyBtb3JlIHNwZWNpZmljIHRoYW5cblx0XHQgICAgICAvLyBgeGAsIGlycmVzcGVjdGl2ZSBvZiB0aGUgb3RoZXIgcGFydHMuXG5cdFx0ICAgICAgLy8gQmVjYXVzZSBvZiB0aGlzIHNpbWlsYXJpdHksIHdlIGFzc2lnbiBlYWNoIHR5cGUgb2Ygc2VnbWVudCBhIG51bWJlciB2YWx1ZSB3cml0dGVuIGFzIGFcblx0XHQgICAgICAvLyBzdHJpbmcuIFdlIGNhbiBmaW5kIHRoZSBzcGVjaWZpY2l0eSBvZiBjb21wb3VuZCByb3V0ZXMgYnkgY29uY2F0ZW5hdGluZyB0aGVzZSBzdHJpbmdzXG5cdFx0ICAgICAgLy8gdG9nZXRoZXIsIGZyb20gbGVmdCB0byByaWdodC4gQWZ0ZXIgd2UgaGF2ZSBsb29wZWQgdGhyb3VnaCBhbGwgb2YgdGhlIHNlZ21lbnRzLFxuXHRcdCAgICAgIC8vIHdlIGNvbnZlcnQgdGhlIHN0cmluZyB0byBhIG51bWJlci5cblx0XHQgICAgICBzcGVjaWZpY2l0eS52YWwgPSAnJztcblx0XHRcblx0XHQgICAgICBmb3IgKHZhciBpPTA7IGk8c2VnbWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgICAgIHZhciBzZWdtZW50ID0gc2VnbWVudHNbaV0sIG1hdGNoO1xuXHRcdFxuXHRcdCAgICAgICAgaWYgKG1hdGNoID0gc2VnbWVudC5tYXRjaCgvXjooW15cXC9dKykkLykpIHtcblx0XHQgICAgICAgICAgcmVzdWx0c1tpXSA9IG5ldyAkJHJvdXRlJHJlY29nbml6ZXIkJER5bmFtaWNTZWdtZW50KG1hdGNoWzFdKTtcblx0XHQgICAgICAgICAgbmFtZXMucHVzaChtYXRjaFsxXSk7XG5cdFx0ICAgICAgICAgIHNwZWNpZmljaXR5LnZhbCArPSAnMyc7XG5cdFx0ICAgICAgICB9IGVsc2UgaWYgKG1hdGNoID0gc2VnbWVudC5tYXRjaCgvXlxcKihbXlxcL10rKSQvKSkge1xuXHRcdCAgICAgICAgICByZXN1bHRzW2ldID0gbmV3ICQkcm91dGUkcmVjb2duaXplciQkU3RhclNlZ21lbnQobWF0Y2hbMV0pO1xuXHRcdCAgICAgICAgICBzcGVjaWZpY2l0eS52YWwgKz0gJzEnO1xuXHRcdCAgICAgICAgICBuYW1lcy5wdXNoKG1hdGNoWzFdKTtcblx0XHQgICAgICAgIH0gZWxzZSBpZihzZWdtZW50ID09PSBcIlwiKSB7XG5cdFx0ICAgICAgICAgIHJlc3VsdHNbaV0gPSBuZXcgJCRyb3V0ZSRyZWNvZ25pemVyJCRFcHNpbG9uU2VnbWVudCgpO1xuXHRcdCAgICAgICAgICBzcGVjaWZpY2l0eS52YWwgKz0gJzInO1xuXHRcdCAgICAgICAgfSBlbHNlIHtcblx0XHQgICAgICAgICAgcmVzdWx0c1tpXSA9IG5ldyAkJHJvdXRlJHJlY29nbml6ZXIkJFN0YXRpY1NlZ21lbnQoc2VnbWVudCk7XG5cdFx0ICAgICAgICAgIHNwZWNpZmljaXR5LnZhbCArPSAnNCc7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgfVxuXHRcdFxuXHRcdCAgICAgIHNwZWNpZmljaXR5LnZhbCA9ICtzcGVjaWZpY2l0eS52YWw7XG5cdFx0XG5cdFx0ICAgICAgcmV0dXJuIHJlc3VsdHM7XG5cdFx0ICAgIH1cblx0XHRcblx0XHQgICAgLy8gQSBTdGF0ZSBoYXMgYSBjaGFyYWN0ZXIgc3BlY2lmaWNhdGlvbiBhbmQgKGBjaGFyU3BlY2ApIGFuZCBhIGxpc3Qgb2YgcG9zc2libGVcblx0XHQgICAgLy8gc3Vic2VxdWVudCBzdGF0ZXMgKGBuZXh0U3RhdGVzYCkuXG5cdFx0ICAgIC8vXG5cdFx0ICAgIC8vIElmIGEgU3RhdGUgaXMgYW4gYWNjZXB0aW5nIHN0YXRlLCBpdCB3aWxsIGFsc28gaGF2ZSBzZXZlcmFsIGFkZGl0aW9uYWxcblx0XHQgICAgLy8gcHJvcGVydGllczpcblx0XHQgICAgLy9cblx0XHQgICAgLy8gKiBgcmVnZXhgOiBBIHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgdG8gZXh0cmFjdCBwYXJhbWV0ZXJzIGZyb20gcGF0aHNcblx0XHQgICAgLy8gICB0aGF0IHJlYWNoZWQgdGhpcyBhY2NlcHRpbmcgc3RhdGUuXG5cdFx0ICAgIC8vICogYGhhbmRsZXJzYDogSW5mb3JtYXRpb24gb24gaG93IHRvIGNvbnZlcnQgdGhlIGxpc3Qgb2YgY2FwdHVyZXMgaW50byBjYWxsc1xuXHRcdCAgICAvLyAgIHRvIHJlZ2lzdGVyZWQgaGFuZGxlcnMgd2l0aCB0aGUgc3BlY2lmaWVkIHBhcmFtZXRlcnNcblx0XHQgICAgLy8gKiBgdHlwZXNgOiBIb3cgbWFueSBzdGF0aWMsIGR5bmFtaWMgb3Igc3RhciBzZWdtZW50cyBpbiB0aGlzIHJvdXRlLiBVc2VkIHRvXG5cdFx0ICAgIC8vICAgZGVjaWRlIHdoaWNoIHJvdXRlIHRvIHVzZSBpZiBtdWx0aXBsZSByZWdpc3RlcmVkIHJvdXRlcyBtYXRjaCBhIHBhdGguXG5cdFx0ICAgIC8vXG5cdFx0ICAgIC8vIEN1cnJlbnRseSwgU3RhdGUgaXMgaW1wbGVtZW50ZWQgbmFpdmVseSBieSBsb29waW5nIG92ZXIgYG5leHRTdGF0ZXNgIGFuZFxuXHRcdCAgICAvLyBjb21wYXJpbmcgYSBjaGFyYWN0ZXIgc3BlY2lmaWNhdGlvbiBhZ2FpbnN0IGEgY2hhcmFjdGVyLiBBIG1vcmUgZWZmaWNpZW50XG5cdFx0ICAgIC8vIGltcGxlbWVudGF0aW9uIHdvdWxkIHVzZSBhIGhhc2ggb2Yga2V5cyBwb2ludGluZyBhdCBvbmUgb3IgbW9yZSBuZXh0IHN0YXRlcy5cblx0XHRcblx0XHQgICAgZnVuY3Rpb24gJCRyb3V0ZSRyZWNvZ25pemVyJCRTdGF0ZShjaGFyU3BlYykge1xuXHRcdCAgICAgIHRoaXMuY2hhclNwZWMgPSBjaGFyU3BlYztcblx0XHQgICAgICB0aGlzLm5leHRTdGF0ZXMgPSBbXTtcblx0XHQgICAgICB0aGlzLmNoYXJTcGVjcyA9IHt9O1xuXHRcdCAgICAgIHRoaXMucmVnZXggPSB1bmRlZmluZWQ7XG5cdFx0ICAgICAgdGhpcy5oYW5kbGVycyA9IHVuZGVmaW5lZDtcblx0XHQgICAgICB0aGlzLnNwZWNpZmljaXR5ID0gdW5kZWZpbmVkO1xuXHRcdCAgICB9XG5cdFx0XG5cdFx0ICAgICQkcm91dGUkcmVjb2duaXplciQkU3RhdGUucHJvdG90eXBlID0ge1xuXHRcdCAgICAgIGdldDogZnVuY3Rpb24oY2hhclNwZWMpIHtcblx0XHQgICAgICAgIGlmICh0aGlzLmNoYXJTcGVjc1tjaGFyU3BlYy52YWxpZENoYXJzXSkge1xuXHRcdCAgICAgICAgICByZXR1cm4gdGhpcy5jaGFyU3BlY3NbY2hhclNwZWMudmFsaWRDaGFyc107XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICB2YXIgbmV4dFN0YXRlcyA9IHRoaXMubmV4dFN0YXRlcztcblx0XHRcblx0XHQgICAgICAgIGZvciAodmFyIGk9MDsgaTxuZXh0U3RhdGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0ICAgICAgICAgIHZhciBjaGlsZCA9IG5leHRTdGF0ZXNbaV07XG5cdFx0XG5cdFx0ICAgICAgICAgIHZhciBpc0VxdWFsID0gY2hpbGQuY2hhclNwZWMudmFsaWRDaGFycyA9PT0gY2hhclNwZWMudmFsaWRDaGFycztcblx0XHQgICAgICAgICAgaXNFcXVhbCA9IGlzRXF1YWwgJiYgY2hpbGQuY2hhclNwZWMuaW52YWxpZENoYXJzID09PSBjaGFyU3BlYy5pbnZhbGlkQ2hhcnM7XG5cdFx0XG5cdFx0ICAgICAgICAgIGlmIChpc0VxdWFsKSB7XG5cdFx0ICAgICAgICAgICAgdGhpcy5jaGFyU3BlY3NbY2hhclNwZWMudmFsaWRDaGFyc10gPSBjaGlsZDtcblx0XHQgICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG5cdFx0ICAgICAgICAgIH1cblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9LFxuXHRcdFxuXHRcdCAgICAgIHB1dDogZnVuY3Rpb24oY2hhclNwZWMpIHtcblx0XHQgICAgICAgIHZhciBzdGF0ZTtcblx0XHRcblx0XHQgICAgICAgIC8vIElmIHRoZSBjaGFyYWN0ZXIgc3BlY2lmaWNhdGlvbiBhbHJlYWR5IGV4aXN0cyBpbiBhIGNoaWxkIG9mIHRoZSBjdXJyZW50XG5cdFx0ICAgICAgICAvLyBzdGF0ZSwganVzdCByZXR1cm4gdGhhdCBzdGF0ZS5cblx0XHQgICAgICAgIGlmIChzdGF0ZSA9IHRoaXMuZ2V0KGNoYXJTcGVjKSkgeyByZXR1cm4gc3RhdGU7IH1cblx0XHRcblx0XHQgICAgICAgIC8vIE1ha2UgYSBuZXcgc3RhdGUgZm9yIHRoZSBjaGFyYWN0ZXIgc3BlY1xuXHRcdCAgICAgICAgc3RhdGUgPSBuZXcgJCRyb3V0ZSRyZWNvZ25pemVyJCRTdGF0ZShjaGFyU3BlYyk7XG5cdFx0XG5cdFx0ICAgICAgICAvLyBJbnNlcnQgdGhlIG5ldyBzdGF0ZSBhcyBhIGNoaWxkIG9mIHRoZSBjdXJyZW50IHN0YXRlXG5cdFx0ICAgICAgICB0aGlzLm5leHRTdGF0ZXMucHVzaChzdGF0ZSk7XG5cdFx0XG5cdFx0ICAgICAgICAvLyBJZiB0aGlzIGNoYXJhY3RlciBzcGVjaWZpY2F0aW9uIHJlcGVhdHMsIGluc2VydCB0aGUgbmV3IHN0YXRlIGFzIGEgY2hpbGRcblx0XHQgICAgICAgIC8vIG9mIGl0c2VsZi4gTm90ZSB0aGF0IHRoaXMgd2lsbCBub3QgdHJpZ2dlciBhbiBpbmZpbml0ZSBsb29wIGJlY2F1c2UgZWFjaFxuXHRcdCAgICAgICAgLy8gdHJhbnNpdGlvbiBkdXJpbmcgcmVjb2duaXRpb24gY29uc3VtZXMgYSBjaGFyYWN0ZXIuXG5cdFx0ICAgICAgICBpZiAoY2hhclNwZWMucmVwZWF0KSB7XG5cdFx0ICAgICAgICAgIHN0YXRlLm5leHRTdGF0ZXMucHVzaChzdGF0ZSk7XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICAvLyBSZXR1cm4gdGhlIG5ldyBzdGF0ZVxuXHRcdCAgICAgICAgcmV0dXJuIHN0YXRlO1xuXHRcdCAgICAgIH0sXG5cdFx0XG5cdFx0ICAgICAgLy8gRmluZCBhIGxpc3Qgb2YgY2hpbGQgc3RhdGVzIG1hdGNoaW5nIHRoZSBuZXh0IGNoYXJhY3RlclxuXHRcdCAgICAgIG1hdGNoOiBmdW5jdGlvbihjaCkge1xuXHRcdCAgICAgICAgdmFyIG5leHRTdGF0ZXMgPSB0aGlzLm5leHRTdGF0ZXMsXG5cdFx0ICAgICAgICAgICAgY2hpbGQsIGNoYXJTcGVjLCBjaGFycztcblx0XHRcblx0XHQgICAgICAgIHZhciByZXR1cm5lZCA9IFtdO1xuXHRcdFxuXHRcdCAgICAgICAgZm9yICh2YXIgaT0wOyBpPG5leHRTdGF0ZXMubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgICAgICAgY2hpbGQgPSBuZXh0U3RhdGVzW2ldO1xuXHRcdFxuXHRcdCAgICAgICAgICBjaGFyU3BlYyA9IGNoaWxkLmNoYXJTcGVjO1xuXHRcdFxuXHRcdCAgICAgICAgICBpZiAodHlwZW9mIChjaGFycyA9IGNoYXJTcGVjLnZhbGlkQ2hhcnMpICE9PSAndW5kZWZpbmVkJykge1xuXHRcdCAgICAgICAgICAgIGlmIChjaGFycy5pbmRleE9mKGNoKSAhPT0gLTEpIHsgcmV0dXJuZWQucHVzaChjaGlsZCk7IH1cblx0XHQgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKGNoYXJzID0gY2hhclNwZWMuaW52YWxpZENoYXJzKSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHQgICAgICAgICAgICBpZiAoY2hhcnMuaW5kZXhPZihjaCkgPT09IC0xKSB7IHJldHVybmVkLnB1c2goY2hpbGQpOyB9XG5cdFx0ICAgICAgICAgIH1cblx0XHQgICAgICAgIH1cblx0XHRcblx0XHQgICAgICAgIHJldHVybiByZXR1cm5lZDtcblx0XHQgICAgICB9XG5cdFx0ICAgIH07XG5cdFx0XG5cdFx0ICAgIC8vIFNvcnQgdGhlIHJvdXRlcyBieSBzcGVjaWZpY2l0eVxuXHRcdCAgICBmdW5jdGlvbiAkJHJvdXRlJHJlY29nbml6ZXIkJHNvcnRTb2x1dGlvbnMoc3RhdGVzKSB7XG5cdFx0ICAgICAgcmV0dXJuIHN0YXRlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcblx0XHQgICAgICAgIHJldHVybiBiLnNwZWNpZmljaXR5LnZhbCAtIGEuc3BlY2lmaWNpdHkudmFsO1xuXHRcdCAgICAgIH0pO1xuXHRcdCAgICB9XG5cdFx0XG5cdFx0ICAgIGZ1bmN0aW9uICQkcm91dGUkcmVjb2duaXplciQkcmVjb2duaXplQ2hhcihzdGF0ZXMsIGNoKSB7XG5cdFx0ICAgICAgdmFyIG5leHRTdGF0ZXMgPSBbXTtcblx0XHRcblx0XHQgICAgICBmb3IgKHZhciBpPTAsIGw9c3RhdGVzLmxlbmd0aDsgaTxsOyBpKyspIHtcblx0XHQgICAgICAgIHZhciBzdGF0ZSA9IHN0YXRlc1tpXTtcblx0XHRcblx0XHQgICAgICAgIG5leHRTdGF0ZXMgPSBuZXh0U3RhdGVzLmNvbmNhdChzdGF0ZS5tYXRjaChjaCkpO1xuXHRcdCAgICAgIH1cblx0XHRcblx0XHQgICAgICByZXR1cm4gbmV4dFN0YXRlcztcblx0XHQgICAgfVxuXHRcdFxuXHRcdCAgICB2YXIgJCRyb3V0ZSRyZWNvZ25pemVyJCRvQ3JlYXRlID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbihwcm90bykge1xuXHRcdCAgICAgIGZ1bmN0aW9uIEYoKSB7fVxuXHRcdCAgICAgIEYucHJvdG90eXBlID0gcHJvdG87XG5cdFx0ICAgICAgcmV0dXJuIG5ldyBGKCk7XG5cdFx0ICAgIH07XG5cdFx0XG5cdFx0ICAgIGZ1bmN0aW9uICQkcm91dGUkcmVjb2duaXplciQkUmVjb2duaXplUmVzdWx0cyhxdWVyeVBhcmFtcykge1xuXHRcdCAgICAgIHRoaXMucXVlcnlQYXJhbXMgPSBxdWVyeVBhcmFtcyB8fCB7fTtcblx0XHQgICAgfVxuXHRcdCAgICAkJHJvdXRlJHJlY29nbml6ZXIkJFJlY29nbml6ZVJlc3VsdHMucHJvdG90eXBlID0gJCRyb3V0ZSRyZWNvZ25pemVyJCRvQ3JlYXRlKHtcblx0XHQgICAgICBzcGxpY2U6IEFycmF5LnByb3RvdHlwZS5zcGxpY2UsXG5cdFx0ICAgICAgc2xpY2U6ICBBcnJheS5wcm90b3R5cGUuc2xpY2UsXG5cdFx0ICAgICAgcHVzaDogICBBcnJheS5wcm90b3R5cGUucHVzaCxcblx0XHQgICAgICBsZW5ndGg6IDAsXG5cdFx0ICAgICAgcXVlcnlQYXJhbXM6IG51bGxcblx0XHQgICAgfSk7XG5cdFx0XG5cdFx0ICAgIGZ1bmN0aW9uICQkcm91dGUkcmVjb2duaXplciQkZmluZEhhbmRsZXIoc3RhdGUsIHBhdGgsIHF1ZXJ5UGFyYW1zKSB7XG5cdFx0ICAgICAgdmFyIGhhbmRsZXJzID0gc3RhdGUuaGFuZGxlcnMsIHJlZ2V4ID0gc3RhdGUucmVnZXg7XG5cdFx0ICAgICAgdmFyIGNhcHR1cmVzID0gcGF0aC5tYXRjaChyZWdleCksIGN1cnJlbnRDYXB0dXJlID0gMTtcblx0XHQgICAgICB2YXIgcmVzdWx0ID0gbmV3ICQkcm91dGUkcmVjb2duaXplciQkUmVjb2duaXplUmVzdWx0cyhxdWVyeVBhcmFtcyk7XG5cdFx0XG5cdFx0ICAgICAgcmVzdWx0Lmxlbmd0aCA9IGhhbmRsZXJzLmxlbmd0aDtcblx0XHRcblx0XHQgICAgICBmb3IgKHZhciBpPTA7IGk8aGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgICAgIHZhciBoYW5kbGVyID0gaGFuZGxlcnNbaV0sIG5hbWVzID0gaGFuZGxlci5uYW1lcywgcGFyYW1zID0ge307XG5cdFx0XG5cdFx0ICAgICAgICBmb3IgKHZhciBqPTA7IGo8bmFtZXMubGVuZ3RoOyBqKyspIHtcblx0XHQgICAgICAgICAgcGFyYW1zW25hbWVzW2pdXSA9IGNhcHR1cmVzW2N1cnJlbnRDYXB0dXJlKytdO1xuXHRcdCAgICAgICAgfVxuXHRcdFxuXHRcdCAgICAgICAgcmVzdWx0W2ldID0geyBoYW5kbGVyOiBoYW5kbGVyLmhhbmRsZXIsIHBhcmFtczogcGFyYW1zLCBpc0R5bmFtaWM6ICEhbmFtZXMubGVuZ3RoIH07XG5cdFx0ICAgICAgfVxuXHRcdFxuXHRcdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdFx0ICAgIH1cblx0XHRcblx0XHQgICAgZnVuY3Rpb24gJCRyb3V0ZSRyZWNvZ25pemVyJCRkZWNvZGVRdWVyeVBhcmFtUGFydChwYXJ0KSB7XG5cdFx0ICAgICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDQwMS9pbnRlcmFjdC9mb3Jtcy5odG1sI2gtMTcuMTMuNC4xXG5cdFx0ICAgICAgcGFydCA9IHBhcnQucmVwbGFjZSgvXFwrL2dtLCAnJTIwJyk7XG5cdFx0ICAgICAgdmFyIHJlc3VsdDtcblx0XHQgICAgICB0cnkge1xuXHRcdCAgICAgICAgcmVzdWx0ID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhcnQpO1xuXHRcdCAgICAgIH0gY2F0Y2goZXJyb3IpIHtyZXN1bHQgPSAnJzt9XG5cdFx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0XHQgICAgfVxuXHRcdFxuXHRcdCAgICAvLyBUaGUgbWFpbiBpbnRlcmZhY2Vcblx0XHRcblx0XHQgICAgdmFyICQkcm91dGUkcmVjb2duaXplciQkUm91dGVSZWNvZ25pemVyID0gZnVuY3Rpb24oKSB7XG5cdFx0ICAgICAgdGhpcy5yb290U3RhdGUgPSBuZXcgJCRyb3V0ZSRyZWNvZ25pemVyJCRTdGF0ZSgpO1xuXHRcdCAgICAgIHRoaXMubmFtZXMgPSB7fTtcblx0XHQgICAgfTtcblx0XHRcblx0XHRcblx0XHQgICAgJCRyb3V0ZSRyZWNvZ25pemVyJCRSb3V0ZVJlY29nbml6ZXIucHJvdG90eXBlID0ge1xuXHRcdCAgICAgIGFkZDogZnVuY3Rpb24ocm91dGVzLCBvcHRpb25zKSB7XG5cdFx0ICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gdGhpcy5yb290U3RhdGUsIHJlZ2V4ID0gXCJeXCIsXG5cdFx0ICAgICAgICAgICAgc3BlY2lmaWNpdHkgPSB7fSxcblx0XHQgICAgICAgICAgICBoYW5kbGVycyA9IG5ldyBBcnJheShyb3V0ZXMubGVuZ3RoKSwgYWxsU2VnbWVudHMgPSBbXSwgbmFtZTtcblx0XHRcblx0XHQgICAgICAgIHZhciBpc0VtcHR5ID0gdHJ1ZTtcblx0XHRcblx0XHQgICAgICAgIGZvciAodmFyIGk9MDsgaTxyb3V0ZXMubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgICAgICAgdmFyIHJvdXRlID0gcm91dGVzW2ldLCBuYW1lcyA9IFtdO1xuXHRcdFxuXHRcdCAgICAgICAgICB2YXIgc2VnbWVudHMgPSAkJHJvdXRlJHJlY29nbml6ZXIkJHBhcnNlKHJvdXRlLnBhdGgsIG5hbWVzLCBzcGVjaWZpY2l0eSk7XG5cdFx0XG5cdFx0ICAgICAgICAgIGFsbFNlZ21lbnRzID0gYWxsU2VnbWVudHMuY29uY2F0KHNlZ21lbnRzKTtcblx0XHRcblx0XHQgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPHNlZ21lbnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0ICAgICAgICAgICAgdmFyIHNlZ21lbnQgPSBzZWdtZW50c1tqXTtcblx0XHRcblx0XHQgICAgICAgICAgICBpZiAoc2VnbWVudCBpbnN0YW5jZW9mICQkcm91dGUkcmVjb2duaXplciQkRXBzaWxvblNlZ21lbnQpIHsgY29udGludWU7IH1cblx0XHRcblx0XHQgICAgICAgICAgICBpc0VtcHR5ID0gZmFsc2U7XG5cdFx0XG5cdFx0ICAgICAgICAgICAgLy8gQWRkIGEgXCIvXCIgZm9yIHRoZSBuZXcgc2VnbWVudFxuXHRcdCAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRTdGF0ZS5wdXQoeyBpbnZhbGlkQ2hhcnM6IHVuZGVmaW5lZCwgcmVwZWF0OiBmYWxzZSwgdmFsaWRDaGFyczogXCIvXCIgfSk7XG5cdFx0ICAgICAgICAgICAgcmVnZXggKz0gXCIvXCI7XG5cdFx0XG5cdFx0ICAgICAgICAgICAgLy8gQWRkIGEgcmVwcmVzZW50YXRpb24gb2YgdGhlIHNlZ21lbnQgdG8gdGhlIE5GQSBhbmQgcmVnZXhcblx0XHQgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSBzZWdtZW50LmVhY2hDaGFyKGN1cnJlbnRTdGF0ZSk7XG5cdFx0ICAgICAgICAgICAgcmVnZXggKz0gc2VnbWVudC5yZWdleCgpO1xuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICAgIHZhciBoYW5kbGVyID0geyBoYW5kbGVyOiByb3V0ZS5oYW5kbGVyLCBuYW1lczogbmFtZXMgfTtcblx0XHQgICAgICAgICAgaGFuZGxlcnNbaV0gPSBoYW5kbGVyO1xuXHRcdCAgICAgICAgfVxuXHRcdFxuXHRcdCAgICAgICAgaWYgKGlzRW1wdHkpIHtcblx0XHQgICAgICAgICAgY3VycmVudFN0YXRlID0gY3VycmVudFN0YXRlLnB1dCh7IGludmFsaWRDaGFyczogdW5kZWZpbmVkLCByZXBlYXQ6IGZhbHNlLCB2YWxpZENoYXJzOiBcIi9cIiB9KTtcblx0XHQgICAgICAgICAgcmVnZXggKz0gXCIvXCI7XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICBjdXJyZW50U3RhdGUuaGFuZGxlcnMgPSBoYW5kbGVycztcblx0XHQgICAgICAgIGN1cnJlbnRTdGF0ZS5yZWdleCA9IG5ldyBSZWdFeHAocmVnZXggKyBcIiRcIik7XG5cdFx0ICAgICAgICBjdXJyZW50U3RhdGUuc3BlY2lmaWNpdHkgPSBzcGVjaWZpY2l0eTtcblx0XHRcblx0XHQgICAgICAgIGlmIChuYW1lID0gb3B0aW9ucyAmJiBvcHRpb25zLmFzKSB7XG5cdFx0ICAgICAgICAgIHRoaXMubmFtZXNbbmFtZV0gPSB7XG5cdFx0ICAgICAgICAgICAgc2VnbWVudHM6IGFsbFNlZ21lbnRzLFxuXHRcdCAgICAgICAgICAgIGhhbmRsZXJzOiBoYW5kbGVyc1xuXHRcdCAgICAgICAgICB9O1xuXHRcdCAgICAgICAgfVxuXHRcdCAgICAgIH0sXG5cdFx0XG5cdFx0ICAgICAgaGFuZGxlcnNGb3I6IGZ1bmN0aW9uKG5hbWUpIHtcblx0XHQgICAgICAgIHZhciByb3V0ZSA9IHRoaXMubmFtZXNbbmFtZV07XG5cdFx0XG5cdFx0ICAgICAgICBpZiAoIXJvdXRlKSB7IHRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIG5vIHJvdXRlIG5hbWVkIFwiICsgbmFtZSk7IH1cblx0XHRcblx0XHQgICAgICAgIHZhciByZXN1bHQgPSBuZXcgQXJyYXkocm91dGUuaGFuZGxlcnMubGVuZ3RoKTtcblx0XHRcblx0XHQgICAgICAgIGZvciAodmFyIGk9MDsgaTxyb3V0ZS5oYW5kbGVycy5sZW5ndGg7IGkrKykge1xuXHRcdCAgICAgICAgICByZXN1bHRbaV0gPSByb3V0ZS5oYW5kbGVyc1tpXTtcblx0XHQgICAgICAgIH1cblx0XHRcblx0XHQgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdFx0ICAgICAgfSxcblx0XHRcblx0XHQgICAgICBoYXNSb3V0ZTogZnVuY3Rpb24obmFtZSkge1xuXHRcdCAgICAgICAgcmV0dXJuICEhdGhpcy5uYW1lc1tuYW1lXTtcblx0XHQgICAgICB9LFxuXHRcdFxuXHRcdCAgICAgIGdlbmVyYXRlOiBmdW5jdGlvbihuYW1lLCBwYXJhbXMpIHtcblx0XHQgICAgICAgIHZhciByb3V0ZSA9IHRoaXMubmFtZXNbbmFtZV0sIG91dHB1dCA9IFwiXCI7XG5cdFx0ICAgICAgICBpZiAoIXJvdXRlKSB7IHRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIG5vIHJvdXRlIG5hbWVkIFwiICsgbmFtZSk7IH1cblx0XHRcblx0XHQgICAgICAgIHZhciBzZWdtZW50cyA9IHJvdXRlLnNlZ21lbnRzO1xuXHRcdFxuXHRcdCAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0ICAgICAgICAgIHZhciBzZWdtZW50ID0gc2VnbWVudHNbaV07XG5cdFx0XG5cdFx0ICAgICAgICAgIGlmIChzZWdtZW50IGluc3RhbmNlb2YgJCRyb3V0ZSRyZWNvZ25pemVyJCRFcHNpbG9uU2VnbWVudCkgeyBjb250aW51ZTsgfVxuXHRcdFxuXHRcdCAgICAgICAgICBvdXRwdXQgKz0gXCIvXCI7XG5cdFx0ICAgICAgICAgIG91dHB1dCArPSBzZWdtZW50LmdlbmVyYXRlKHBhcmFtcyk7XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICBpZiAob3V0cHV0LmNoYXJBdCgwKSAhPT0gJy8nKSB7IG91dHB1dCA9ICcvJyArIG91dHB1dDsgfVxuXHRcdFxuXHRcdCAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMucXVlcnlQYXJhbXMpIHtcblx0XHQgICAgICAgICAgb3V0cHV0ICs9IHRoaXMuZ2VuZXJhdGVRdWVyeVN0cmluZyhwYXJhbXMucXVlcnlQYXJhbXMsIHJvdXRlLmhhbmRsZXJzKTtcblx0XHQgICAgICAgIH1cblx0XHRcblx0XHQgICAgICAgIHJldHVybiBvdXRwdXQ7XG5cdFx0ICAgICAgfSxcblx0XHRcblx0XHQgICAgICBnZW5lcmF0ZVF1ZXJ5U3RyaW5nOiBmdW5jdGlvbihwYXJhbXMsIGhhbmRsZXJzKSB7XG5cdFx0ICAgICAgICB2YXIgcGFpcnMgPSBbXTtcblx0XHQgICAgICAgIHZhciBrZXlzID0gW107XG5cdFx0ICAgICAgICBmb3IodmFyIGtleSBpbiBwYXJhbXMpIHtcblx0XHQgICAgICAgICAgaWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0ICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG5cdFx0ICAgICAgICAgIH1cblx0XHQgICAgICAgIH1cblx0XHQgICAgICAgIGtleXMuc29ydCgpO1xuXHRcdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0ICAgICAgICAgIGtleSA9IGtleXNbaV07XG5cdFx0ICAgICAgICAgIHZhciB2YWx1ZSA9IHBhcmFtc1trZXldO1xuXHRcdCAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuXHRcdCAgICAgICAgICAgIGNvbnRpbnVlO1xuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICAgIHZhciBwYWlyID0gZW5jb2RlVVJJQ29tcG9uZW50KGtleSk7XG5cdFx0ICAgICAgICAgIGlmICgkJHJvdXRlJHJlY29nbml6ZXIkJGlzQXJyYXkodmFsdWUpKSB7XG5cdFx0ICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWx1ZS5sZW5ndGg7IGorKykge1xuXHRcdCAgICAgICAgICAgICAgdmFyIGFycmF5UGFpciA9IGtleSArICdbXScgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWVbal0pO1xuXHRcdCAgICAgICAgICAgICAgcGFpcnMucHVzaChhcnJheVBhaXIpO1xuXHRcdCAgICAgICAgICAgIH1cblx0XHQgICAgICAgICAgfSBlbHNlIHtcblx0XHQgICAgICAgICAgICBwYWlyICs9IFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcblx0XHQgICAgICAgICAgICBwYWlycy5wdXNoKHBhaXIpO1xuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICBpZiAocGFpcnMubGVuZ3RoID09PSAwKSB7IHJldHVybiAnJzsgfVxuXHRcdFxuXHRcdCAgICAgICAgcmV0dXJuIFwiP1wiICsgcGFpcnMuam9pbihcIiZcIik7XG5cdFx0ICAgICAgfSxcblx0XHRcblx0XHQgICAgICBwYXJzZVF1ZXJ5U3RyaW5nOiBmdW5jdGlvbihxdWVyeVN0cmluZykge1xuXHRcdCAgICAgICAgdmFyIHBhaXJzID0gcXVlcnlTdHJpbmcuc3BsaXQoXCImXCIpLCBxdWVyeVBhcmFtcyA9IHt9O1xuXHRcdCAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuXHRcdCAgICAgICAgICB2YXIgcGFpciAgICAgID0gcGFpcnNbaV0uc3BsaXQoJz0nKSxcblx0XHQgICAgICAgICAgICAgIGtleSAgICAgICA9ICQkcm91dGUkcmVjb2duaXplciQkZGVjb2RlUXVlcnlQYXJhbVBhcnQocGFpclswXSksXG5cdFx0ICAgICAgICAgICAgICBrZXlMZW5ndGggPSBrZXkubGVuZ3RoLFxuXHRcdCAgICAgICAgICAgICAgaXNBcnJheSA9IGZhbHNlLFxuXHRcdCAgICAgICAgICAgICAgdmFsdWU7XG5cdFx0ICAgICAgICAgIGlmIChwYWlyLmxlbmd0aCA9PT0gMSkge1xuXHRcdCAgICAgICAgICAgIHZhbHVlID0gJ3RydWUnO1xuXHRcdCAgICAgICAgICB9IGVsc2Uge1xuXHRcdCAgICAgICAgICAgIC8vSGFuZGxlIGFycmF5c1xuXHRcdCAgICAgICAgICAgIGlmIChrZXlMZW5ndGggPiAyICYmIGtleS5zbGljZShrZXlMZW5ndGggLTIpID09PSAnW10nKSB7XG5cdFx0ICAgICAgICAgICAgICBpc0FycmF5ID0gdHJ1ZTtcblx0XHQgICAgICAgICAgICAgIGtleSA9IGtleS5zbGljZSgwLCBrZXlMZW5ndGggLSAyKTtcblx0XHQgICAgICAgICAgICAgIGlmKCFxdWVyeVBhcmFtc1trZXldKSB7XG5cdFx0ICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1zW2tleV0gPSBbXTtcblx0XHQgICAgICAgICAgICAgIH1cblx0XHQgICAgICAgICAgICB9XG5cdFx0ICAgICAgICAgICAgdmFsdWUgPSBwYWlyWzFdID8gJCRyb3V0ZSRyZWNvZ25pemVyJCRkZWNvZGVRdWVyeVBhcmFtUGFydChwYWlyWzFdKSA6ICcnO1xuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICAgIGlmIChpc0FycmF5KSB7XG5cdFx0ICAgICAgICAgICAgcXVlcnlQYXJhbXNba2V5XS5wdXNoKHZhbHVlKTtcblx0XHQgICAgICAgICAgfSBlbHNlIHtcblx0XHQgICAgICAgICAgICBxdWVyeVBhcmFtc1trZXldID0gdmFsdWU7XG5cdFx0ICAgICAgICAgIH1cblx0XHQgICAgICAgIH1cblx0XHQgICAgICAgIHJldHVybiBxdWVyeVBhcmFtcztcblx0XHQgICAgICB9LFxuXHRcdFxuXHRcdCAgICAgIHJlY29nbml6ZTogZnVuY3Rpb24ocGF0aCkge1xuXHRcdCAgICAgICAgdmFyIHN0YXRlcyA9IFsgdGhpcy5yb290U3RhdGUgXSxcblx0XHQgICAgICAgICAgICBwYXRoTGVuLCBpLCBsLCBxdWVyeVN0YXJ0LCBxdWVyeVBhcmFtcyA9IHt9LFxuXHRcdCAgICAgICAgICAgIGlzU2xhc2hEcm9wcGVkID0gZmFsc2U7XG5cdFx0XG5cdFx0ICAgICAgICBxdWVyeVN0YXJ0ID0gcGF0aC5pbmRleE9mKCc/Jyk7XG5cdFx0ICAgICAgICBpZiAocXVlcnlTdGFydCAhPT0gLTEpIHtcblx0XHQgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gcGF0aC5zdWJzdHIocXVlcnlTdGFydCArIDEsIHBhdGgubGVuZ3RoKTtcblx0XHQgICAgICAgICAgcGF0aCA9IHBhdGguc3Vic3RyKDAsIHF1ZXJ5U3RhcnQpO1xuXHRcdCAgICAgICAgICBxdWVyeVBhcmFtcyA9IHRoaXMucGFyc2VRdWVyeVN0cmluZyhxdWVyeVN0cmluZyk7XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICBwYXRoID0gZGVjb2RlVVJJKHBhdGgpO1xuXHRcdFxuXHRcdCAgICAgICAgaWYgKHBhdGguY2hhckF0KDApICE9PSBcIi9cIikgeyBwYXRoID0gXCIvXCIgKyBwYXRoOyB9XG5cdFx0XG5cdFx0ICAgICAgICBwYXRoTGVuID0gcGF0aC5sZW5ndGg7XG5cdFx0ICAgICAgICBpZiAocGF0aExlbiA+IDEgJiYgcGF0aC5jaGFyQXQocGF0aExlbiAtIDEpID09PSBcIi9cIikge1xuXHRcdCAgICAgICAgICBwYXRoID0gcGF0aC5zdWJzdHIoMCwgcGF0aExlbiAtIDEpO1xuXHRcdCAgICAgICAgICBpc1NsYXNoRHJvcHBlZCA9IHRydWU7XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICBmb3IgKGk9MDsgaTxwYXRoLmxlbmd0aDsgaSsrKSB7XG5cdFx0ICAgICAgICAgIHN0YXRlcyA9ICQkcm91dGUkcmVjb2duaXplciQkcmVjb2duaXplQ2hhcihzdGF0ZXMsIHBhdGguY2hhckF0KGkpKTtcblx0XHQgICAgICAgICAgaWYgKCFzdGF0ZXMubGVuZ3RoKSB7IGJyZWFrOyB9XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICB2YXIgc29sdXRpb25zID0gW107XG5cdFx0ICAgICAgICBmb3IgKGk9MDsgaTxzdGF0ZXMubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgICAgICAgaWYgKHN0YXRlc1tpXS5oYW5kbGVycykgeyBzb2x1dGlvbnMucHVzaChzdGF0ZXNbaV0pOyB9XG5cdFx0ICAgICAgICB9XG5cdFx0XG5cdFx0ICAgICAgICBzdGF0ZXMgPSAkJHJvdXRlJHJlY29nbml6ZXIkJHNvcnRTb2x1dGlvbnMoc29sdXRpb25zKTtcblx0XHRcblx0XHQgICAgICAgIHZhciBzdGF0ZSA9IHNvbHV0aW9uc1swXTtcblx0XHRcblx0XHQgICAgICAgIGlmIChzdGF0ZSAmJiBzdGF0ZS5oYW5kbGVycykge1xuXHRcdCAgICAgICAgICAvLyBpZiBhIHRyYWlsaW5nIHNsYXNoIHdhcyBkcm9wcGVkIGFuZCBhIHN0YXIgc2VnbWVudCBpcyB0aGUgbGFzdCBzZWdtZW50XG5cdFx0ICAgICAgICAgIC8vIHNwZWNpZmllZCwgcHV0IHRoZSB0cmFpbGluZyBzbGFzaCBiYWNrXG5cdFx0ICAgICAgICAgIGlmIChpc1NsYXNoRHJvcHBlZCAmJiBzdGF0ZS5yZWdleC5zb3VyY2Uuc2xpY2UoLTUpID09PSBcIiguKykkXCIpIHtcblx0XHQgICAgICAgICAgICBwYXRoID0gcGF0aCArIFwiL1wiO1xuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICAgIHJldHVybiAkJHJvdXRlJHJlY29nbml6ZXIkJGZpbmRIYW5kbGVyKHN0YXRlLCBwYXRoLCBxdWVyeVBhcmFtcyk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgfVxuXHRcdCAgICB9O1xuXHRcdFxuXHRcdCAgICAkJHJvdXRlJHJlY29nbml6ZXIkJFJvdXRlUmVjb2duaXplci5wcm90b3R5cGUubWFwID0gJCRyb3V0ZSRyZWNvZ25pemVyJGRzbCQkZGVmYXVsdDtcblx0XHRcblx0XHQgICAgJCRyb3V0ZSRyZWNvZ25pemVyJCRSb3V0ZVJlY29nbml6ZXIuVkVSU0lPTiA9ICcwLjEuMTEnO1xuXHRcdFxuXHRcdCAgICB2YXIgJCRyb3V0ZSRyZWNvZ25pemVyJCRkZWZhdWx0ID0gJCRyb3V0ZSRyZWNvZ25pemVyJCRSb3V0ZVJlY29nbml6ZXI7XG5cdFx0XG5cdFx0ICAgIC8qIGdsb2JhbCBkZWZpbmU6dHJ1ZSBtb2R1bGU6dHJ1ZSB3aW5kb3c6IHRydWUgKi9cblx0XHQgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gJ2Z1bmN0aW9uJyAmJiBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpWydhbWQnXSkge1xuXHRcdCAgICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbigpIHsgcmV0dXJuICQkcm91dGUkcmVjb2duaXplciQkZGVmYXVsdDsgfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18sIGV4cG9ydHMsIG1vZHVsZSksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0XHQgICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGVbJ2V4cG9ydHMnXSkge1xuXHRcdCAgICAgIG1vZHVsZVsnZXhwb3J0cyddID0gJCRyb3V0ZSRyZWNvZ25pemVyJCRkZWZhdWx0O1xuXHRcdCAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzICE9PSAndW5kZWZpbmVkJykge1xuXHRcdCAgICAgIHRoaXNbJ1JvdXRlUmVjb2duaXplciddID0gJCRyb3V0ZSRyZWNvZ25pemVyJCRkZWZhdWx0O1xuXHRcdCAgICB9XG5cdFx0fSkuY2FsbCh0aGlzKTtcblx0XHRcblx0XHQvLyMgc291cmNlTWFwcGluZ1VSTD1yb3V0ZS1yZWNvZ25pemVyLmpzLm1hcFxuXHRcdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKG1vZHVsZSkpKVxuXHRcblx0LyoqKi8gfSxcblx0LyogMiAqL1xuXHQvKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblx0XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcclxuXHRcdFx0aWYoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcclxuXHRcdFx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcclxuXHRcdFx0XHRtb2R1bGUucGF0aHMgPSBbXTtcclxuXHRcdFx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcclxuXHRcdFx0XHRtb2R1bGUuY2hpbGRyZW4gPSBbXTtcclxuXHRcdFx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gbW9kdWxlO1xyXG5cdFx0fVxyXG5cdFxuXHRcblx0LyoqKi8gfSxcblx0LyogMyAqL1xuXHQvKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblx0XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiZGVmaW5lIGNhbm5vdCBiZSB1c2VkIGluZGlyZWN0XCIpOyB9O1xyXG5cdFxuXHRcblx0LyoqKi8gfVxuXHQvKioqKioqLyBdKVxuXHR9KTtcblx0O1xuXHQvLyMgc291cmNlTWFwcGluZ1VSTD1yb3V0ZXIuanMubWFwXG5cbi8qKiovIH1cbi8qKioqKiovIF0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG93ZXJiaS5qcy5tYXAiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
